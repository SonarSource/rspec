<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Specifying the parameters to a procedure with a <code>PLIST</code> makes that procedure unusable from free-format code. Instead, prototypes should be used - both when defining a procedure and when calling it. They have the additional benefit of allowing you to use keywords such as <code>Const</code> to better-specify how parameters are passed to a procedure. Further, the use of a prototype instead of a <code>PLIST</code> is cleaner and  more consistent with the code required for subprocedures.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-rpg" data-lang="rpg">      * Noncompliant; PLIST specified
     C     *ENTRY        PLIST
     C                   PARM                    ZipCode           5 0
     C                   PARM                    City             20
...
      * Noncompliant; PLIST used in call
     C                   CALL      'OTHERPROG'
     C                   PARM                    ZipCode
     C                   PARM                    City</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-rpg" data-lang="rpg">     D MYPROG          PR
     D  ZipCode                       5I   Const
     D  City                         20A   Const
     D MYPROG          PI
     D  ZipCode                       5I   Const
     D  City                         20A   Const
...
     D OTHERPROG       PR                  ExtPgm('OtherProgram')
     D  ZipCode                       5I   Const
     D  City                         20A   Const
      /free
        OTHERPROG(ZipCode:City);
      /end-free</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Convert this "PLIST" to a prototype</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s1897">is duplicated by: <a data-rspec-id="S1897" class="rspec-auto-link">S1897</a></h3>

</div>
<div class="sect2">
<h3 id="_relates_to_s1897">relates to: <a data-rspec-id="S1897" class="rspec-auto-link">S1897</a></h3>

</div>
<div class="sect2">
<h3 id="_on_29_oct_2014_132117_ann_campbell_wrote">on 29 Oct 2014, 13:21:17 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Assigned to you for validating</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_30_oct_2014_172700_pierre_yves_nicolas_wrote">on 30 Oct 2014, 17:27:00 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>I think that this rule should also be applied to the following code where the PLIST is implicit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>     C                   CALL      'MYPROG'
     C                   PARM                    ZipCode
     C                   PARM                    City</pre>
</div>
</div>
<div class="paragraph">
<p>In such case, the compliant code would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>     D MYPROG          PR                  ExtPgm('MyProgram')
     D  ZipCode                       5I   Const
     D  City                         20A   Const
     ...
      /free
        MYPROG(ZipCode:City);
      /end-free</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_nov_2014_130249_ann_campbell_wrote">on 3 Nov 2014, 13:02:49 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~pierre-yves.nicolas] this looks to me like the calling code, rather than the declaration. Once a sub-proc has been specified with a prototype, do you then have the choice of invoking it with a PLIST?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_nov_2014_132823_pierre_yves_nicolas_wrote">on 3 Nov 2014, 13:28:23 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>My previous comment was about code calling another program. It seems possible to call a program with a PLIST even if the main procedure of that program is defined with a prototype. I was able to compile and execute something like that.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_nov_2014_134402_ann_campbell_wrote">on 4 Nov 2014, 13:44:02 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~pierre-yves.nicolas], your code samples incorporated (I hope) correctly &amp; minor wording change made in description. See what you think now.</p>
</div>
<div class="paragraph">
<p>BTW, I 'edited' your comment to be able to copy the code samples, but no actual changes made.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_nov_2014_142119_pierre_yves_nicolas_wrote">on 4 Nov 2014, 14:21:19 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>In the second case example code which I provided, the compliant solution has to be understood as a whole: the call to MYPROG in free form uses the prototype which is defined in the D specs. However, in the new version of the rule compliant solution, the comment line "* or in free-format:" seems to indicate that the lines just above and the lines just after are alternatives.</p>
</div>
<div class="paragraph">
<p>Moreover, in that new version of the compliant solution, the prototype (D specs containing "PR") for "MYPROG" is defined twice.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_nov_2014_155021_ann_campbell_wrote">on 4 Nov 2014, 15:50:21 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~pierre-yves.nicolas], clearly I&#8217;m confused. Would you correct the code samples, please?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_nov_2014_161053_pierre_yves_nicolas_wrote">on 4 Nov 2014, 16:10:53 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>I think the examples make more sense now.</p>
</div>
</div>
</div>
</div>