== Why is this an issue?

include::../description.adoc[]

However, it is acceptable to have nested code blocks when using ES6 `let` or `const` keywords, a class declaration, or a function declaration (in strict mode).
These scenarios create a new scope, preventing potential variable conflicts.

== How to fix it

The superfluous code blocks should be extracted into separate methods.

=== Code examples

==== Noncompliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
{   // Noncompliant: redundant code block
    var foo = bar();
}

if (condition) {
    doSomething();
    {   // Noncompliant: redundant code block
        doOtherStuff();
    }
}
----

==== Compliant solution

To fix your code remove redundant blocks.

[source,javascript,diff-id=1,diff-type=compliant]
----
var foo = bar();

if (condition) {
    doSomething();
    doOtherStuff();
}
----

=== Pitfalls

The rule does not apply to the following cases:

* Block statements containing variable declarations using `let` or `const` keywords or class declarations are not redundant as they create a new scope.

[source,javascript]
----
{
    let x = 1;
}
----

* The same applies to function declarations in https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode[strict mode]

[source,javascript]
----
"use strict";
{
    function foo() {}
}
----

* The rule also does not apply to the blocks that are part of the https://developer.mozilla.org/en-US/docs/Glossary/Control_flow[control flow].

[source,javascript]
----
if (condition) {
    doSomething();
}
----

== Resources

=== Documentation
* https://en.wikipedia.org/wiki/Single-responsibility_principle[Wikipedia - Single Responsibility Principle]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/block[MDN - block statement]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var[MDN - var]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let[MDN - let]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const[MDN - const]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/class[MDN - class declaration]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function[MDN - function declaration]
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode[MDN - strict mode]