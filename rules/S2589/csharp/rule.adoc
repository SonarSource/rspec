== Why is this an issue?

When an operand of a https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/expressions#1224-boolean-expressions[boolean expression] does not influence the result in a condition, it increases cognitive complexity.

[source,csharp,diff-id=1,diff-type=noncompliant]
----
public void Sample(bool b, bool c)
{
    var a = true;
    if (b && a)     // Noncompliant: "a" is always "true", only "b" will change the expression result
    {
        DoSomething();
    }

    if (c || !a)    // Noncompliant: "!a" is always "false"
    {
        DoSomething();
    }
}
----

Since one of the operands is unnecessary to the condition, the condition should be updated.

[source,csharp,diff-id=1,diff-type=compliant]
----
public void Sample(bool b, bool c)
{
    if (b)          // Compliant
    {
        DoSomething();
    }

    if (c)          // Compliant
    {
        DoSomething();
    }
}
----

This also applies to conditional expression in https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/expressions#1218-conditional-operator[conditional operator]. If one of the operands always evaluates to `null`, the expression should be updated.

[source,csharp,diff-id=2,diff-type=noncompliant]
----
public void Sample()
{
    string d = null;
    var v1 = d ?? "value";  // Noncompliant: "d" is always null
    var v2 = s ?? d;        // Noncompliant: "d" is always null and the produced value is always equal to s.
}
----

[source,csharp,diff-id=2,diff-type=compliant]
----
public void Sample()
{
    var v1 = "value";       // Compliant
    var v2 = s;             // Compliant
}
----

== Resources

=== Documentation

* https://cwe.mitre.org/data/definitions/571[MITRE, CWE-571] - Expression is Always True
* https://cwe.mitre.org/data/definitions/570[MITRE, CWE-570] - Expression is Always False
* https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/expressions#1224-boolean-expressions[Boolean expressions in C#]
* https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/expressions#1218-conditional-operator[Conditional expression with the conditional operator in C#]

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

=== Message

* Change this condition so that it does not always evaluate to "[true|false]".
* Change this expression which always evaluates to "null".


include::../highlighting.adoc[]

'''
== Comments And Links
(visible only on this page)

include::../comments-and-links.adoc[]
endif::env-github,rspecator-view[]
