== Why is this an issue?

An operand of a boolean expression that never changes the result of the expression might not match the programmer's intent and leads to unexpected behavior and potential bugs.
The expression should be updated, and in some cases, the operand can be removed.

[source,csharp,diff-id=1,diff-type=noncompliant]
----
public void Sample(bool b, bool c)
{
    var a = true;
    if (b && a)     // Noncompliant: "a" is always "true" and can be removed
    {
        DoSomething();
    }

    if (c || !a)    // Noncompliant: "!a" is always "false" and can be removed
    {
        DoSomething();
    }
}
----

Since one of the operands is unnecessary to the conditions, the conditions should be updated.

[source,csharp,diff-id=1,diff-type=compliant]
----
public void Sample(bool b, bool c)
{
    if (b)          // Compliant
    {
        DoSomething();
    }

    if (c)          // Compliant
    {
        DoSomething();
    }
}
----

This also applies to conditional expression in https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator[conditional operator]. If one of the operands always evaluates to `null`, the expression should be updated.

[source,csharp,diff-id=2,diff-type=noncompliant]
----
public void Sample(string s)
{
    string d = null;
    var v1 = d ?? "value";  // Noncompliant: "d" is always null and v1 is always "value".
    var v2 = s ?? d;        // Noncompliant: "d" is always null and v2 is always equal to s.
}
----

[source,csharp,diff-id=2,diff-type=compliant]
----
public void Sample(string s)
{
    var v1 = "value";       // Compliant
    var v2 = s;             // Compliant
}
----

== Resources

=== Documentation

* https://cwe.mitre.org/data/definitions/571[MITRE, CWE-571] - Expression is Always True
* https://cwe.mitre.org/data/definitions/570[MITRE, CWE-570] - Expression is Always False
* https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/boolean-logical-operators#conditional-logical-and-operator-[Conditional logical AND operator &&]
* https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/boolean-logical-operators#conditional-logical-or-operator-[Conditional logical OR operator ||]
* https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator[Null-coalescing operators ?? and ??=]

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

=== Message

* Change this condition so that it does not always evaluate to "[true|false]".
* Change this expression which always evaluates to "null".


include::../highlighting.adoc[]

'''
== Comments And Links
(visible only on this page)

include::../comments-and-links.adoc[]
endif::env-github,rspecator-view[]
