<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deprecated language features are those that have been retained temporarily for backward compatibility, but which will eventually be removed from the language. In effect, deprecation announces a grace period to allow the smooth transition from the old features to the new ones. In that period, no use of the deprecated features should be added to the code, and all existing uses should be gradually removed.</p>
</div>
<div class="paragraph">
<p>The following functions were deprecated in PHP 5:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Deprecated</th>
<th class="tableblock halign-center valign-top">Use Instead</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>call_user_method()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>call_user_func()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>call_user_method_array()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>call_user_func_array()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>define_syslog_variables()</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>dl()</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ereg()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>preg_match()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ereg_replace()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>preg_replace()</code> (note that this is deprecated in PHP 5.5)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>eregi()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>preg_match()</code> with 'i' modifier</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>eregi_replace()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>preg_replace()</code> with 'i' modifier</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>set_magic_quotes_runtime()</code> and its alias, <code>magic_quotes_runtime()</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>session_register()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$_SESSION</code> superglobal</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>session_unregister()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$_SESSION</code> superglobal</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>session_is_registered()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$_SESSION</code> superglobal</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>set_socket_blocking()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>stream_set_blocking()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>split()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>preg_split()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>spliti()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>preg_split()</code> with 'i' modifier</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>sql_regcase()</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>mysql_db_query()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>mysql_select_db()</code> and <code>mysql_query()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>mysql_escape_string()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>mysql_real_escape_string()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Passing locale category names as strings</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Use the LC_* family of constants</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following functions were deprecated in PHP 7:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Deprecated</th>
<th class="tableblock halign-center valign-top">Use Instead</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>__autoload()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>spl_autoload_register()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>create_function()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">anonymous function</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>parse_str()</code> without second argument</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>parse_str()</code> with second argument</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>gmp_random()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>gmp_random_bits()</code> or <code>gmp_random_range()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>each()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>foreach</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>assert()</code> with string argument</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Defining case-insensitive constants by calling <code>define()</code> with <code>true</code> as third parameter</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>define("myconst", $value)</code> or <code>define("myconst", $value, false)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>FILTER_FLAG_SCHEME_REQUIRED</code> and <code>FILTER_FLAG_HOST_REQUIRED</code> flags</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>FILTER_VALIDATE_URL</code> flag</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>fgetss()</code> function, <code>"string.strip_tags"</code> stream filter name, <code>SplFileObject::fgetss()</code> method and <code>gzgetss()</code> function</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>mbregex_encoding()</code>, <code>mbereg()</code>, <code>mberegi()</code>, <code>mbereg_replace()</code>, <code>mberegi_replace()</code>, <code>mbsplit()</code>, <code>mbereg_match()</code>, <code>mbereg_search()</code>, <code>mbereg_search_pos()</code>, <code>mbereg_search_regs()</code>, <code>mbereg_search_init()</code>, <code>mbereg_search_getregs()</code>, <code>mbereg_search_getpos()</code>, <code>mbereg_search_setpos()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Use the</p>
<p class="tableblock">    corresponding <code>mb_ereg_*()</code> variants instead</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">string search functions with integer needle (<code>stristr</code>, <code>strrchr</code>, <code>strstr</code>, <code>strripos</code>, <code>stripos</code>, <code>strrpos</code>, <code>strpos</code>, <code>strchr</code>)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">use a string needle instead</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>image2wbmp()</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>imagewbmp()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Normalizer::NONE</code></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Defining an <code>assert()</code> function inside a namespace</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">use the standard <code>assert()</code> function</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.php.net/rfc/deprecations_php_7_3">PHP RFC: Deprecations for PHP 7.3</a></p>
</li>
<li>
<p><a href="https://wiki.php.net/rfc/case_insensitive_constant_deprecation">PHP RFC: Deprecate and Remove Case-Insensitive Constants</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Remove this "xxx" call.</p>
</li>
<li>
<p>Replace this "xxx" call with a call to "yyy".</p>
</li>
<li>
<p>Use the "LC_xxx" constant instead of a string literal.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_19_sep_2014_142545_freddy_mallet_wrote">on 19 Sep 2014, 14:25:45 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I would mention PHP 5 in the title of this rule: "Deprecated functions in PHP 5 should not be used"</p>
</div>
<div class="paragraph">
<p>And would set the default severity to "Major" as there isn&#8217;t any operational risk.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_jul_2015_153028_ann_campbell_wrote">on 27 Jul 2015, 15:30:28 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~linda.martin], I&#8217;ve added a note on <code>ereg_replace()</code>/<code>preg_replace()</code> based on [~alexandre.gigleux]'s comment. Note that I didn&#8217;t do the research to see which later replacement is available in which later versions</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_13_nov_2015_151025_linda_martin_wrote">on 13 Nov 2015, 15:10:25 Linda Martin wrote:</h3>
<div class="paragraph">
<p>OK!</p>
</div>
</div>
</div>
</div>