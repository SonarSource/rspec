<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In object-oriented programming, inappropriately accessing static members of a base class via derived types is considered a code smell.</p>
</div>
<div class="paragraph">
<p>Static members are associated with the class itself, not with any specific instance of the class or its children classes. Accessing through the wrong type suggests a misunderstanding of the ownership and role of this member. This can make the maintenance of the code more complicated.</p>
</div>
<div class="paragraph">
<p>Therefore, the access should be done directly through the base class to maintain clarity and avoid potential misunderstandings.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>This rule doesn&#8217;t raise an issue for constants. If the variable is <code>const</code>, there is no risk of confusion.</p>
</div>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">class Parent {
public:
  static int count;
};

class Child : public Parent {
public:
  Child() {
    Child::count++;  // Noncompliant
  }
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">class Parent {
public:
  static int count;
};

class Child : public Parent {
public:
  Child() {
    Parent::count++;
  }
};</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Do not access "X" with derived type "Y".</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_21_jan_2016_095711_alban_auzeill_wrote">on 21 Jan 2016, 09:57:11 Alban Auzeill wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Given the following C&#43;&#43; example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>class Parent {
  public:
    static int count;
};

typedef Parent ParentAlias1;
typedef Parent ParentAlias2;

class Child : public ParentAlias2 {
  public:
   Child() {
     Child::count++;
   }
};</pre>
</div>
</div>
<div class="paragraph">
<p>I&#8217;m able to identify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the static member name "count"</p>
</li>
<li>
<p>the qualifier that prefix the member "Child"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>But to be able to create the message:</p>
</div>
<div class="paragraph">
<p>{code}Replace "X" with "Y".{code}</p>
</div>
<div class="paragraph">
<p>It&#8217;s sometime ambigus to propose the replacement, in the above example it can be "Parent", "ParentAlias1" or "ParentAlias2".</p>
</div>
<div class="paragraph">
<p>That&#8217;s why I propose a message with only the member name and the qualifier name:</p>
</div>
<div class="paragraph">
<p>{code} Do not access "Z" with derived type "X".{code}</p>
</div>
<div class="paragraph">
<p>In this case it would be:</p>
</div>
<div class="paragraph">
<p>{code} Do not access "count" with derived type "Child".{code}</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_jan_2016_145305_ann_campbell_wrote">on 23 Jan 2016, 14:53:05 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>That&#8217;s fine [~alban.auzeill].</p>
</div>
</div>
<div class="sect2">
<h3 id="_relates_to_s2209">relates to: <a data-rspec-id="S2209" class="rspec-auto-link">S2209</a></h3>

</div>
<div class="sect2">
<h3 id="_on_8_jul_2015_175405_ann_campbell_wrote">on 8 Jul 2015, 17:54:05 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~nicolas.peru] I&#8217;m thinking this is applicable to Java, right?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_113414_tamas_vajk_wrote">on 20 Jul 2015, 11:34:14 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I&#8217;ve modified the description and the sample a bit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_141136_ann_campbell_wrote">on 20 Jul 2015, 14:11:36 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] would it also be acceptable to do this?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  {
    Count++;
  }</pre>
</div>
</div>
<div class="paragraph">
<p>i.e. should we add a version of that as an alternate compliant solution?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_jul_2015_191501_evgeny_mandrikov_wrote">on 21 Jul 2015, 19:15:01 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] [~tamas.vajk] why this is not subtask of <a data-rspec-id="S2209" class="rspec-auto-link">RSPEC-2209</a>? which one should be implemented in C-Family?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_jul_2015_062520_tamas_vajk_wrote">on 22 Jul 2015, 06:25:20 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] yes, you could use <code>Count&#43;&#43;</code>, but we shouldn&#8217;t promote that. And as [~evgeny.mandrikov] pointed out there is a separate rule for that. Note that in C# you couldn&#8217;t write <code>this.Count</code>, or <code>myInstance.Count</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_jul_2015_062745_tamas_vajk_wrote">on 22 Jul 2015, 06:27:45 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov] I don&#8217;t think that we should merge the two RSPECs. <a data-rspec-id="S2209" class="rspec-auto-link">RSPEC-2209</a> says "static" members should be accessed statically. And here we are doing exactly that, but through a derived class.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_jul_2015_070231_evgeny_mandrikov_wrote">on 22 Jul 2015, 07:02:31 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] then why <a data-rspec-id="S2209" class="rspec-auto-link">RSPEC-2209</a> marked as "replaced by" this one?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_jul_2015_071455_nicolas_peru_wrote">on 22 Jul 2015, 07:14:55 Nicolas Peru wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Looks good for java. I let you sort out in which subtask or rspec this should go but principle is ok for me.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_jul_2015_074212_tamas_vajk_wrote">on 22 Jul 2015, 07:42:12 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov] Good question. I haven&#8217;t seen that link. We should probably ask [~freddy.mallet] who linked the two.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_jul_2015_085144_ann_campbell_wrote">on 23 Jul 2015, 08:51:44 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>I&#8217;ve swapped in a 'related' link instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_31_jul_2015_111334_ann_campbell_wrote">on 31 Jul 2015, 11:13:34 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Rejected for C# because already implemented by Visual Studio, Roslyn ID "IDE0001"</p>
</div>
</div>
</div>
</div>