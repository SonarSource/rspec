<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when the first parameter of an instance method is not called "self".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Instance methods, i.e. methods not annotated with <code>@classmethod</code> or <code>@staticmethod</code>, are expected to have at least one parameter. This parameter will reference the object instance on which the method is called. By convention, this first parameter is named "self".</p>
</div>
<div class="paragraph">
<p>Naming the first parameter something different from "self" is not recommended as it could lead to confusion. It might indicate that the "self" parameter was forgotten, in which case calling the method will most probably fail.</p>
</div>
<div class="paragraph">
<p>Note also that creating methods which are used as static methods without the <code>@staticmethod</code> decorator is a bad practice. Calling these methods on an instance will raise a <code>TypeError</code>. Either move the method out of the class or decorate it with <code>@staticmethod</code>.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>This rule will accept "cls" or "mcs" as first parameter&#8217;s name for class and metaclasses methods.</p>
</div>
<div class="paragraph">
<p>No issue will be raised for the following methods: <code>__init_subclass__</code>, <code>__class_getitem__</code> and <code>__new__</code>, as these methods' first parameter is a class.</p>
</div>
<div class="paragraph">
<p>This rule may be parameterized to prevent raising issues on methods decorated with specific decorators. These decorators can be added to this rule&#8217;s <code>ignoredDecorators</code> parameter.</p>
</div>
<div class="paragraph">
<p>For example, with <code>ignoredDecorators</code> set to "myDecorator".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class MyClass(ABC):
    @myDecorator
    def method(arg):  # No issue will be raised.
        pass</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure to have a "self" parameter on instance methods and annotate static methods with the <code>@staticmethod</code> decorator.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class MyClass:
    def send_request(request):  # Noncompliant: the "self" parameter is missing.
        print("send_request")

class ClassWithStaticMethod:
    def static_method(param):  # Noncompliant: the "@staticmethod" decorator is missing.
        print(param)

ClassWithStaticMethod().static_method(42)  # The method is available on the instance but calling it will raise a TypeError.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class MyClass:
    def send_request(self, request):
        print("send_request")

class ClassWithStaticMethod:
    @staticmethod
    def static_method(param):
        print(param)

ClassWithStaticMethod().static_method(42)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Python Documentation - <a href="https://docs.python.org/3.8/tutorial/classes.html#method-objects">Method Objects</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>PEP8 - <a href="https://www.python.org/dev/peps/pep-0008/#function-and-method-arguments">Function and Method Arguments</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Rename XXX to "self" or add the missing "self" parameter.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">ignoredDecorators</div>
<div class="listingblock">
<div class="content">
<pre>abstractmethod</pre>
</div>
</div>
<div class="paragraph">
<p>Comma-separated list of decorators which will disable this rule.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>Instance method&#8217;s first parameter</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_10_mar_2020_175121_nicolas_harraudeau_wrote">on 10 Mar 2020, 17:51:21 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>Exceptions to this rule which are not worth mentioning in the RSPEC:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No issue will be raised on zope.Interface methods</p>
</li>
<li>
<p>No issue will be raised on methods in classes nested in other methods. It is common to name "self" otherwise to avoid the confusion</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>class A:
    def meth(self):
        class B:
            def nested(this): # Ok
                pass</pre>
</div>
</div>
</div>
</div>
</div>