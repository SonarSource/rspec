<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mobile OSes use software keyboards that provide text predictions and suggestions. These keyboards cache text inputs in a local file in order to speed up typing and to recall frequent phrases. When users type sensitive data into a text field where keyboard cache is enabled, the data will be stored in clear-text in a local file. It will keep appearing in the keyboard suggestion list until the cache is cleared.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Keyboard caches are not designed to store sensitive information. Data they contain is not encrypted and can be exposed.
In case a backup is performed, the cache file can be included in the backup, which will lead to the password being leakage.
When device is shared, other user will see the password in the suggestion list.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it_in_jetpack_compose">How to fix it in Jetpack Compose</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">TextField(
    value = text,
    onValueChange = { text = it },
    label = { Text("Password") },
    visualTransformation = PasswordVisualTransformation(),
    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Text) // Noncompliant: keyboard cache is enabled
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">TextField(
    value = text,
    onValueChange = { text = it },
    label = { Text("Password") },
    visualTransformation = PasswordVisualTransformation(),
    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Password)
)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>

</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>OWASP - <a href="https://owasp.org/www-project-mobile-top-10/2023-risks/m8-security-misconfiguration">Mobile Top 10 2024 Category M8 - Security Misconfiguration</a></p>
</li>
<li>
<p>OWASP - <a href="https://owasp.org/www-project-mobile-top-10/2023-risks/m9-insecure-data-storage">Mobile Top 10 2024 Category M9 - Insecure Data Storage</a></p>
</li>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/524">CWE-524 - Use of Cache Containing Sensitive Information</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>If <code>keyboardOptions</code> is set</p>
<div class="ulist">
<ul>
<li>
<p>Set the <code>keyboardType</code> to <code>KeyboardType.Password</code> to disable the keyboard cache</p>
</li>
</ul>
</div>
</li>
<li>
<p>If <code>keyboardOptions</code> is not set,</p>
<div class="ulist">
<ul>
<li>
<p>Set <code>keyboardOptions</code> to disable the keyboard cache</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Main location</p>
<div class="ulist">
<ul>
<li>
<p>If <code>keyboardOptions</code> is set, highlight the <code>keyboardOptions</code> argument value</p>
</li>
<li>
<p>If <code>keyboardOptions</code> is not set, highlight the <code>TextField</code> or <code>OutlinedTextField</code> constructor</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secondary location</p>
<div class="ulist">
<ul>
<li>
<p>Highlight the call to <code>PasswordVisualTransformation</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>