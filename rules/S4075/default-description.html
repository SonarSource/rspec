<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deprecated language features are those that have been retained temporarily for backward compatibility, but which will eventually be removed from the language. In effect, deprecation announces a grace period to allow the smooth transition from the old features to the new ones. In that period, no use of the deprecated features should be added to the code, and all existing uses should be gradually removed.</p>
</div>
<div class="paragraph">
<p>The following features are deprecated or (depending on your version) already removed from TSQL:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Instead of</th>
<th class="tableblock halign-center valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>WRITETEXT</code>, <code>UPDATETEXT</code>, <code>READTEXT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>VARCHAR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>GROUP BY ALL</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>UNION</code> or a derived table</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>FASTFIRSTROW</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>FAST n</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>SETUSER</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>EXECUTE AS</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CREATE RULE</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CHECK</code> constraints</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>PASSWORD</code>, <code>MEDIAPASSWORD</code> in <code>BACKUP</code> or <code>RESTORE</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">use access control on the directory or <code>WITH RESTRICTED_USER</code> for <code>RESTORE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DBCC DBREINDEX</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ALTER INDEX REBUILD</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DBCC INDEXDEFRAG</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ALTER INDEX DEFRAG</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DBCC SHOWCONTIG</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>sys.dm_db_index_physical_stats</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">DBCC CONCURRENCYVIOLATION</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">no replacement</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>SET ROWCOUNT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TOP(n)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>SET REMOTE_PROC_TRANSACTIONS</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">distributed queries that reference linked servers (<code>sp_addlinkedserver</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>RAISERROR @Errno @ErrMsg</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">the <code>RAISERROR</code> syntax using parentheses</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">DROP INDEX with two-part name</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Move table (and database) to an <code>ON</code> clause</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">String literals as column aliases</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Remove the quotes around the alias. Use square brackets if escaping is necessary</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Numbered procedures</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Replace with un-numbered procedures</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">System stored procedure</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">no replacement</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>fn_virtualservernodes</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>sys.dm_os_cluster_nodes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>fn_servershareddrives</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>sys.dm_io_cluster_shared_drives</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>GRANT / DENY / REVOKE ALL</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">List the specific permissions</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TORN_PAGE_DETECTION</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">checksum</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TAPE</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DISK</code> or <code>URL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Table hint without <code>WITH</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>WITH(hint)</code></p></td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this use of xxx.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>the deprecated usage</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_21_jul_2017_164208_pierre_yves_nicolas_wrote">on 21 Jul 2017, 16:42:08 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>SQL Server 2016: https://docs.microsoft.com/en-us/sql/database-engine/deprecated-database-engine-features-in-sql-server-2016</p>
</div>
<div class="paragraph">
<p>SQL Server 2008: https://msdn.microsoft.com/en-us/library/ms143729(SQL.100).aspx</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_jul_2017_174041_pierre_yves_nicolas_wrote">on 21 Jul 2017, 17:40:41 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p><code>SET ROWCOUNT</code> is not deprecated in all cases. <a href="https://docs.microsoft.com/en-us/sql/database-engine/deprecated-database-engine-features-in-sql-server-2016">What&#8217;s deprecated</a> is:</p>
</div>
<div class="paragraph">
<p><em><em>_SET ROWCOUNT for INSERT, UPDATE, and DELETE statements</em>_</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_on_28_jul_2017_173403_alban_auzeill_wrote">on 28 Jul 2017, 17:34:03 Alban Auzeill wrote:</h3>
<div class="paragraph">
<p>|<code>SET ANSI_NULLS/ANSI_PADDING/CONCAT_NULL_YIELDS_NULL</code> |moved to [<a data-rspec-id="S4154" class="rspec-auto-link">RSPEC-4154</a>]|</p>
</div>
<div class="paragraph">
<p>|Three-part and four-part column references|moved to [<a data-rspec-id="S4149" class="rspec-auto-link">RSPEC-4149</a>]|</p>
</div>
<div class="paragraph">
<p>|System table, view|moved to [<a data-rspec-id="S4155" class="rspec-auto-link">RSPEC-4155</a>]|</p>
</div>
</div>
</div>
</div>