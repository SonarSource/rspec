<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a <code>TypeVar</code> is used as a type parameter in a <code>type</code> statement.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prior to Python 3.12, generic type aliases were defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">from typing import TypeAlias, TypeVar

_T = TypeVar("_T")

MyAlias: TypeAlias = set[_T]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Python 3.12 introduced the <code>type</code> statement to facilitate the use of such type aliases,
allowing for less confusing and more concise code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">type MyAlias[T] = set[T]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Python is transitioning away from explicit <code>TypeVar</code> declaration from Python 3.12 onward.
This means that Type alias expressions are not allowed to use <code>TypeVar</code> allocated with an explicit constructor call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">from typing import TypeVar

_T = TypeVar("_T")

type MyAlias[A: str] = dict[A, _T]  # Type checker error would be raise</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is a good practice to use the new syntax only, as it fulfills all the requirements of the <code>TypeVar</code> declaration in a more concise and readable way.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>This rule will only raise an issue when the Python version of the analyzed project is set to 3.12 or higher.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To fix this error use a generic <code>type</code> statement and remove the use of the <code>TypeVar</code>.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">from typing import TypeAlias

_T = TypeVar("_T")

type MyAlias = set[_T]  # Noncompliant: a TypeVar is used as part of the type statement</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">type MyAlias[T] = set[T]  # Compliant: the new type statement syntax is used.</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Python Documentation - <a href="https://docs.python.org/3.12/reference/simple_stmts.html#type">The type statement</a></p>
</li>
<li>
<p>Python 3.12 Release Notes - <a href="https://docs.python.org/3.12/whatsnew/3.12.html#pep-695-type-parameter-syntax">PEP 695: Type Parameter Syntax</a></p>
</li>
<li>
<p>PEP 695 - <a href="https://peps.python.org/pep-0695/">Type Parameter Syntax</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="paragraph">
<p>Use a generic type parameter instead of a <code>TypeVar</code> in this <code>type</code> statement.</p>
</div>
<hr>
</div>
</div>
</div>