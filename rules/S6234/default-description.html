<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>auto</code>Â is a type placeholder that may be used in variable declarations to instruct the compiler to infer the type from the initializer.</p>
</div>
<div class="paragraph">
<p>The use of <code>auto</code> reduces unnecessary boilerplate in situations where the type of the variable is apparent from the context (see rule <a data-rspec-id="S5827" class="rspec-auto-link">S5827</a>). In other situations, though, whether <code>auto</code> increases or decreases readability is a matter of personal taste.</p>
</div>
<div class="paragraph">
<p>In the case of variables initialized from a function that conventionally returns an iterator (e.g., <code>begin</code>, <code>end</code>, <code>std::find</code>), it is clear that the type of the variable is some iterator. Spelling the exact type of the iterator in such a situation does not improve the clarity of the code, especially considering the usual verbosity of such types. The same can be said for functions returning ranges.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue on the declaration of a variable that is initialized with the return value of a function that conventionally returns an iterator when the variable is declared with an explicit type equal to the function&#8217;s return type. The detected functions are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>begin</code> and <code>end</code> functions and their const and reverse variants</p>
</li>
<li>
<p>standard algorithms that return iterators or ranges</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">std::vector&lt;int&gt;::iterator someFunction(std::vector&lt;int&gt;&amp; v);

void f() {
  std::vector&lt;int&gt; v;
  const std::vector&lt;int&gt;&amp; cv = v;

  std::vector&lt;int&gt;::iterator it1 = v.begin(); // Noncompliant
  std::vector&lt;int&gt;::const_iterator it2 = v.cbegin(); // Noncompliant
  std::vector&lt;int&gt;::const_iterator it3 = cv.cbegin(); // Noncompliant
  std::vector&lt;int&gt;::const_iterator it4 = std::begin(cv); // Noncompliant

  std::vector&lt;int&gt;::iterator it5 = std::find(v.begin(), v.end(), 10);  // Noncompliant

   std::map&lt;int, std::string&gt; m;
   if (std::map&lt;int, std::string&gt;::iterator it = m.find(20); it != m.end()) { // Noncompliant
      // do something
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">std::vector&lt;int&gt;::iterator someFunction(std::vector&lt;int&gt;&amp; v);

void f() {
  std::vector&lt;int&gt; v;
  const std::vector&lt;int&gt;&amp; cv = v;

  auto it1 = v.begin();
  auto it2 = v.cbegin();
  auto it3 = cv.cbegin();
  auto it4 = std::begin(cv);

  std::vector&lt;int&gt;::const_iterator it5 = v.begin(); // Compliant, the type is different
  std::vector&lt;int&gt;::iterator it6 = someFunction(10);  // Compliant, the function is not a well-known function returning an iterator

  auto it7 = std::find(v.begin(), v.end(), 10);
  std::vector&lt;int&gt;::iterator it8 = someFunction(10);

   std::map&lt;int, std::string&gt; m;
   if (auto it = m.find(20); it != m.end()) {
      // do something
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S5827" class="rspec-auto-link">S5827</a> - use auto to avoid repetition of types</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s5827">relates to: <a data-rspec-id="S5827" class="rspec-auto-link">S5827</a></h3>

</div>
</div>
</div>