<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a Template object is concatenated directly with a str object using the <code>+</code> operator.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Direct concatenation between Template and str objects is prohibited in Python because it creates ambiguity about how the string should be interpreted.</p>
</div>
<div class="paragraph">
<p>When you concatenate a Template with a str, it&#8217;s unclear whether the str should be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Treated as a static string part of the template</p>
</li>
<li>
<p>Treated as an interpolation value that should be processed dynamically</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This ambiguity can lead to unexpected behavior and makes the code&#8217;s intent unclear. Python&#8217;s PEP 750 specification explicitly prohibits this operation to force developers to be explicit about their intentions.</p>
</div>
<div class="paragraph">
<p>The Template type is designed to clearly separate static string parts from dynamic interpolations, and allowing direct concatenation with str would undermine this design principle.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Direct concatenation of Template and str objects will result in a runtime error, causing the application to fail. Additionally, even if it were allowed, the ambiguous nature of such operations could lead to security vulnerabilities or incorrect string processing, especially in contexts like HTML templating or SQL query construction where the distinction between static and dynamic content is critical.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>If the string should be treated as static text, wrap it in a Template constructor before concatenation.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">name = "World"
template = t"Hello " + name  # Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">name = "World"
template = t"Hello " + Template(name)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>PEP 750 â€“ Template Strings - <a href="https://peps.python.org/pep-0750/">Official specification for Python template strings including concatenation rules</a></p>
</li>
<li>
<p>Template String Concatenation - <a href="https://peps.python.org/pep-0750/#template-string-concatenation">Detailed explanation of template string concatenation behavior and restrictions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>