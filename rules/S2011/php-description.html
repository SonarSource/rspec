<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Global variables are a useful construct, but they should not be abused. Functions can access the global scope either through the <code>global</code> keyword or though the <code>$GLOBALS</code> array, but these practices considerably reduce the function&#8217;s readability and reusability. Instead, the global variable should be passed as a parameter to the function.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">$myGlobalVariable;

function foo()
{
  global $myGlobalVariable; // Noncompliant
  $GLOBALS['myGlobalVariable']; // Noncompliant
  // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">function foo($myStateVariable)
{
  // ...
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Pass this global variable to the function as a parameter rather than accessing it directly.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s2536">relates to: <a data-rspec-id="S2536" class="rspec-auto-link">S2536</a></h3>

</div>
<div class="sect2">
<h3 id="_on_17_sep_2014_103827_freddy_mallet_wrote">on 17 Sep 2014, 10:38:27 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I would have associated this rule to the "Reliability" SQALE characteristic. I&#8217;m using the "Changeability - Data related changeability" mainly when a design flaw may prevent the developer from changing a structure of data.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_8_oct_2014_154604_ann_campbell_wrote">on 8 Oct 2014, 15:46:04 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>This rule should be only about the use of the global keyword. Instead of grabbing value from global scope, fcn should receive it as a parameter</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_8_oct_2014_162330_ann_campbell_wrote">on 8 Oct 2014, 16:23:30 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~linda.martin], see what you think about the rewrite. Also, I&#8217;m not sure brain-overload still applies&#8230;&#8203;? convention?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_oct_2014_072749_linda_martin_wrote">on 9 Oct 2014, 07:27:49 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I just have a small suggestion for the description, WDYT about something like:
"<em>Global variables are a useful construct, but they should not be abused</em>.
A function can access the global scope through the global keyword.This practice considerably reduces the readability of a function. The global variable should be passed as a parameter of the function."</p>
</li>
<li>
<p>About the tag I agree, convention suits well for me.</p>
</li>
<li>
<p>Also, maybe we could the add in this rule the use of $GLOBALS array, see: http://jira.codehaus.org/browse/SONARPHP-131, sorry for realising this only now.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_oct_2014_141912_ann_campbell_wrote">on 9 Oct 2014, 14:19:12 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~linda.martin] all 3 suggestions taken, but you&#8217;ll want to double-check my syntax/usage of $GLOBALS in the noncompliant example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_oct_2014_080254_linda_martin_wrote">on 23 Oct 2014, 08:02:54 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Thanks! Perfect for me.</p>
</div>
</div>
</div>
</div>