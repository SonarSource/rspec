<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Code snippets are useful for adding code examples to javadoc comments. This will help developers to better understand the usage of documented methods. However, sometimes you can have the same code example duplicated in different inline snippets. In this case you can benefit from having an external or a hybrid snippet by extracting the code example into a separate file.</p>
</div>
<div class="paragraph">
<p>If you just want to reuse the content from the file you can simply do it with external snippets. However, if you want to use some additional tags you need to use the hybrid ones.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the default threshold of 3 (the identical snippets should appear at least 3 times to trigger this rule) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/**
 * {@snippet name="snippet1" :            // Noncompliant, this snippet is duplicated
 *public static void main(String... args) {
 *    System.out.println("Hello World!");
 *}}
 */
public void f1() {}

/**
 * {@snippet name="snippet2" :
 *public static void main(String... args) {
 *    System.out.println("Hello World!");  // @highlight substring="out"
 *}}
 */
public void f2() {}


/**
 * {@snippet name="snippet3" :
 *public static void main(String... args) {
 *    System.out.println("Hello World!");  // @highlight substring="System"
 *}}
 */
public void f3() {}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This snippet is external</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/**
 * {@snippet name="snippet1" file="HelloWorld.java"}
 */
public void f1() {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following 2 snippets are hybrid so <code>@highlight</code> can be used here</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/**
 * {@snippet name="snippet2" file="HelloWorld.java":
 * public static void main(String... args) {
 *     System.out.println("Hello World!");  // @highlight substring="out"
 * }}
 */
public void f2() {}

/**
 * {@snippet name="snippet3" file="HelloWorld.java":
 * public static void main(String... args) {
 *     System.out.println("Hello World!");  // @highlight substring="System"
 * }}
 */
public void f3() {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the content of HelloWorld.java is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public static void main(String... args) {
    System.out.println("Hello World!");
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Oracleâ€™s Programmer&#8217;s Guide to Snippets: <a href="https://docs.oracle.com/en/java/javase/18/code-snippet/index.html">https://docs.oracle.com/en/java/javase/18/code-snippet/index.html</a></p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Extract the content of the @snippet to a separate file instead of duplicating it {number} times.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary: @snippet tag of the first occurrence</p>
</li>
<li>
<p>Secondary: @snippet tag of the following occurrences</p>
<div class="ulist">
<ul>
<li>
<p>message: 'Duplication.'</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">threshold</div>
<div class="listingblock">
<div class="content">
<pre>3</pre>
</div>
</div>
<div class="paragraph">
<p>Number of times a literal must be duplicated to trigger an issue</p>
</div>
</div>
</div>
</div>
</div>
</div>