<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when published files contain <code>import</code> declarations that reference unpublished files or <code>devDependencies</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you publish a Node.js package with <code>npm publish</code>, only certain files are included in the published package. Files are considered published if they are included in the <code>"files"</code> field of <code>package.json</code> or not excluded by <code>.npmignore</code>.</p>
</div>
<div class="paragraph">
<p>If published code imports unpublished files or development dependencies (<code>devDependencies</code>), users who install your package will encounter "Module Not Found" errors because these dependencies are not available in the published package.</p>
</div>
<div class="paragraph">
<p>This commonly happens when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Development tools or testing libraries are imported in production code</p>
</li>
<li>
<p>Internal files that aren&#8217;t meant to be published are referenced by published code</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rule helps prevent these runtime errors by catching these problematic imports during development.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Applications using the published package will fail at runtime with "Module Not Found" errors when trying to import the missing dependencies. This can cause complete application failures and poor user experience.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Remove the import of the unpublished module or move the importing file to an unpublished location.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// In a published file
import testHelper from './test/helper.js'; // Noncompliant - test files are typically unpublished
import devTool from 'some-dev-dependency'; // Noncompliant - devDependency not available after publish</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// Remove the problematic imports
// import testHelper from './test/helper.js';
// import devTool from 'some-dev-dependency';

// Or move this file to an unpublished location like test/ folder</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>npm publish documentation - <a href="https://docs.npmjs.com/cli/v11/commands/npm-publish">Official npm documentation on publishing packages</a></p>
</li>
<li>
<p>package.json files field - <a href="https://docs.npmjs.com/cli/v11/configuring-npm/package-json#files">Documentation on controlling which files are included in published packages</a></p>
</li>
<li>
<p>.npmignore documentation - <a href="https://docs.npmjs.com/cli/v11/using-npm/developers#keeping-files-out-of-your-package">How to exclude files from published packages using .npmignore</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>n/no-unpublished-require - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unpublished-require.md">Similar rule for require() statements instead of import declarations</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>