<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the same value on either side of a binary operator is almost always a mistake. In the case of logical operators, it is either a copy/paste error and therefore a bug, or it is simply wasted code, and should be simplified. In the case of bitwise operators and most binary mathematical operators, having the same value on both sides of an operator yields predictable results, and should be simplified.</p>
</div>
<div class="paragraph">
<p>Note that this rule will raise issues on <code>a == a</code> and <code>a != a</code> expressions which are sometime used to detect <code>NaN</code> values. It is recommended to use instead <a href="https://docs.python.org/3/library/math.html#math.isnan"><code>math.isnan</code></a> or an equivalent function. This will improve code readability.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">if a == a: # Noncompliant
    work()

if  a != a: # Noncompliant
    work()

if  a == b and a == b: # Noncompliant
    work()

if a == b or a == b: # Noncompliant
    work()

j = 5 / 5 # Noncompliant
k = 5 - 5 # Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>The following are ignored:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The expression <code>1 &lt;&lt; 1</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S1656" class="rspec-auto-link">S1656</a> - Implements a check on <code>=</code>.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Correct one of the identical sub-expressions on both sides of operator "XXX".</p>
</li>
<li>
<p>Correct one of the identical sub-expressions on both sides of equals.</p>
</li>
<li>
<p>Correct one of the identical argument sub-expressions.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>primary location: right operand</p>
</li>
<li>
<p>secondary location: equivalent left operand</p>
<div class="ulist">
<ul>
<li>
<p>message: "Identical sub-expression."</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s4450">is related to: <a data-rspec-id="S4450" class="rspec-auto-link">S4450</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s2589">is related to: <a data-rspec-id="S2589" class="rspec-auto-link">S2589</a></h3>

</div>
<div class="sect2">
<h3 id="_on_30_sep_2014_105751_evgeny_mandrikov_wrote">on 30 Sep 2014, 10:57:51 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I&#8217;m wondering why not marked with tag "bug" ? in some cases this can be a copy-paste of a complex expression leading to surprising results.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_oct_2014_070248_freddy_mallet_wrote">on 3 Oct 2014, 07:02:48 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>As stated in CERT rule description:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The presence of code that has no effect can indicate logic errors that may result in unexpected behavior and vulnerabilities.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_oct_2014_143738_ann_campbell_wrote">on 3 Oct 2014, 14:37:38 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov], [~freddy.mallet], [~nicolas.peru] I&#8217;ve just changed this rule&#8217;s SQALE function per suggestions from Freddy &amp; marked the implemeting languages outdated</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_mar_2015_093137_linda_martin_wrote">on 11 Mar 2015, 09:31:37 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Assigning it to you for review, I allowed myself to add a specific description for JavaScript.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_mar_2015_113321_ann_campbell_wrote">on 11 Mar 2015, 11:33:21 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~linda.martin] I&#8217;m confused: it looks like the JavaScript subtask is a copy of the Java subtask. There&#8217;s no description text in the JavaScript subtask, but there is an Exceptions section which&#8230;&#8203; is fully appropriate for JavaScript?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_nov_2015_162316_alexis_bietti_wrote">on 9 Nov 2015, 16:23:16 Alexis Bietti wrote:</h3>
<div class="paragraph">
<p>Hi, not sure whether it&#8217;s the right place to report this.</p>
</div>
<div class="paragraph">
<p>I got a false positive in this C&#43;&#43; code fragment with the "&lt;&lt;" operator (bitwise shift)</p>
</div>
<div class="paragraph">
<p>enum Context</p>
</div>
<div class="paragraph">
<p>{</p>
</div>
<div class="literalblock">
<div class="content">
<pre>CREATE_STANDALONE_P = (1 &lt;&lt; 0),</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>MODIFY_STANDALONE_P = (1 &lt;&lt; 1),</pre>
</div>
</div>
<div class="paragraph">
<p>Identical sub-expressions on both sides of operator "&lt;&lt;"</p>
</div>
<div class="paragraph">
<p>Cheers</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_nov_2015_171231_ann_campbell_wrote">on 9 Nov 2015, 17:12:31 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Please contact support through your regular channels [~alexisbietti].</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_nov_2015_172149_alexis_bietti_wrote">on 9 Nov 2015, 17:21:49 Alexis Bietti wrote:</h3>
<div class="paragraph">
<p>OK thanks</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_nov_2015_161522_elena_vilchik_wrote">on 25 Nov 2015, 16:15:22 Elena Vilchik wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Looks like message for this rule is missing verb (http://docs.sonarqube.org/display/DEV/Coding+Rule+Guidelines#CodingRuleGuidelines-Messages)</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_30_nov_2015_164122_ann_campbell_wrote">on 30 Nov 2015, 16:41:22 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Thanks [~elena.vilchik]. Fixed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_16_may_2017_144110_stas_vilchik_wrote">on 16 May 2017, 14:41:10 Stas Vilchik wrote:</h3>
<div class="paragraph">
<p>The specs for JavaScript and TypeScript are identical.</p>
</div>
</div>
</div>
</div>