<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java uses angular brackets (<code>&lt;</code> and <code>&gt;</code>) to provide a specific type (the "type argument") to a generic type.
For instance, <code>List</code> is a generic type, so a list containing strings can be declared with <code>List&lt;String&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Prior to Java 7, the type argument had to be provided explicitly for every occurrence where generics were used.
This often caused redundancy, as the type argument would have to be provided both when a field is declared and initialized.</p>
</div>
<div class="paragraph">
<p>Java 7 introduced the diamond operator (<code>&lt;&gt;</code>) to reduce the code&#8217;s verbosity in some situations.
The type argument between the angular brackets should be omitted if the compiler can infer it.</p>
</div>
<div class="paragraph">
<p>Since the diamond operator was only introduced in Java 7, this rule is automatically disabled when the project&#8217;s <code>sonar.java.source</code> is lower than <code>7</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The type argument should be omitted in the initialization if it is already present in the declaration of a field or variable.</p>
</div>
<div class="paragraph">
<p>For instance, a field with type <code>List&lt;String&gt;</code> can be initialized with <code>ArrayList&lt;&gt;()</code>, as the compiler will infer that <code>ArrayList&lt;String&gt;()</code> is the actually desired call.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;String&gt; strings = new ArrayList&lt;String&gt;();                       // Noncompliant, the compiler can infer the type argument of the constructor invocation
Map&lt;String,List&lt;Integer&gt;&gt; map = new HashMap&lt;String,List&lt;Integer&gt;&gt;();  // Noncompliant, the compiler can also infer complex type arguments</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;String&gt; strings = new ArrayList&lt;&gt;();        // Compliant, the compiler will infer the type argument
Map&lt;String,List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;(); // Compliant, the compiler will infer the type argument</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html">The Java&#8482; Tutorials</a> - Type Inference (Generics)</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Replace the type specification in this constructor call with the diamond operator ("&lt;&gt;"). [(sonar.java.source not set. Assuming 7 or greater.)]</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_17_dec_2014_135504_nicolas_peru_wrote">on 17 Dec 2014, 13:55:04 Nicolas Peru wrote:</h3>
<div class="paragraph">
<p>Fine by me. This rule should probably be implemented only when we have figured a way to activate rules depending on version of java used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_17_dec_2014_144631_ann_campbell_wrote">on 17 Dec 2014, 14:46:31 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~nicolas.peru] I&#8217;ve set it to off by default &amp; tagged it java7 just like some of the other Java 7/8-specific rules. I think this could be implemented now &amp; we trust the user to turn it on only when indicated.</p>
</div>
</div>
</div>
</div>