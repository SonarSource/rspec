<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Method or constructor references are more readable than lambda expressions in many situations, and may therefore be preferred.</p>
</div>
<div class="paragraph">
<p>However, method references are sometimes less concise than lambdas.
In such cases, it might be preferrable to keep the lambda expression for better readability.
Therefore, this rule only raises issues on lambda expressions where the replacement method reference is shorter.</p>
</div>
<div class="paragraph">
<p>This rule is automatically disabled when the project&#8217;s <code>sonar.java.source</code> is lower than <code>8</code>, as lambda expressions were introduced in Java 8.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the called method by its reference instead of wrapping it in a lambda expression.</p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>null</code> checks can be replaced with references to <code>Objects::isNull</code> and <code>Objects::nonNull</code></p>
</li>
<li>
<p>Casts can be replaced with <code>SomeClass.class::cast</code></p>
</li>
<li>
<p><code>instanceof</code> can be replaced with <code>SomeClass.class::isInstance</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class A {
  void process(List&lt;A&gt; list) {
    list.stream()
      .filter(myListValue -&gt; myListValue instanceof B)     // Noncompliant
      .map(listValueToMap -&gt; (B) listValueToMap)           // Noncompliant
      .map(bValueToMap -&gt; bValueToMap.&lt;String&gt;getObject()) // Noncompliant
      .forEach(o -&gt; System.out.println(o));                // Noncompliant
  }
}

class B extends A {
  &lt;T&gt; T getObject() {
    return null;
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class A {
  void process(List&lt;A&gt; list) {
    list.stream()
      .filter(B.class::isInstance)   // Compliant
      .map(B.class::cast)            // Compliant
      .map(B::&lt;String&gt;getObject)     // Compliant
      .forEach(System.out::println); // Compliant
  }
}

class B extends A {
  &lt;T&gt; T getObject() {
    return null;
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html">Method References - The Javaâ„¢ Tutorials</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Replace this lambda with a method reference. [(sonar.java.source not set. Assuming 8 or greater.)]</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_21_nov_2024_164800_alban_auzeill_wrote">on 21 Nov 2024, 16:48:00 Alban Auzeill wrote:</h3>
<div class="paragraph">
<p>[test-code-support-investigation-for-java] Decision for scope: Main &#8594; All.</p>
</div>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s2212">is duplicated by: <a data-rspec-id="S2212" class="rspec-auto-link">S2212</a></h3>

</div>
<div class="sect2">
<h3 id="_on_26_feb_2014_121941_freddy_mallet_wrote">on 26 Feb 2014, 12:19:41 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARJAVA-465</p>
</div>
</div>
</div>
</div>