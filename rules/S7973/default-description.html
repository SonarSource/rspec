<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a method has multiple array or list parameters that are intended to be processed together using the same index.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using multiple parallel arrays as method parameters creates a fragile design that&#8217;s prone to errors and difficult to maintain.</p>
</div>
<div class="paragraph">
<p>When arrays are meant to be processed together using the same index (like <code>addresses[i]</code>, <code>subjects[i]</code>, <code>messages[i]</code>), they become tightly coupled. This coupling creates several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Index synchronization</strong>: All arrays must always have exactly the same number of elements. If one array gets modified independently, the data becomes inconsistent.</p>
</li>
<li>
<p><strong>Runtime errors</strong>: Index mismatches can cause <code>IndexOutOfBoundsException</code> or access wrong data silently.</p>
</li>
<li>
<p><strong>Poor readability</strong>: The relationship between array elements isn&#8217;t obvious from the method signature.</p>
</li>
<li>
<p><strong>Maintenance burden</strong>: Adding new related data requires modifying multiple arrays and all the code that processes them.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This pattern violates the principle of data cohesion - related data should be grouped together in a single structure rather than scattered across multiple collections.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Index mismatches between parallel arrays can cause runtime exceptions or silent data corruption. The tight coupling makes the code fragile and error-prone during maintenance, potentially leading to incorrect data processing in business-critical operations.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create a wrapper class to group related data fields together, then use a single collection of these objects instead of multiple parallel arrays.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public void sendMail(String[] addresses, String[] subjects, String[] messages) {
    for(Integer i = 0; i &lt; addresses.size(); i++) {
        // Process addresses[i], subjects[i], messages[i] // Noncompliant
        Messaging.SingleEmailMessage email = new Messaging.SingleEmailMessage();
        email.setToAddresses(new List&lt;String&gt; { addresses[i] });
        email.setSubject(subjects[i]);
        email.setPlainTextBody(messages[i]);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class EmailData {
    public String address;
    public String subject;
    public String message;

    public EmailData(String address, String subject, String message) {
        this.address = address;
        this.subject = subject;
        this.message = message;
    }
}

public void sendMail(List&lt;EmailData&gt; emails) {
    for(EmailData email : emails) {
        Messaging.SingleEmailMessage message = new Messaging.SingleEmailMessage();
        message.setToAddresses(new List&lt;String&gt; { email.address });
        message.setSubject(email.subject);
        message.setPlainTextBody(email.message);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Apex Developer Guide - Classes - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_classes.htm">Official Salesforce documentation on creating and using Apex classes</a></p>
</li>
<li>
<p>Apex Developer Guide - Collections - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_collections.htm">Guide to working with Lists, Sets, and Maps in Apex</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-1126: Declaration of Variable with Unnecessarily Wide Scope - <a href="https://cwe.mitre.org/data/definitions/1126.html">Related to poor data organization and scope management</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>