<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a generic <code>Error</code> is thrown immediately after an if-statement that performs type checking operations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JavaScript provides specific error types for different kinds of problems. When you&#8217;re checking types and throwing errors based on those checks, using a generic <code>Error</code> is less precise than using <code>TypeError</code>.</p>
</div>
<div class="paragraph">
<p><code>TypeError</code> is the standard JavaScript error type specifically designed for situations where a value is not of the expected type. Using the correct error type makes your code more semantically accurate and helps other developers (and tools) understand what went wrong.</p>
</div>
<div class="paragraph">
<p>When you use <code>TypeError</code> instead of <code>Error</code> for type-related issues, you provide better context about the nature of the problem. This makes debugging easier and follows JavaScript best practices for error handling.</p>
</div>
<div class="paragraph">
<p>The rule recognizes common type checking patterns including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>typeof</code> operator checks</p>
</li>
<li>
<p><code>instanceof</code> operator checks</p>
</li>
<li>
<p>Built-in type checking methods like <code>Array.isArray()</code>, <code>Number.isNaN()</code>, <code>Number.isInteger()</code></p>
</li>
<li>
<p>Type checking methods from popular libraries like Underscore, Lodash, and jQuery</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using generic <code>Error</code> instead of <code>TypeError</code> for type-related issues reduces code clarity and makes debugging more difficult. It also goes against JavaScript conventions and best practices for error handling.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace <code>Error</code> with <code>TypeError</code> when throwing after type checking conditions. The error message can remain the same.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (Array.isArray(foo) === false) {
	throw new Error('Array expected'); // Noncompliant
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (Array.isArray(foo) === false) {
	throw new TypeError('Array expected');
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/prefer-type-error.md">prefer-type-error</a></p>
</li>
<li>
<p>MDN - TypeError - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError">Official documentation for JavaScript TypeError</a></p>
</li>
<li>
<p>MDN - Error Types - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#error_types">Overview of different JavaScript error types and when to use them</a></p>
</li>
<li>
<p>JavaScript Type Checking - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof">Documentation for the typeof operator and type checking in JavaScript</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>ECMAScript 2017 - TypeError - <a href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">ECMAScript specification for TypeError usage</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>