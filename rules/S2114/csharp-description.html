<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Passing a collection as an argument to the collection&#8217;s own method is a code defect. Doing so might either have unexpected side effects or always have the same result.</p>
</div>
<div class="paragraph">
<p>Another case is using set-like operations. For example, using <a href="https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.union">Union</a> between a list and itself will always return the same list.
Conversely, using <a href="https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.except">Except</a> between a list and itself will always return an empty list.</p>
</div>
<div class="paragraph">
<p>Exceptions to this rule are the methods <a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.addrange"><code>AddRange</code></a> and <a href="https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.concat"><code>Concat</code></a>, since the developer
can use them to multiply the list elements or the list itself respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">var list = new List&lt;int&gt;();

list.Union(list);             // Noncompliant: always returns list
list.Intersect(list);         // Noncompliant: always returns list
list.Except(list);            // Noncompliant: always returns empty
list.SequenceEqual(list);     // Noncompliant: always returns true

var set = new HashSet&lt;int&gt;();
set.UnionWith(set);           // Noncompliant: no changes
set.IntersectWith(set);       // Noncompliant: no changes
set.ExceptWith(set);          // Noncompliant: always returns empty
set.SymmetricExceptWith(set); // Noncompliant: always returns empty
set.IsProperSubsetOf(set);    // Noncompliant: always returns false
set.IsProperSupersetOf(set);  // Noncompliant: always returns false
set.IsSubsetOf(set);          // Noncompliant: always returns true
set.IsSupersetOf(set);        // Noncompliant: always returns true
set.Overlaps(set);            // Noncompliant: always returns true
set.SetEquals(set);           // Noncompliant: always returns true

list.AddRange(list);          // Compliant
list.Concat(list);            // Compliant</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/collections">Collections</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Change one instance of '{0}' to a different value; This operation always produces [an empty/the same] collection.</p>
</li>
<li>
<p>Change one instance of '{0}' to a different value; comparing '{0}' to itself always returns [true|false].</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s1847">is duplicated by: <a data-rspec-id="S1847" class="rspec-auto-link">S1847</a></h3>

</div>
<div class="sect2">
<h3 id="_on_10_oct_2014_152828_freddy_mallet_wrote">on 10 Oct 2014, 15:28:28 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Perfect, very valuable rule !</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_oct_2017_152408_elena_vilchik_wrote">on 20 Oct 2017, 15:24:08 Elena Vilchik wrote:</h3>
<div class="paragraph">
<p>Removed TS and JS from target languages as there is no collections methods which accept same collections type as parameter</p>
</div>
</div>
</div>
</div>