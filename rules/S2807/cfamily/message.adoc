Make this a free function, potentially "friend".