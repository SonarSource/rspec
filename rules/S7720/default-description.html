<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a ternary expression used with the spread operator in an array literal has branches with different types (array vs string).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When spreading a ternary expression in an array literal, using different types in the branches can make code harder to understand and maintain.</p>
</div>
<div class="paragraph">
<p>In JavaScript, both arrays and strings are iterable, so they can both be spread into arrays. However, mixing types creates inconsistency that can confuse developers reading the code.</p>
</div>
<div class="paragraph">
<p>For example, <code>&#8230;&#8203;(condition ? [1, 2] : '')</code> works because an empty string spreads to nothing, but it&#8217;s not immediately clear to readers that this is the intended behavior. Using <code>&#8230;&#8203;(condition ? [1, 2] : [])</code> makes the intent much clearer.</p>
</div>
<div class="paragraph">
<p>Consistent typing also makes the code more predictable. If you later need to modify one branch, you won&#8217;t accidentally introduce type-related bugs by forgetting that the other branch expects a different type.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue primarily affects code readability and maintainability. While it doesn&#8217;t cause runtime errors, it can lead to confusion during code reviews and make future modifications more error-prone.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Use consistent types in both branches of the ternary. If one branch returns an array, make sure the other branch also returns an array (use an empty array <code>[]</code> instead of an empty string).</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const array = [
  a,
  ...(foo ? [b, c] : ''), // Noncompliant
];</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const array = [
  a,
  ...(foo ? [b, c] : []),
];</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/consistent-empty-array-spread.md">consistent-empty-array-spread</a></p>
</li>
<li>
<p>MDN - Spread syntax - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">Documentation about the spread operator in JavaScript</a></p>
</li>
<li>
<p>MDN - Conditional (ternary) operator - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">Documentation about ternary expressions in JavaScript</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>