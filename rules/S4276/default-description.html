<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>java.util.function</code> package provides a large array of functional interface definitions for use in lambda expressions and method references. In general it is recommended to use the more specialised form to avoid auto-boxing. For instance <code>IntFunction&lt;Foo&gt;</code> should be preferred over <code>Function&lt;Integer, Foo&gt;</code>.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when any of the following substitution is possible:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Current Interface</th>
<th class="tableblock halign-center valign-top">Preferred Interface</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Integer, R&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IntFunction&lt;R&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Long, R&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongFunction&lt;R&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Double, R&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleFunction&lt;R&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Double,Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleToIntFunction</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Double,Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleToLongFunction</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Long,Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongToDoubleFunction</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;Long,Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongToIntFunction</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;R,Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ToIntFunction&lt;R&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;R,Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ToLongFunction&lt;R&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;R,Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ToDoubleFunction&lt;R&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;T,T&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>UnaryOperator&lt;T&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BiFunction&lt;T,T,T&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BinaryOperator&lt;T&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Consumer&lt;Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IntConsumer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Consumer&lt;Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleConsumer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Consumer&lt;Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongConsumer</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BiConsumer&lt;T,Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ObjIntConsumer&lt;T&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BiConsumer&lt;T,Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ObjLongConsumer&lt;T&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BiConsumer&lt;T,Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>ObjDoubleConsumer&lt;T&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Predicate&lt;Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IntPredicate</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Predicate&lt;Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoublePredicate</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Predicate&lt;Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongPredicate</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Supplier&lt;Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IntSupplier</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Supplier&lt;Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleSupplier</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Supplier&lt;Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongSupplier</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Supplier&lt;Boolean&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BooleanSupplier</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>UnaryOperator&lt;Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IntUnaryOperator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>UnaryOperator&lt;Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleUnaryOperator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>UnaryOperator&lt;Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongUnaryOperator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BinaryOperator&lt;Integer&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IntBinaryOperator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BinaryOperator&lt;Long&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LongBinaryOperator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BinaryOperator&lt;Double&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>DoubleBinaryOperator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Function&lt;T, Boolean&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>Predicate&lt;T&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BiFunction&lt;T,U,Boolean&gt;</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BiPredicate&lt;T,U&gt;</code></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class Foo implements Supplier&lt;Integer&gt; {  // Noncompliant
    @Override
    public Integer get() {
      // ...
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class Foo implements IntSupplier {

  @Override
  public int getAsInt() {
    // ...
  }
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Refactor this code to use the more specialised Functional Interface 'xxxx'</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary: the name of the class to refactor</p>
</li>
<li>
<p>Secondary: the interface to replace in the list of implemented interfaces.</p>
<div class="ulist">
<ul>
<li>
<p>message: 'Replace this interface.'</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_17_oct_2017_100531_tibor_blenessy_wrote">on 17 Oct 2017, 10:05:31 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>There are few more substitutions possible</p>
</div>
<div class="paragraph">
<p>|| Current || Suggestion ||</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;Double,Integer&gt;</code> | <code>DoubleToIntegerFunction</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;Double,Long&gt;</code> | <code>DoubleToLongFunction</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;Long,Double&gt;</code> | <code>LongToDoubleFunction</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;Long,Integer&gt;</code> | <code>LongToIntFunction</code> |</p>
</div>
<div class="paragraph">
<p>|<code>BiConsumer&lt;T,Integer&gt;</code> | <code>ObjIntConsumer</code> |</p>
</div>
<div class="paragraph">
<p>|<code>BiConsumer&lt;T,Long&gt;</code> | <code>ObjLongConsumer</code> |</p>
</div>
<div class="paragraph">
<p>|<code>BiConsumer&lt;T,Double&gt;</code> | <code>ObjDoubleConsumer</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Supplier&lt;Boolean&gt;</code> | <code>BooleanSupplier</code> |</p>
</div>
<div class="paragraph">
<p>|<code>BinaryOperator&lt;Integer&gt;</code> | <code>IntBinaryOperator</code> |</p>
</div>
<div class="paragraph">
<p>|<code>BinaryOperator&lt;Long&gt;</code> | <code>LongBinaryOperator</code> |</p>
</div>
<div class="paragraph">
<p>|<code>BinaryOperator&lt;Double&gt;</code> | <code>DoubleBinaryOperator</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;R,Integer&gt;</code> | <code>ToIntFunction&lt;R&gt;</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;R,Long&gt;</code> | <code>ToLongFunction&lt;R&gt;</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;R,Double&gt;</code> | <code>ToDoubleFunction&lt;R&gt;</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;T,T&gt;</code> | <code>UnaryOperator&lt;T&gt;</code> |</p>
</div>
<div class="paragraph">
<p>|<code>Function&lt;T,T,T&gt;</code> | <code>BinaryOperator&lt;T&gt;</code> |</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_apr_2018_100504_stylianos_agapiou_wrote">on 9 Apr 2018, 10:05:04 Stylianos Agapiou wrote:</h3>
<div class="paragraph">
<p>We drop the substitutions regarding the Optional class, since the rule is about Functional Interfaces and they make the rule much more complicated.</p>
</div>
<div class="paragraph">
<p>We are going to create a new rule to make the underline substitutions possible:</p>
</div>
<div class="paragraph">
<p>|<code>Optional&lt;Integer&gt;</code> | <code>OptionalInt</code>|</p>
</div>
<div class="paragraph">
<p>|<code>Optional&lt;Long&gt;</code> | <code>OptionalLong</code>|</p>
</div>
<div class="paragraph">
<p>|<code>Optional&lt;Double&gt;</code> | <code>OptionalDouble</code>|</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_jul_2018_173428_tibor_blenessy_wrote">on 11 Jul 2018, 17:34:28 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>\[~stylianos.agapiou] Did you create RSPEC for the new rule about <code>Optional</code>? If not, can you start a discussion about this rule? If yes, can you link the new rule here?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_12_jul_2018_092909_stylianos_agapiou_wrote">on 12 Jul 2018, 09:29:09 Stylianos Agapiou wrote:</h3>
<div class="paragraph">
<p>\[~tibor.blenessy] No, I didn&#8217;t create an RSPEC for the rule. I will start a discussion about it. Thanks for the notice.</p>
</div>
</div>
</div>
</div>