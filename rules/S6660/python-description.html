<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when performing direct type comparisons instead of using the <code>isinstance()</code> function.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Python, using the <code>isinstance()</code> function is generally preferred over direct type comparison for several reasons:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Compatibility with inheritance:</strong> <code>isinstance()</code> considers inheritance hierarchy, whereas direct type comparison does not. This means that <code>isinstance()</code> can handle cases where an object belongs to a subclass of the specified type, making your code more flexible and robust. It allows you to write code that can work with objects of different but related types.</p>
</li>
<li>
<p><strong>Support for duck typing:</strong> Python follows the principle of "duck typing," which focuses on an object&#8217;s behavior rather than its actual type. <code>isinstance()</code> enables you to check if an object has certain behavior (by checking if it belongs to a particular class or subclass) rather than strictly requiring a specific type. This promotes code reusability and enhances the flexibility of your programs.</p>
</li>
<li>
<p><strong>Code maintainability and extensibility:</strong> By using <code>isinstance()</code>, your code becomes more maintainable and extensible. If you directly compare types, you would need to modify your code whenever a new subtype is introduced or the inheritance hierarchy is changed. On the other hand, <code>isinstance()</code> allows your code to accommodate new types without requiring any modifications, as long as they exhibit the desired behavior.</p>
</li>
<li>
<p><strong>Polymorphism and interface-based programming:</strong> <code>isinstance()</code> supports polymorphism, which is the ability of different objects to respond to the same method calls. It allows you to design code that interacts with objects based on their shared interface rather than their specific types. This promotes code reuse and modularity, as you can write functions and methods that operate on a range of compatible objects.</p>
</li>
<li>
<p><strong>Third-party library compatibility:</strong> Many third-party libraries and frameworks in Python rely on <code>isinstance()</code> for type checking and handling different types of objects. By using <code>isinstance()</code>, your code becomes more compatible with these libraries and frameworks, making it easier to integrate your code into larger projects or collaborate with other developers.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In summary, using <code>isinstance()</code> over direct type comparison in Python promotes flexibility, code reusability, maintainability, extensibility, and compatibility with the wider Python ecosystem. It aligns with the principles of object-oriented programming and supports the dynamic nature of Python. It is also recommended by the <a href="https://peps.python.org/pep-0008/">PEP8</a> style guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the <code>isinstance()</code> function instead of performing direct type comparisons.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class MyClass:
  ...

def foo(a):
  if type(a) == MyClass: # Noncompliant
    ...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class MyClass:
  ...

def foo(a):
  if isinstance(a, MyClass):
    ...</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Python Documentation - <a href="https://docs.python.org/3/library/functions.html#isinstance">isInstance() function</a></p>
</li>
<li>
<p>Style Guide for Python Code - <a href="https://peps.python.org/pep-0008/">PEP8</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Use the <code>isinstance()</code> function here.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>Primary: condition</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
</div>
</div>