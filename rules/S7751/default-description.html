<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when legacy array flattening techniques are used instead of the native <code>Array#flat()</code> method introduced in ES2019.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ES2019 introduced the <code>Array#flat()</code> method as the standard way to flatten arrays. This method is more readable and expressive than legacy techniques.</p>
</div>
<div class="paragraph">
<p>Before <code>Array#flat()</code>, developers used various workarounds to flatten arrays:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using <code>flatMap()</code> with an identity function</p>
</li>
<li>
<p>Using <code>reduce()</code> with <code>concat()</code> or spread operators</p>
</li>
<li>
<p>Using <code>concat()</code> with <code>apply()</code> or spread syntax</p>
</li>
<li>
<p>Using utility library functions like <code>_.flatten()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These legacy approaches have several drawbacks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Less readable</strong>: The intent to flatten an array is not immediately clear</p>
</li>
<li>
<p><strong>More verbose</strong>: They require more code to achieve the same result</p>
</li>
<li>
<p><strong>Inconsistent</strong>: Different patterns are used across codebases</p>
</li>
<li>
<p><strong>Performance</strong>: Some patterns may be less efficient than the native method</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The native <code>Array#flat()</code> method clearly expresses the intent to flatten an array and is the modern standard approach.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using legacy flattening techniques makes code harder to read and maintain. The intent to flatten an array is not immediately obvious, which can slow down code reviews and debugging. Additionally, some legacy patterns may have performance implications compared to the optimized native method.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace <code>flatMap()</code> with identity function with <code>flat()</code>.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const flattened = array.flatMap(x =&gt; x); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const flattened = array.flat();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/prefer-array-flat.md">prefer-array-flat</a></p>
</li>
<li>
<p>MDN - Array.prototype.flat() - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">Official documentation for the Array.flat() method</a></p>
</li>
<li>
<p>ESLint Unicorn - prefer-array-flat - <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/main/docs/rules/prefer-array-flat.md">Original ESLint rule documentation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>ECMAScript 2019 (ES10) - <a href="https://262.ecma-international.org/10.0/#sec-array.prototype.flat">ECMAScript specification for Array.prototype.flat</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>RSPEC-XXXX - <a href="https://rules.sonarsource.com/javascript/RSPEC-XXXX">Prefer Array.flatMap() over legacy techniques</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>