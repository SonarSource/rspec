<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Referenced packages should be listed as dependencies in <code>pubspec.yaml</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A package import, such as <code>import package:my_package/my_file.dart</code>, requires the <code>my_package</code> package to be readily available in the project during build, for the <code>my_file.dart</code> source to be imported in the current source file.</p>
</div>
<div class="paragraph">
<p>The standard way to ensure this is the case is to add the dependency to <code>my_package</code> in the <code>pubspec.yaml</code> file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>in the <code>dependencies</code> section, if the package is a runtime dependency, that is, the package is referenced from <code>lib</code> or <code>bin</code></p>
</li>
<li>
<p>in the <code>dev_dependencies</code> section, if the package is a development dependency, that is, the package is referenced from other non-production directories, such as <code>test</code>, <code>test_resources</code> etc.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>If the package is not listed as a dependency in <code>pubspec.yaml</code>, the build will only succeed if the package is somehow provided locally at build time.</p>
</div>
<div class="paragraph">
<p>This can not only lead to build failures, but also to unexpected behavior, as the package may not be the same version as the one the code was developed against, since the version is not locked in the <code>pubspec.yaml</code> file and the standard package resolution mechanism of <code>dart pub get</code> is not used to deal with the lifecycle of this dependency.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add the missing package as a dependency in the <code>pubspec.yaml</code> file, to the relevant section (<code>dependencies</code> or <code>dev_dependencies</code>).</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dart" data-lang="dart">import package:my_package/my_file.dart;
// ...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># pubspec.yaml
name: my_project
dependencies:</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-dart" data-lang="dart">import package:my_package/my_file.dart;
// ...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># pubspec.yaml
name: my_project
dependencies:
  my_package: ^1.0.0</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Dart Docs - <a href="https://dart.dev/tools/linter-rules/depend_on_referenced_packages">Dart Linter - depend_on_referenced_packages</a></p>
</li>
<li>
<p>Dart Docs - <a href="https://dart.dev/tools/pub/pubspec">Dart Pubspec</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>The imported package '&lt;packageName&gt;' isn&#8217;t a dependency of the importing package.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>The full import string: e.g. <code>package:my_package/my_file.dart</code> in <code>import package:my_package/my_file.dart</code>.</p>
</div>
</div>
</div>
</div>