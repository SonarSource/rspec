This rule raises an issue when code directly assigns a value to the `exports` variable (e.g., `exports = {}`), except when it's part of a batch assignment with `module.exports`.

== Why is this an issue?

In Node.js, directly assigning to the `exports` variable doesn't work as expected. The `exports` variable is initially a reference to `module.exports`, but reassigning it breaks this connection.

When you write `exports = { foo: 1 }`, you're creating a new local variable that shadows the original `exports` reference. The module system still uses `module.exports` for the actual export, so your assignment has no effect.

This is a common source of confusion for developers new to Node.js module system, leading to modules that appear to export nothing despite having assignment code.

=== What is the potential impact?

Code that uses direct assignment to `exports` will not export the intended values, leading to runtime errors when other modules try to import and use the expected functionality. This can cause application failures and make debugging difficult since the code appears correct at first glance.

=== How to fix?


Use property assignment to `exports` or assign to `module.exports` directly. For batch assignments, ensure both `module.exports` and `exports` are assigned in the same statement.

==== Non-compliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
// This assignment doesn't work - the object is not exported
exports = { // Noncompliant
    foo: 1,
    bar: 2
}
----

==== Compliant code example

[source,javascript,diff-id=1,diff-type=compliant]
----
// Use property assignments
exports.foo = 1
exports.bar = 2

// Or assign to module.exports directly
module.exports = {
    foo: 1,
    bar: 2
}

// Batch assignment is allowed
module.exports = exports = {
    foo: 1,
    bar: 2
}
----

=== Documentation

 * Node.js Modules Documentation - https://nodejs.org/api/modules.html#modules_exports_shortcut[Official Node.js documentation explaining the relationship between exports and module.exports]
 * CommonJS Module Definition - https://wiki.commonjs.org/wiki/Modules/1.1[CommonJS specification that defines the module system used by Node.js]

=== Related Rules

 * n/exports-style - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/exports-style.md[Enforces consistent style for module exports]

