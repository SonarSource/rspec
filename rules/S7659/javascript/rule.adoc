This rule raises an issue when code directly assigns a value to the `exports` variable (e.g., `exports = {}`), except when it's part of a batch assignment that also assigns to `module.exports`.

== Why is this an issue?

In Node.js, the `exports` variable is a reference to `module.exports`. When you directly assign a new value to `exports` (like `exports = {foo: 1}`), you're breaking this reference and creating a new local variable instead of modifying the module's actual exports.

This means your assigned object won't be exported from the module, leading to unexpected behavior where other modules importing this one won't receive the intended exports. The correct approach is to either assign properties to `exports` (like `exports.foo = 1`) or assign to `module.exports` directly.

The rule does allow batch assignments like `module.exports = exports = {}` because these patterns ensure that both references point to the same object, maintaining the expected export behavior.

=== What is the potential impact?

Code that directly assigns to `exports` will not export the intended values, causing modules to export an empty object or undefined values. This can lead to runtime errors in dependent modules that expect certain exports to be available, potentially breaking application functionality.

=== How to fix?


Instead of directly assigning to `exports`, assign properties to it or use `module.exports` for object assignment.

==== Non-compliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
// This assigned object is not exported
exports = {
    foo: 1
} // Noncompliant
----

==== Compliant code example

[source,javascript,diff-id=1,diff-type=compliant]
----
// Assign properties to exports
exports.foo = 1

// Or use module.exports for object assignment
module.exports = {
    foo: 1
}

// Batch assignment is also allowed
module.exports = exports = {
    foo: 1
}
----

=== Documentation

 * Node.js Modules Documentation - https://nodejs.org/api/modules.html#modules_exports_shortcut[Official Node.js documentation explaining the relationship between exports and module.exports]
 * CommonJS Module Definition - https://nodejs.org/api/modules.html#modules_the_module_object[Documentation about the module object and how exports work in CommonJS]

=== Related Rules

 * n/exports-style - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/exports-style.md[ESLint rule that enforces consistent style for module exports]

