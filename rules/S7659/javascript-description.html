<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when code directly assigns a value to the <code>exports</code> variable (e.g., <code>exports = {}</code>), except when it&#8217;s part of a batch assignment with <code>module.exports</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Node.js, directly assigning to the <code>exports</code> variable doesn&#8217;t work as expected. The <code>exports</code> variable is initially a reference to <code>module.exports</code>, but reassigning it breaks this connection.</p>
</div>
<div class="paragraph">
<p>When you write <code>exports = { foo: 1 }</code>, you&#8217;re creating a new local variable that shadows the original <code>exports</code> reference. The module system still uses <code>module.exports</code> for the actual export, so your assignment has no effect.</p>
</div>
<div class="paragraph">
<p>This is a common source of confusion for developers new to Node.js module system, leading to modules that appear to export nothing despite having assignment code.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Code that uses direct assignment to <code>exports</code> will not export the intended values, leading to runtime errors when other modules try to import and use the expected functionality. This can cause application failures and make debugging difficult since the code appears correct at first glance.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Use property assignment to <code>exports</code> or assign to <code>module.exports</code> directly. For batch assignments, ensure both <code>module.exports</code> and <code>exports</code> are assigned in the same statement.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// This assignment doesn't work - the object is not exported
exports = { // Noncompliant
    foo: 1,
    bar: 2
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// Use property assignments
exports.foo = 1
exports.bar = 2

// Or assign to module.exports directly
module.exports = {
    foo: 1,
    bar: 2
}

// Batch assignment is allowed
module.exports = exports = {
    foo: 1,
    bar: 2
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Node.js Modules Documentation - <a href="https://nodejs.org/api/modules.html#modules_exports_shortcut">Official Node.js documentation explaining the relationship between exports and module.exports</a></p>
</li>
<li>
<p>CommonJS Module Definition - <a href="https://wiki.commonjs.org/wiki/Modules/1.1">CommonJS specification that defines the module system used by Node.js</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>n/exports-style - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/exports-style.md">Enforces consistent style for module exports</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>