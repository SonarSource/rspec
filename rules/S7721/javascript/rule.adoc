This is an issue when a function is defined in a nested scope but doesn't use any variables from that scope, meaning it could be moved to a higher scope.

== Why is this an issue?

When functions are defined in nested scopes unnecessarily, it creates several problems:

**Performance Impact**: Functions defined inside other functions are recreated every time the outer function runs. This wastes memory and processing time, especially in frequently called code.

**Engine Optimization**: JavaScript engines like V8 have optimization limits. Functions in nested scopes are harder to optimize, which can slow down your application.

**Code Readability**: Functions at higher scopes are easier to find and understand. When a function doesn't depend on its surrounding context, placing it at the top level makes the code structure clearer.

**Memory Usage**: Each function instance takes up memory. Creating the same function repeatedly in nested scopes increases memory consumption unnecessarily.

The rule identifies functions that capture no variables from their enclosing scope, meaning they can be safely moved to a higher level without changing their behavior.

=== What is the potential impact?

Moving functions to appropriate scopes improves application performance by reducing function recreation overhead and enabling better JavaScript engine optimizations. It also enhances code maintainability by making function dependencies clearer and reducing memory usage in frequently executed code paths.

=== How to fix?


Move the function declaration to the module level when it doesn't capture any variables from the enclosing scope.

==== Non-compliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
export function doFoo(foo) {
	// Does not capture anything from the scope
	function doBar(bar) { // Noncompliant
		return bar === 'bar';
	}

	return doBar;
}
----

==== Compliant code example

[source,javascript,diff-id=1,diff-type=compliant]
----
function doBar(bar) {
	return bar === 'bar';
}

export function doFoo(foo) {
	return doBar;
}
----

=== Documentation

* https://github.com/sindresorhus/eslint-plugin-unicorn#readme[eslint-plugin-unicorn] - Rule https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/consistent-function-scoping.md[consistent-function-scoping]
 * JavaScript Function Hoisting - https://developer.mozilla.org/en-US/docs/Glossary/Hoisting[MDN documentation on JavaScript hoisting behavior]
 * JavaScript Performance Best Practices - https://developer.mozilla.org/en-US/docs/Web/Performance/JavaScript_performance_best_practices[MDN guide on optimizing JavaScript performance]
 * V8 JavaScript Engine Optimization - https://v8.dev/docs/optimize[Official V8 documentation on JavaScript optimization]

=== Standards

 * ESLint: prefer-const - https://eslint.org/docs/latest/rules/prefer-const[Related ESLint rule for variable declaration optimization]

