<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an issue when a function is defined in a nested scope but doesn&#8217;t use any variables from that scope, meaning it could be moved to a higher scope.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When functions are defined in nested scopes unnecessarily, it creates several problems:</p>
</div>
<div class="paragraph">
<p><strong>Performance Impact</strong>: Functions defined inside other functions are recreated every time the outer function runs. This wastes memory and processing time, especially in frequently called code.</p>
</div>
<div class="paragraph">
<p><strong>Engine Optimization</strong>: JavaScript engines like V8 have optimization limits. Functions in nested scopes are harder to optimize, which can slow down your application.</p>
</div>
<div class="paragraph">
<p><strong>Code Readability</strong>: Functions at higher scopes are easier to find and understand. When a function doesn&#8217;t depend on its surrounding context, placing it at the top level makes the code structure clearer.</p>
</div>
<div class="paragraph">
<p><strong>Memory Usage</strong>: Each function instance takes up memory. Creating the same function repeatedly in nested scopes increases memory consumption unnecessarily.</p>
</div>
<div class="paragraph">
<p>The rule identifies functions that capture no variables from their enclosing scope, meaning they can be safely moved to a higher level without changing their behavior.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Moving functions to appropriate scopes improves application performance by reducing function recreation overhead and enabling better JavaScript engine optimizations. It also enhances code maintainability by making function dependencies clearer and reducing memory usage in frequently executed code paths.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Move the function declaration to the module level when it doesn&#8217;t capture any variables from the enclosing scope.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">export function doFoo(foo) {
	// Does not capture anything from the scope
	function doBar(bar) { // Noncompliant
		return bar === 'bar';
	}

	return doBar;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function doBar(bar) {
	return bar === 'bar';
}

export function doFoo(foo) {
	return doBar;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/consistent-function-scoping.md">consistent-function-scoping</a></p>
</li>
<li>
<p>JavaScript Function Hoisting - <a href="https://developer.mozilla.org/en-US/docs/Glossary/Hoisting">MDN documentation on JavaScript hoisting behavior</a></p>
</li>
<li>
<p>JavaScript Performance Best Practices - <a href="https://developer.mozilla.org/en-US/docs/Web/Performance/JavaScript_performance_best_practices">MDN guide on optimizing JavaScript performance</a></p>
</li>
<li>
<p>V8 JavaScript Engine Optimization - <a href="https://v8.dev/docs/optimize">Official V8 documentation on JavaScript optimization</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>ESLint: prefer-const - <a href="https://eslint.org/docs/latest/rules/prefer-const">Related ESLint rule for variable declaration optimization</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>