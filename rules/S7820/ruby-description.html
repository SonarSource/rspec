<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when <code>count</code> is called without arguments on arrays, hashes, or other collections to determine the total number of elements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using <code>count</code> without arguments on collections creates unnecessary overhead and unclear intent. The <code>count</code> method is designed for conditional counting with blocks or arguments, not simple element counting.</p>
</div>
<div class="paragraph">
<p>When you call <code>count</code> without parameters, it still goes through the enumeration logic internally, which is less efficient than the direct size calculation provided by <code>size</code> or <code>length</code>. These methods are optimized for simple element counting and directly return the collection&#8217;s size without iteration.</p>
</div>
<div class="paragraph">
<p>Moreover, <code>count</code> semantically implies that some form of filtering or conditional logic is involved. When readers see <code>count</code> in code, they expect to find a block or condition that determines which elements to count. Using <code>count</code> for simple element counting can confuse other developers and make the code less readable.</p>
</div>
<div class="paragraph">
<p>For arrays specifically, <code>size</code> has been available since earlier Ruby versions, providing better backward compatibility than <code>count</code>, which was added later.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using <code>count</code> instead of <code>size</code> or <code>length</code> for simple element counting can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Performance degradation</strong>: Unnecessary enumeration overhead, especially noticeable with large collections</p>
</li>
<li>
<p><strong>Reduced code clarity</strong>: Other developers may waste time looking for conditional logic that doesn&#8217;t exist</p>
</li>
<li>
<p><strong>Compatibility issues</strong>: Potential problems with older Ruby versions where <code>count</code> might not be available on all collection types</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace <code>count</code> with <code>size</code> when determining the total number of elements in arrays or hashes without conditions.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">users = ['alice', 'bob', 'charlie']
total_users = users.count  # Noncompliant

config = { 'host' =&gt; 'localhost', 'port' =&gt; 3000 }
config_size = config.count  # Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">users = ['alice', 'bob', 'charlie']
total_users = users.size  # Clear intent, optimal performance

config = { 'host' =&gt; 'localhost', 'port' =&gt; 3000 }
config_size = config.size  # Clear intent, optimal performance</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Ruby Array Documentation - <a href="https://ruby-doc.org/core/Array.html">Official Ruby documentation for Array methods including size, length, and count</a></p>
</li>
<li>
<p>Ruby Hash Documentation - <a href="https://ruby-doc.org/core/Hash.html">Official Ruby documentation for Hash methods including size and length</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>