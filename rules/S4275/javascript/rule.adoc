== Why is this an issue?

include::../description.adoc[]

This rule supports private properties `#x` as well as public ones `x`.

The following type of getters and setters are supported:

* `getX()` and `setX()`
* `get x()` and `set x()`
* Getters and setters defined in `Object.defineProperty()`

The rule is enforced only if the property with the corresponding name exists, like `x` for `getX()`.

== How to fix it

To Fix this issue, return the corresponding property in getters and assign the parameter value to the corresponding property in setters.

=== Code examples

==== Noncompliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
class A {
  #x: number = 0;
  #y: number = 0;

  get x() { // Noncompliant: field 'x' is not used in the return value
    return this.#y;
  }

  set x(val: number) { // Noncompliant: field 'x' is not updated
    this.#y = val;
  }

  getY() { // Noncompliant: field 'y' is not used in the return value
  }

  setY(val: number) { // Noncompliant: field 'y' is not updated
  }
}
----

==== Compliant solution

[source,javascript,diff-id=1,diff-type=compliant]
----
class A {
  #x: number = 0;
  #y: number = 0;

  get x() {
    return this.#x;
  }

  set x(val: number) {
    this.#x = val;
  }

  getY() {
    return this.#y;
  }

  setY(val: number) {
    this.#y = val;
  }
}
----

Underscore prefixes for fields are supported, so `setX()` can assign a value to `_x`.

==== Noncompliant code example

[source,javascript,diff-id=2,diff-type=noncompliant]
----
const obj = {
  _x: 0,
  _y: 0,
  get x() { // Noncompliant: field '_x' is not used in the return value
    return this._y;
  }
};
----

==== Compliant solution

[source,javascript,diff-id=2,diff-type=compliant]
----
const obj = {
  _x: 0,
  _y: 0,
  get x() {
    return this._x;
  }
};
----

==== Noncompliant code example

[source,javascript,diff-id=3,diff-type=noncompliant]
----
let x = 0;
let y = 0;
Object.defineProperty(o, 'x', {
  get() { // Noncompliant: variable 'x' is not used in the return value
    return y;
  }
});
----

==== Compliant solution

[source,javascript,diff-id=3,diff-type=compliant]
----
let x = 0;
let y = 0;
Object.defineProperty(o, 'x', {
  get() {
    return x;
  }
});
----

== Resources

=== Documentation

- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get[MDN get]
- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set[MDN set]

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

include::../message.adoc[]

include::../highlighting.adoc[]

endif::env-github,rspecator-view[]
