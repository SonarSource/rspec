<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recursion is a powerful tool, but it can be tricky to get right. Getting it wrong can lead to stack overflow errors and cause system problems. Even when you do get it right, recursive code can be difficult to understand, perhaps leading to maintenance problems in the future. Therefore recursion should be avoided in general and used only with due deliberation and caution when it is strictly necessary.</p>
</div>
<div class="paragraph">
<p>This rule checks for direct recursion (when a function calls itself).</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">int pow(int num, int exponent) {
  if (exponent &gt; 1) {
    num = num * pow(num, exponent-1);  // Noncompliant; direct recursion
  }
  return num;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">int pow(int num, int exponent) {
  int val = num;
  while (exponent &gt; 0) {
    val *= num;
    --exponent;
  }
  return val;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C:2004, 16.2 - Functions shall not call themselves, either directly or indirectly.</p>
</li>
<li>
<p>MISRA C&#43;&#43;:2008, 7-5-4 - Functions should not call themselves, either directly or indirectly.</p>
</li>
<li>
<p>MISRA C:2012, 17.2 - Functions shall not call themselves, either directly or indirectly</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Refactor this function to remove the recursion.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_17_sep_2014_102430_freddy_mallet_wrote">on 17 Sep 2014, 10:24:30 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I would associate this rule to the "Reliability" SQALE characteristic and not to the "Efficiency" one because this is the main risk, this rule tries to mitigate. Moreover, I would slightly adjust the description to make it clear that from time to time, using recursion calls might be the best solution to solve an issue but that must be done really on purpose.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_28_sep_2014_165309_evgeny_mandrikov_wrote">on 28 Sep 2014, 16:53:09 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2], [~freddy.mallet], I suggest to remove mention of indirect recursion from description, because proper detection of indirect recursion requires significant efforts in implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_30_sep_2014_130133_ann_campbell_wrote">on 30 Sep 2014, 13:01:33 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov] will future improvements make indirect recursion easier to spot?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_2_oct_2014_202216_ann_campbell_wrote">on 2 Oct 2014, 20:22:16 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Indirect recursion code (in case we ever add this back in):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// Indirect recursion
int fact(int num) {
  if (num &gt; 0) {
    num = num * fact2(x - 1);  // Noncompliant; fact2 calls this function
  }
  return num;
}

int fact2(int num) {
  if (num &gt; 0) {
    num = num * fact(num - 1);  // Noncompliant; fact calls this function
  }
  return num
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_on_2_oct_2014_210457_evgeny_mandrikov_wrote">on 2 Oct 2014, 21:04:57 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] interesting question - no ETA, but one day - why not.</p>
</div>
</div>
</div>
</div>