This rule raises an issue when BERT or other transformer model calls do not explicitly specify the `return_dict` parameter, which can lead to unexpected behavior changes between library versions.

== Why is this an issue?

BERT and other transformer models from the Hugging Face transformers library have a `return_dict` parameter that controls the format of the returned output. When this parameter is not explicitly specified, the code relies on the library's default behavior.

The problem arises because the default value of `return_dict` has changed between different versions of the transformers library. In older versions, the default was `False`, meaning the model would return a tuple that could be unpacked like `last_hidden_state, pooler_output = model(...)`. In newer versions, the default became `True`, meaning the model returns a dictionary-like object.

When code expects tuple unpacking but receives a dictionary object instead, it results in a `TypeError`. For example, if your code uses `_, cls_hs = self.bert(sent_id, attention_mask=mask)` and the model returns a dictionary, `cls_hs` will contain a string key instead of the expected tensor, causing subsequent operations to fail.

This creates a maintenance burden because code that works perfectly with one version of the library may suddenly break when the library is updated, even without any changes to your code.

=== What is the potential impact?

Code that relies on implicit `return_dict` behavior may break unexpectedly when the transformers library is updated. This can cause `TypeError` exceptions in production, making applications unreliable and difficult to maintain across different library versions.

=== How to fix?


Explicitly specify `return_dict=False` when you need tuple unpacking. This ensures backward compatibility and makes your intent clear.

==== Non-compliant code example

[source,python,diff-id=1,diff-type=noncompliant]
----
def forward(self, sent_id, mask):
    # Relies on default behavior which may change
    _, cls_hs = self.bert(sent_id, attention_mask=mask)  # Noncompliant
    return cls_hs
----

==== Compliant code example

[source,python,diff-id=1,diff-type=compliant]
----
def forward(self, sent_id, mask):
    # Explicitly specify return_dict=False for tuple unpacking
    _, cls_hs = self.bert(sent_id, attention_mask=mask, return_dict=False)
    return cls_hs
----

=== Documentation

 * Hugging Face Transformers Documentation - https://huggingface.co/docs/transformers/main_classes/output[Official documentation about model outputs and the return_dict parameter]
 * BERT Model Documentation - https://huggingface.co/docs/transformers/model_doc/bert#transformers.BertModel.forward[Specific documentation for BERT model forward method parameters]

