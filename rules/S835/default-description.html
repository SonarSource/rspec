<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ISO/IEC 14882:2003 [1] requires initializer lists for arrays, structures and union types to be enclosed in a single pair of braces (though the behaviour if this is not done is undefined). The rule given here goes further in requiring the use of additional braces to indicate nested structures.</p>
</div>
<div class="paragraph">
<p>This forces the developer to explicitly consider and demonstrate the order in which elements of complex data types are initialized (e.g. multi-dimensional arrays).</p>
</div>
<div class="paragraph">
<p>A similar principle applies to structures, and nested combinations of structures, arrays and other types.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct Pod {
  int x;
  int y;
};

struct PodPair {
  Pod first;
  Pod second;
};

int a1[3][2] = { 1, 2, 3, 4, 5, 6 }; // Noncompliant
Pod a2[2] = { 1, 2, 3, 4 }; // Noncompliant
PodPair a3 = { 1, 2 }; // Noncompliant, also missing initializers for `a3.second`</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int a1[3][2] = { {1, 2}, {3, 4}, {5, 6} }; // Compliant
Pod a2[2] = { {1, 2}, {3, 4} }; // Compliant
PodPair a3 = { {1, 2}, {} }; // Compliant</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C:2004, 9.2 - Braces shall be used to indicate and match the structure in the non-zero initialization of arrays and structures.</p>
</li>
<li>
<p>MISRA C&#43;&#43;:2008, 8-5-2 - Braces shall be used to indicate and match the structure in the nonzero initialization of arrays and structures.</p>
</li>
<li>
<p>MISRA C:2012, 9.2 - The initializer of an aggregate or union shall be enclosed in braces.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Correct this initializer to use one of the allowed forms.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s840">is duplicated by: <a data-rspec-id="S840" class="rspec-auto-link">S840</a></h3>

</div>
<div class="sect2">
<h3 id="_relates_to_s834">relates to: <a data-rspec-id="S834" class="rspec-auto-link">S834</a></h3>

</div>
<div class="sect2">
<h3 id="_on_15_oct_2014_095740_samuel_mercier_wrote">on 15 Oct 2014, 09:57:40 Samuel Mercier wrote:</h3>
<div class="paragraph">
<p>The message should be updated to give more feedback to the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_16_oct_2014_143430_ann_campbell_wrote">on 16 Oct 2014, 14:34:30 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>FYI [~samuel.mercier] I&#8217;ve switched this to Understandability, since it talks about forcing the programmer to explicitly show her intentions.</p>
</div>
<div class="paragraph">
<p>Also, I&#8217;ve unified all the text under the initial description. Every once in a while, there&#8217;s a call to have text outside of the description (not counting the Exceptions section) but it&#8217;s very rare and the standard is that all the text goes at the top.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_nov_2014_221118_evgeny_mandrikov_wrote">on 5 Nov 2014, 22:11:18 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>I believe that examples with structures should be added.</p>
</div>
</div>
</div>
</div>