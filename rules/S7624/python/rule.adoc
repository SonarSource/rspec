This rule raises an issue when Jackson ObjectMapper is used with Java 8+ date/time types without proper configuration, such as missing JavaTimeModule registration or inconsistent timestamp settings.

== Why is this an issue?

Jackson ObjectMapper requires specific configuration to handle Java 8+ date/time types like `LocalDateTime`, `OffsetDateTime`, and `ZonedDateTime`. Without proper setup, several problems occur:

**Missing Module Registration**

By default, Jackson doesn't know how to serialize or deserialize Java 8+ date/time types. When you try to use these types without registering the `JavaTimeModule`, Jackson throws an `InvalidDefinitionException` with a message like "Java 8 date/time type not supported by default".

**Inconsistent Date Formats**

Even when the module is registered, Jackson's default behavior is to serialize dates as timestamps (milliseconds since epoch). This creates several issues:

* Timestamps are not human-readable, making debugging and API responses harder to understand
* Different parts of your application might use different date formats
* API consumers expect consistent, readable date formats like ISO-8601

**Configuration Complexity**

Proper Jackson date/time configuration involves multiple steps that must work together. Missing any step can lead to runtime failures or inconsistent behavior across your application.

=== What is the potential impact?

**Runtime Exceptions**

Applications will crash with `InvalidDefinitionException` when trying to serialize or deserialize objects containing Java 8+ date/time fields.

**Poor API Design**

APIs that return timestamp numbers instead of readable date strings create a poor developer experience. API consumers must convert timestamps manually, leading to timezone confusion and parsing errors.

**Maintenance Issues**

Inconsistent date handling across an application makes the codebase harder to maintain and debug. Different serialization formats in different parts of the system can cause integration problems.

=== How to fix?


Register JavaTimeModule and disable timestamp serialization for consistent, human-readable date formats. This is the recommended approach for most applications.

==== Non-compliant code example

[source,java,diff-id=1,diff-type=noncompliant]
----
ObjectMapper mapper = new ObjectMapper();
// Missing JavaTimeModule registration and timestamp configuration
LocalDateTime date = LocalDateTime.now();
String result = mapper.writeValueAsString(date); // Noncompliant
----

==== Compliant code example

[source,java,diff-id=1,diff-type=compliant]
----
ObjectMapper mapper = new ObjectMapper();
mapper.registerModule(new JavaTimeModule());
mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
LocalDateTime date = LocalDateTime.now();
String result = mapper.writeValueAsString(date);
----

=== How to fix in Spring Boot?

Configure Jackson globally in Spring Boot using application properties and custom configuration beans for consistent behavior across the entire application.

==== Non-compliant code example

[source,java,diff-id=2,diff-type=noncompliant]
----
@RestController
public class EventController {
    private final ObjectMapper mapper = new ObjectMapper(); // Noncompliant
    
    @GetMapping("/events")
    public String getEvent() throws JsonProcessingException {
        return mapper.writeValueAsString(LocalDateTime.now());
    }
}
----

==== Compliant code example

[source,java,diff-id=2,diff-type=compliant]
----
@Configuration
public class JacksonConfig {
    @Bean
    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {
        return builder -> builder
            .modules(new JavaTimeModule())
            .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
    }
}
----

=== Documentation

 * Jackson Date Serialization Guide - https://www.baeldung.com/jackson-serialize-dates[Comprehensive guide on serializing dates with Jackson, including Java 8+ types]
 * OffsetDateTime Serialization with Jackson - https://www.baeldung.com/java-jackson-offsetdatetime[Specific guide for handling OffsetDateTime and other Java 8+ date types]
 * Spring Boot Jackson Customization - https://www.baeldung.com/spring-boot-customize-jackson-objectmapper[How to customize Jackson ObjectMapper in Spring Boot applications]

=== Standards

 * ISO 8601 - https://en.wikipedia.org/wiki/ISO_8601[International standard for date and time representation]

