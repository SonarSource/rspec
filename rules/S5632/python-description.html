<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when an object which doesn&#8217;t derive from <code>BaseException</code> is raised.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Attempting to raise an object which does not derive from <code>BaseException</code> will raise a <code>TypeError</code>.</p>
</div>
<div class="paragraph">
<p>If you are about to create a custom exception class, note that custom exceptions should inherit from <code>Exception</code>, rather than <code>BaseException</code>.</p>
</div>
<div class="paragraph">
<p><code>BaseException</code> is the base class for all built-in exceptions in Python, including system-exiting exceptions like <code>SystemExit</code> or <code>KeyboardInterrupt</code>, which are typically not meant to be caught. On the other hand, <code>Exception</code> is intended for exceptions that are expected to be caught, which is generally the case for user-defined exceptions. See <a href="https://www.python.org/dev/peps/pep-0352/#exception-hierarchy-changes">PEP 352</a> for more information.</p>
</div>
<div class="paragraph">
<p>To fix this issue, make sure that the object you&#8217;re attempting to raise inherits from <code>BaseException</code>.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">raise "Something went wrong"  # Noncompliant: a string is not a valid exception

class A:
    pass

raise A  # Noncompliant: A does not inherit from Exception</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class MyError(Exception):
    pass

raise MyError("Something went wrong")
raise MyError</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: <em>In Python 2 it is possible to raise old-style classes but this shouldn&#8217;t be done in order to be compatible with Python 3.</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.python.org/3/tutorial/errors.html">Python documentation - Errors and Exceptions</a></p>
</li>
<li>
<p><a href="https://www.python.org/dev/peps/pep-0352/#exception-hierarchy-changes">PEP 352 - Required Superclass for Exceptions</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Change this code so that it raises an object deriving from BaseException.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s3696">relates to: <a data-rspec-id="S3696" class="rspec-auto-link">S3696</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s5708">is related to: <a data-rspec-id="S5708" class="rspec-auto-link">S5708</a></h3>

</div>
<div class="sect2">
<h3 id="_on_13_nov_2019_162349_nicolas_harraudeau_wrote">on 13 Nov 2019, 16:23:49 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>Note: This rule is similar to <a data-rspec-id="S3696" class="rspec-auto-link">RSPEC-3696</a> "Non-exception types should not be thrown" but this one is a Bug instead of a Code Smell because raising a non-exception in Python will raise a TypeError.</p>
</div>
</div>
</div>
</div>