<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ignoring function parameters or overwriting them with a new value without reading them can lead to confusion and errors in the code. Developers won&#8217;t be able to tell whether the original parameter or some temporary variable is being accessed without going through the whole function. It may indicate that the function is not properly designed or that there is a mistake in the code.</p>
</div>
<div class="paragraph">
<p>Moreover, some developers might also expect assignments of function parameters to be visible to callers, which is not the case. Arguments are always passed by value and never passed by reference. If a function reassigns a parameter, the value won&#8217;t change outside the function. It is not possible to simulate an assignment on that variable in the caller&#8217;s scope. However, objects are passed by value to their reference (<a href="https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing">passed by sharing</a>), which means if the object&#8217;s properties are mutated, the change will impact the outside of the function.</p>
</div>
<div class="paragraph">
<p>The same logic applies to caught exceptions and variable declarations inside <code>for...in</code> and <code>for...of</code> statements: their initial values should not be ignored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function myFunction(name, strings) {
  name = foo; // Noncompliant: initial value of 'name' is ignored

  for (let str of strings) {
    str = "";  // Noncompliant: initial value of 'str' is ignored
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Function parameters, caught exceptions, and variables initialized in <code>for...in</code> and <code>for...of</code>statements should be read at least once before reassigning them. If they do not need to be read, the code should be refactored to avoid confusion.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function myFunction(name, strings) {
  const nameCopy = name;
  name = foo;

  for (let str of strings) {
    const strCopy = str;
    str = "";
  }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>There is a common pattern in JavaScript to overwrite certain parameters depending on other parameters that are optional. For example, a callback is, by convention, always passed in the last position. If a parameter in a previous position was not passed, the callback will be passed in its position instead.</p>
</div>
<div class="paragraph">
<p>Therefore, the rule ignores parameter reassignments that are inside an <code>if</code> statement block.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function myFunction(param, optionalParam, cb) {
  if (typeof optionalParam === 'function') {
    cb = optionalParam;
    optionalParam = {};
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions">Functions</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch#catch_binding">Catch binding</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of"><code>for...of</code></a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in"><code>for...in</code></a></p>
</li>
<li>
<p>Wikipedia - <a href="https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing">Call by sharing</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Introduce a new variable or use its initial value before reassigning "xxx".</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>reassignment of var</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_14_oct_2013_125040_dinesh_bolkensteyn_wrote">on 14 Oct 2013, 12:50:40 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>+ constructor + foreach</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_14_oct_2013_131026_dinesh_bolkensteyn_wrote">on 14 Oct 2013, 13:10:26 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>constructors are covered, but not foreach</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_14_oct_2013_131145_dinesh_bolkensteyn_wrote">on 14 Oct 2013, 13:11:45 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Implemented by http://jira.codehaus.org/browse/SONARJAVA-349</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_oct_2013_123419_dinesh_bolkensteyn_wrote">on 15 Oct 2013, 12:34:19 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I&#8217;m slightly changing the title, replacing "overwritten with new assignments" by "reassigned". I had to add a new use case (foreach variables), I guess it&#8217;s worth to be mentioned in the title, but then we must keep the title&#8217;s length reasonable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_16_oct_2013_232949_ann_campbell_wrote">on 16 Oct 2013, 23:29:49 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Works for me, [~dinesh.bolkensteyn]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_13_sep_2014_093057_evgeny_mandrikov_wrote">on 13 Sep 2014, 09:30:57 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] probably relates to MISRA C:2012, 17.8. And so applicable for C.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_sep_2014_083830_ann_campbell_wrote">on 15 Sep 2014, 08:38:30 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Thanks [~evgeny.mandrikov]</p>
</div>
</div>
</div>
</div>