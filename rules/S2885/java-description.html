<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When an object is marked as <code>static</code>, it means that it belongs to the class rather than any class instance.
This means there is only one copy of the static object in memory, regardless of how many class instances are created.
Static objects are shared among all instances of the class and can be accessed using the class name rather than an instance of the class.</p>
</div>
<div class="paragraph">
<p>A data type is considered thread-safe if it can be used correctly by multiple threads, regardless of how those threads are executed,
without requiring additional coordination from the calling code.
In other words, a thread-safe data type can be accessed and modified by multiple threads simultaneously without causing any issues or
requiring extra work from the programmer to ensure correct behavior.</p>
</div>
<div class="paragraph">
<p>Non-thread-safe objects are objects that are not designed to be used in a multi-threaded environment and can lead to race conditions and
data inconsistencies when accessed by multiple threads simultaneously.
Using them in a multi-threaded manner is highly likely to cause data problems or exceptions at runtime.</p>
</div>
<div class="paragraph">
<p>When a non-thread-safe object is marked as static in a multi-threaded environment, it can cause issues because the non-thread-safe object
will be shared across different instances of the containing class.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when any of the following instances and their subtypes are marked as <code>static</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.util.Calendar</code>,</p>
</li>
<li>
<p><code>java.text.DateFormat</code>,</p>
</li>
<li>
<p><code>javax.xml.xpath.XPath</code>, or</p>
</li>
<li>
<p><code>javax.xml.validation.SchemaFactory</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Remove the <code>static</code> keyword from non-thread-safe fields.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MyClass {
  private static Calendar calendar = Calendar.getInstance();  // Noncompliant
  private static SimpleDateFormat format = new SimpleDateFormat("HH-mm-ss");  // Noncompliant
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class MyClass {
  private Calendar calendar = Calendar.getInstance();
  private SimpleDateFormat format = new SimpleDateFormat("HH-mm-ss");
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_articles_blog_posts">Articles &amp; blog posts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://web.mit.edu/6.005/www/fa14/classes/18-thread-safety/">MIT - Thread safety</a></p>
</li>
<li>
<p><a href="https://www.baeldung.com/java-thread-safety">Baeldung - Thread safety</a></p>
</li>
<li>
<p><a href="https://www.baeldung.com/java-static">Baeldung - Static</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>STIG Viewer - <a href="https://stigviewer.com/stigs/application_security_and_development/2024-12-06/finding/V-222567">Application Security and Development: V-222567</a> - The application must not be vulnerable to race conditions.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Make "XXX" an instance variable.</p>
</div>
</div>
</div>
</div>