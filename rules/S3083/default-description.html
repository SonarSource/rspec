<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is acceptable to override standard operators to provide appropriate behaviors for your classes. But it is not appropriate to change those operators' associativity or precedence from the standard. Doing so will inevitably lead to misuse and mistakes for users of the class.</p>
</div>
<div class="paragraph">
<p>Instead of overriding an existing operator&#8217;s associativity or precedence, you should either let them use the default values or define a completely new operator.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">infix operator - : CustomAdditionPrecedence   // Noncompliant. For a different behavior create a different operator

precedencegroup CustomAdditionPrecedence {
  associativity: right
}

func - (lhs: MyInt, rhs: MyInt) -&gt; MyInt {
  // ...
}

var a = MyInt(10), b = MyInt(5), c = MyInt(5)
print(a - b - c) // against expectations, this outputs 10</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-swift" data-lang="swift">infix operator &lt;- : CustomAdditionPrecedence

precedencegroup CustomAdditionPrecedence {
  associativity: right
}

func &lt;- (lhs: MyInt, rhs: MyInt) -&gt; MyInt {
  // ...
}

var a = MyInt(10), b = MyInt(5), c = MyInt(5)

var a = MyInt(10), b = MyInt(5), c = MyInt(5)
print(a - b - c) // prints 0 as expected
print(a &lt;- b &lt;- c) // prints 10</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Choose another operator symbol.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s993">relates to: <a data-rspec-id="S993" class="rspec-auto-link">S993</a></h3>

</div>
<div class="sect2">
<h3 id="_on_17_jun_2015_131054_ann_campbell_wrote">on 17 Jun 2015, 13:10:54 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~elena.vilchik] I know you&#8217;ll probably want to update the code samples. I included the ones here as a starting point.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_17_jun_2015_165300_elena_vilchik_wrote">on 17 Jun 2015, 16:53:00 Elena Vilchik wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] please, have a look at code examples</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_17_jun_2015_181852_ann_campbell_wrote">on 17 Jun 2015, 18:18:52 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~elena.vilchik], assuming I&#8217;m reading this right, the Noncompliant and Compliant samples show completely different operators. The Compliant Solution needs to be a "fixed" version of the Noncompliant Example, not completely different code that happens to pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_18_jun_2015_071422_elena_vilchik_wrote">on 18 Jun 2015, 07:14:22 Elena Vilchik wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] that exactly what i was trying to do :) if you want operator which subtracts values but has right associativity, then create your custom operator ("&#8592;" in my example). For custom operator it&#8217;s required to declare function which defines its action (there is no need for such function for standard operators). And we need another message, not clause should be removed, but whole statement. May be "Remove this operator declaration."?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_18_jun_2015_151942_ann_campbell_wrote">on 18 Jun 2015, 15:19:42 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>after our collaboration [~elena.vilchik], I think we&#8217;re both happy.</p>
</div>
</div>
</div>
</div>