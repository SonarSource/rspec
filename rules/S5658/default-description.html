<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Attempting to make a comparison between pointers using &gt;, &gt;=, &lt; or &lt;= will produce undefined behavior if the two pointers point to different arrays.</p>
</div>
<div class="paragraph">
<p>Additionally, directly comparing two arrays for equality or inequality has been deprecated in C&#43;&#43;.</p>
</div>
<div class="paragraph">
<p>However, equality or inequality between an array and a pointer is still valid</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void f1 ( )
{
  int a1[ 10 ];
  int a2[ 10 ];
  int * p1 = a1;
  if ( p1 &lt; a2 ) // Non-compliant, p1 and a2 point to different arrays.
  {
  }
  if ( p1 - a2 &gt; 0 ) // Non-compliant, p1 and a2 point to different arrays.
  {
  }
  if ( a1 == a2) // Non-compliant (in C++). Comparing different array for equality is deprecated
  {
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void f1 ( )
{
  int a1[ 10 ];
  int * p1 = a1;
  if ( p1 &lt; a1 ) // Compliant, p1 and a1 point to the same array.
  {
  }
  if ( p1 - a1 &gt; 0 )  // Compliant, p1 and a1 point to the same array.
  {
  }
  if ( p1 == a2 ) // Compliant, comparing a pointer and an array for equality is valid
  {
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C:2004, 17.3 - &gt;, &gt;=, &lt;, &lt;= shall not be applied to pointer types except where they point to the same array.</p>
</li>
<li>
<p>MISRA C&#43;&#43;:2008, 5-0-18 - &gt;, &gt;=, &lt;, &lt;= shall not be applied to objects of pointer type, except where they point to the same array.</p>
</li>
<li>
<p>C++ Core Guidelines - <a href="https://github.com/isocpp/CppCoreGuidelines/blob/e49158a/CppCoreGuidelines.md#es62-dont-compare-pointers-into-different-arrays">ES.62: Don&#8217;t compare pointers into different arrays</a></p>
</li>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/469">CWE-469 - Use of Pointer Subtraction to Determine Size</a></p>
</li>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/1dYxBQ">CERT, ARR36-C.</a> - Do not subtract or compare two pointers that do not refer to the same array</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s939">is related to: <a data-rspec-id="S939" class="rspec-auto-link">S939</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s940">is related to: <a data-rspec-id="S940" class="rspec-auto-link">S940</a></h3>

</div>
</div>
</div>