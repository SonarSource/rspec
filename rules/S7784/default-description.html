<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule flags code that uses <code>JSON.parse(JSON.stringify())</code> or library functions like <code>_.cloneDeep()</code> to create deep clones of objects.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>structuredClone()</code> is the modern, standardized way to create deep clones in JavaScript. It&#8217;s part of the web platform and provides several advantages over alternative approaches.</p>
</div>
<div class="paragraph">
<p>The <code>JSON.parse(JSON.stringify())</code> pattern has significant limitations. It cannot handle functions, undefined values, symbols, or Date objects correctly. It also fails with circular references and loses prototype information.</p>
</div>
<div class="paragraph">
<p>Library-based solutions like <code>_.cloneDeep()</code> work correctly but add external dependencies to your project. They increase bundle size and create maintenance overhead.</p>
</div>
<div class="paragraph">
<p><code>structuredClone()</code> handles these cases properly. It supports a wide range of data types including Date objects, RegExp, Maps, Sets, and even handles circular references. It&#8217;s also faster than JSON-based approaches and doesn&#8217;t require external libraries.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using inferior cloning methods can lead to subtle bugs when the cloned objects don&#8217;t behave as expected. The JSON approach can silently corrupt data by dropping properties or changing types. External libraries increase bundle size and create dependency management overhead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace <code>JSON.parse(JSON.stringify())</code> with <code>structuredClone()</code>. This provides proper deep cloning without the limitations of JSON serialization.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const clone = JSON.parse(JSON.stringify(originalObject)); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const clone = structuredClone(originalObject);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/prefer-structured-clone.md">prefer-structured-clone</a></p>
</li>
<li>
<p>MDN: structuredClone() - <a href="https://developer.mozilla.org/en-US/docs/Web/API/structuredClone">Official documentation for the structuredClone() API</a></p>
</li>
<li>
<p>MDN: Structured Clone Algorithm - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">Details about the structured clone algorithm and supported data types</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>