<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Functions, methods, or lambdas with a long parameter list are difficult to use, as maintainers must figure out the role of each parameter and keep track of their position.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def set_coordinates(x1, y1, z1, x2, y2, z2): # Noncompliant
    # ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The solution can be to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Split the function, method, or lambda into smaller ones</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># Each function does a part of what the original set_coordinates function was doing, so confusion risks are lower
def set_origin(x, y, z):
   # ...

def set_size(width, height, depth):
   # ...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Find a better data structure for the parameters that group data in a way that makes sense for the specific application domain</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@dataclass
class Point: # In geometry, Point is a logical structure to group data
    x: int
    y: int
    z: int

def set_coordinates(p1: Point, p2: Point):
    # ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This rule raises an issue when a function, a method, or a lambda has more parameters than the provided threshold.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>The first argument of non-static methods, i.e., <code>self</code> or <code>cls</code>, is not counted as it is mandatory and passed automatically.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>\[Function|Constructor|Method|Lambda] "XXXX" has {0} parameters, which is greater than the {1} authorized.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">max</div>
<div class="listingblock">
<div class="content">
<pre>13</pre>
</div>
</div>
<div class="paragraph">
<p>Maximum authorized number of parameters</p>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_15_may_2019_122120_marcel_vingerling_wrote">on 15 May 2019, 12:21:20 Marcel Vingerling wrote:</h3>
<div class="paragraph">
<p>In my opinion this rule should ignore mandatory named arguments that have been separated in the function definition by a <code>*</code> in the argument list.</p>
</div>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="paragraph">
<p>With a maximum number of 4 parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def do_something(param1, param2, param3, param4, param5='default value'):
	...</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is non-compliant because the function can still be called like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">do_something(1, 2, 3, 4, 5)
h2. Compliant Solution</code></pre>
</div>
</div>
<div class="paragraph">
<p>def do_something(param1, param2, param3, param4, *, param5='default value'):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>...</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">In this case the {{*}} marker in the function definition dictates that the param5 parameter should always be passed as a named argument. Therefore the maximum number of positional parameters for this function is 4 and should be compliant as named parameters self document the method call and cause less brain-overload.
 This should be compliant because the function can only be called like this:</code></pre>
</div>
</div>
<div class="paragraph">
<p>do_something(1, 2, 3, 4, param5=5)</p>
</div>
<div class="paragraph">
<p>This could either be implemented in this rule or added as an additional rule, then the maximum total number of parameters can also still be validated. Maybe it makes sense to also limit the maximum number of mandatory named arguments using a rule configuration setting.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_mar_2020_135553_nicolas_harraudeau_wrote">on 9 Mar 2020, 13:55:53 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>Hi [~sjaak],</p>
</div>
<div class="paragraph">
<p>Thank you for your suggestion, and sorry for the late reply. Could you post it on <a href="https://community.sonarsource.com/c/bug/fp/7">the community forum</a> please? This will enable other people to contribute to this discussion more easily.</p>
</div>
<div class="paragraph">
<p>Thanks</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_may_2013_144003_fabrice_bellingard_wrote">on 20 May 2013, 14:40:03 Fabrice Bellingard wrote:</h3>
<div class="paragraph">
<p>Implementation: http://jira.codehaus.org/browse/SONARJAVA-127</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_oct_2013_145144_freddy_mallet_wrote">on 22 Oct 2013, 14:51:44 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARPLUGINS-3196 for Flex</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_12_feb_2014_173323_freddy_mallet_wrote">on 12 Feb 2014, 17:33:23 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARPLUGINS-3446 for PHP</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_mar_2014_171509_ann_campbell_wrote">on 4 Mar 2014, 17:15:09 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~dinesh.bolkensteyn], should delegates be added to the laundry list of items here?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_mar_2014_064827_dinesh_bolkensteyn_wrote">on 11 Mar 2014, 06:48:27 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Here is some useful background on delegates: http://msdn.microsoft.com/en-us/library/0yw3tz5k.aspx</p>
</div>
<div class="paragraph">
<p>They are really function pointers, which can be implemented using named methods, anonymous methods or lambdas.</p>
</div>
<div class="paragraph">
<p>So the rule on functions/methods/lambda will apply to the implementation of the delegate.</p>
</div>
<div class="paragraph">
<p>It does not seem like an easy question, on which there is one clear answer. I&#8217;d suggest to implement the rule just on function/methods and lambdas and wait for feedback on what to do with delegates.</p>
</div>
</div>
</div>
</div>