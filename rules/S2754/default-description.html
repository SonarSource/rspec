<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Empty declarations are cruft; they (may) compile, but they violate the language standards, don&#8217;t contribute anything of value, and clutter up the program. Like cobwebs, they should be swept away.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int;  // Noncompliant</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>ISO/IEC 9899:2011, 6.7p2</p>
</li>
<li>
<p>ISO/IEC 14882:2011, 7p3.</p>
</li>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/5dUxBQ">CERT, MSC12-C.</a> - Detect and remove code that has no effect or is never executed</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this empty declaration.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_24_mar_2015_190323_evgeny_mandrikov_wrote">on 24 Mar 2015, 19:03:23 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] we could also add that this actually violates restrictions in standard - see C11 6.7p2 and CPP11 7p3, but might be accepted by compilers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_mar_2015_193250_ann_campbell_wrote">on 24 Mar 2015, 19:32:50 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Added [~evgeny.mandrikov]. Is there an officially hosted copy of the language standards we can link to?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_mar_2015_220705_evgeny_mandrikov_wrote">on 24 Mar 2015, 22:07:05 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] ISO standards are paid.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_mar_2015_130435_ann_campbell_wrote">on 25 Mar 2015, 13:04:35 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>One more question [~evgeny.mandrikov] is C11 the full, official name of the standard? Should I throw "ISO" in there?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_mar_2015_180820_evgeny_mandrikov_wrote">on 25 Mar 2015, 18:08:20 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] according to http://en.wikipedia.org/wiki/C%2B%2B - "C&#43;&#43;11" is informal name for "ISO/IEC 14882:2011", "CPP11" - is a name, which we use in code to refer to it. Similarily for "C11" - http://en.wikipedia.org/wiki/C11_(C_standard_revision).</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_mar_2015_200324_ann_campbell_wrote">on 25 Mar 2015, 20:03:24 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Thanks [~evgeny.mandrikov]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_mar_2015_201439_evgeny_mandrikov_wrote">on 25 Mar 2015, 20:14:39 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] however I&#8217;m not sure that usual developers know that "9899" refers to "C" and "14882" to "C&#43;&#43;" :) but that&#8217;s probably not a problem, so overall LGTM.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_nov_2015_214030_ann_campbell_wrote">on 23 Nov 2015, 21:40:30 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov] I&#8217;ve just mapped this to PC-Lint rule 814</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>useless declaration&#8201;&#8212;&#8201;A tagless struct was declared without a declarator.  For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>struct { int n; };</pre>
</div>
</div>
<div class="paragraph">
<p>Such a declaration cannot very well be used.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Is that case already covered, or is a ticket needed?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_nov_2015_150351_evgeny_mandrikov_wrote">on 24 Nov 2015, 15:03:51 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I suppose that this case was not covered, but you can check by yourself ;)</p>
</div>
<div class="paragraph">
<p>Also IMO such change requires more investigations, because:</p>
</div>
<div class="paragraph">
<p>{noformat}</p>
</div>
<div class="paragraph">
<p>struct {</p>
</div>
<div class="literalblock">
<div class="content">
<pre>int i;</pre>
</div>
</div>
<div class="paragraph">
<p>};</p>
</div>
<div class="paragraph">
<p>{noformat}</p>
</div>
<div class="paragraph">
<p>gives warning ("declaration does not declare anything") with Clang in C mode and error ("anonymous structs and classes must be class members") in C&#43;&#43; mode, while no messages for</p>
</div>
<div class="paragraph">
<p>{noformat}</p>
</div>
<div class="paragraph">
<p>struct S {</p>
</div>
<div class="literalblock">
<div class="content">
<pre>struct {</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>int i; // can be accessed as "s.i"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>};</pre>
</div>
</div>
<div class="paragraph">
<p>} s;</p>
</div>
<div class="paragraph">
<p>{noformat}</p>
</div>
<div class="paragraph">
<p>which is probably related to https://msdn.microsoft.com/en-us/library/a3bbz53t.aspx and https://gcc.gnu.org/onlinedocs/gcc/Unnamed-Fields.html.</p>
</div>
<div class="paragraph">
<p>And in any case seems that current rule description is not applicable for such case, because it doesn&#8217;t violate standards.</p>
</div>
<div class="paragraph">
<p>Also could be noted that seems that PC-Lint rule 814 available only for C.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_nov_2015_151759_ann_campbell_wrote">on 24 Nov 2015, 15:17:59 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov] you do realize you didn&#8217;t actually answer the question, right? ;-)</p>
</div>
<div class="paragraph">
<p>Should I unmap, or do you feel this case is worth covering?</p>
</div>
<div class="paragraph">
<p>Re only-for-C, I had planned to follow up on that issue separately. In short: yes. I&#8217;m lazy.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_feb_2016_164642_evgeny_mandrikov_wrote">on 5 Feb 2016, 16:46:42 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] my answer was - given current description I don&#8217;t see why PC-Lint 814 maps to this RSPEC.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_feb_2016_170200_evgeny_mandrikov_wrote">on 5 Feb 2016, 17:02:00 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] and to add a little bit more oil into fire of this discussion - some other cases in CPP-1371</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_feb_2016_170930_ann_campbell_wrote">on 5 Feb 2016, 17:09:30 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>unmapped</p>
</div>
</div>
</div>
</div>