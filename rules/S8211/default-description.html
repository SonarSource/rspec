<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when functions perform HTTP operations without accepting or using a <code>context.Context</code> parameter for proper cancellation and timeout handling.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>HTTP operations without proper context handling can lead to serious reliability issues in Go applications.</p>
</div>
<div class="paragraph">
<p>When you make HTTP requests using methods like <code>http.Get()</code> or <code>client.Get()</code> without context, these requests cannot be cancelled or have timeouts applied at the application level. This creates several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Hanging requests</strong>: If an external service becomes unresponsive, your requests will wait indefinitely, consuming resources and potentially blocking your application.</p>
</li>
<li>
<p><strong>Resource leaks</strong>: Goroutines making these requests may never terminate, leading to memory leaks and goroutine accumulation over time.</p>
</li>
<li>
<p><strong>Poor user experience</strong>: Users cannot cancel operations that are taking too long, leading to unresponsive applications.</p>
</li>
<li>
<p><strong>Cascading failures</strong>: In microservice architectures, one slow service can cause timeouts and failures to propagate throughout your system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>context.Context</code> package in Go provides a standard way to carry cancellation signals, deadlines, and timeouts across API boundaries. When you use context-aware HTTP methods like <code>http.NewRequestWithContext()</code>, your requests can be cancelled when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A user cancels their request</p>
</li>
<li>
<p>A timeout is reached</p>
</li>
<li>
<p>The application is shutting down</p>
</li>
<li>
<p>A parent operation is cancelled</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This enables proper resource cleanup and prevents your application from wasting resources on operations that are no longer needed.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Without proper context usage, HTTP operations can hang indefinitely, leading to resource exhaustion, memory leaks, and application instability. In high-load scenarios, this can cause cascading failures and service outages.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add a context.Context parameter to your function and use http.NewRequestWithContext to create context-aware HTTP requests.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func makeAPICall(url string) (*http.Response, error) {
    client := &amp;http.Client{}
    resp, err := client.Get(url) // Noncompliant
    return resp, err
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func makeAPICall(ctx context.Context, url string) (*http.Response, error) {
    client := &amp;http.Client{}
    req, _ := http.NewRequestWithContext(ctx, "GET", url, nil)
    resp, err := client.Do(req)
    return resp, err
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Go context package - <a href="https://pkg.go.dev/context">Official documentation for Go&#8217;s context package</a></p>
</li>
<li>
<p>Go HTTP client documentation - <a href="https://pkg.go.dev/net/http#Client">Official documentation for Go&#8217;s HTTP client</a></p>
</li>
<li>
<p>Context and cancellation in Go - <a href="https://go.dev/blog/context">Official Go blog post explaining context usage patterns</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>