<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>C&#43;&#43;14 introduced the ability to use a digit separator (<code>'</code>) to split a literal number into groups of digits for better readability.</p>
</div>
<div class="paragraph">
<p>To ensure that readability is really improved by using digit separators, this rule verifies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Homogeneity</strong></p>
<div class="ulist">
<ul>
<li>
<p>Except for the left-most group, which can be smaller, all groups in a number should contain the same number of digits. Mixing group sizes is at best confusing for maintainers, and at worst a typographical error that is potentially a bug.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Standardization</strong></p>
<div class="ulist">
<ul>
<li>
<p>It is also confusing to regroup digits using a size that is not standard. This rule enforce the following standards:</p>
<div class="ulist">
<ul>
<li>
<p>Decimal numbers should be separated using groups of 3 digits.</p>
</li>
<li>
<p>Hexadecimal numbers should be separated using groups of 2 or 4 digits.</p>
</li>
<li>
<p>Octal and Binary should be separated using groups of 2, 3 or 4 digits.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, using groups with more than 4 consecutive digits is not allowed because they are difficult for maintainers to read.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">long decimal_int_value     = 1'554'3124;          // Noncompliant; mixing groups of 3 and 4 digits
double decimal_float_value = 7'91'87'14.3456;     // Noncompliant; using groups of 2 instead of 3 digits
long hexadecimal_value     = 0x8'3A3'248'6E2;     // Noncompliant; using groups of 3 instead of 2 or 4 digits
long octal_value           = 0442'03433'13726;    // Noncompliant; using groups of 5 instead of 2, 3 or 4 digits.
long binary_value          = 0b01010110'11101010; // Noncompliant; using groups of 8 instead of 2, 3 or 4 digits.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">long decimal_int_value     = 15'543'124;
double decimal_float_value = 7'918'714.3456;
long hexadecimal_value     = 0x83'A324'86E2;
long octal_value           = 04'4203'4331'3726;
long binary_value          = 0b0101'0110'1110'1010;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>No issue is raised on the fractional or exponent part of floating point numbers, only the integral part should comply.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Group by "X" or "X" digits but not both.</p>
</li>
<li>
<p>Insert the digit separator (') between groups of 3 digits.</p>
</li>
<li>
<p>Insert the digit separator (') between groups of 2 or 4 digits.</p>
</li>
<li>
<p>Insert the digit separator (') between groups of 2, 3 or 4 digits.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>literal number</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_7_mar_2016_152717_ann_campbell_wrote">on 7 Mar 2016, 15:27:17 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~alban.auzeill] were you hoping I&#8217;d provide a description? :-)</p>
</div>
<div class="paragraph">
<p>Also, I&#8217;ve removed the 'bug' tag and demoted this to major. At best, IMO it&#8217;s either a 'pitfall' or 'suspicious'.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_7_mar_2016_154307_alban_auzeill_wrote">on 7 Mar 2016, 15:43:07 Alban Auzeill wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I have moved the java language-specification into the parent RSPEC. You can just review this parent RSPEC, it&#8217;s a copy and paste with the C&#43;&#43; language-specification with minor differences. I will apply your changes myself on the C&#43;&#43; version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_7_mar_2016_155705_ann_campbell_wrote">on 7 Mar 2016, 15:57:05 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Updated [~alban.auzeill]</p>
</div>
</div>
</div>
</div>