[source,csharp]
----
using System;

public sealed class NotNullAttribute : Attribute { }

public static class Guard
{
    public static void NotNull<T>([NotNull] this T value, string name) where T : class
    {
        if (value == null)
        {
            throw new ArgumentNullException(name);
        }
    }
}

public static class Utils
{
    public static string ToUpper(string value)
    {
        Guard.NotNull(value, nameof(value)); // Will throw if value is null
        if (value == null)
        {
            return value.ToString(); // Compliant: this code is unreachable
        }
        return value.ToUpper();
    }
}
----