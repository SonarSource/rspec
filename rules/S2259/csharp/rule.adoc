:null-keyword: null
:null-keyword-link: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/null
:exceptionCode1: csharp/exceptionCode1.adoc
:exceptionCode2: csharp/exceptionCode2.adoc
:exceptionCode3: csharp/exceptionCode3.adoc

include::../dotnet-why.adoc[]

== How to fix it

The fix will depend on the context, in any case it is important to make to not access `null` value. For instance:
* by ensuring the variable has a value
* by checking if the value is not `null`

=== Code examples

==== Ensuring a not `null` value

[source,csharp,diff-id=1,diff-type=noncompliant]
----
public void Method()
{
    object o = null;
    Console.WriteLine(o.ToString()); // Noncompliant: 'o' is always null
}
----

It is important to ensure `o` has a value by any means.

[source,csharp,diff-id=1,diff-type=compliant]
----
public void Method()
{
    var o = GetValue();
    Console.WriteLine(o.ToString()); // Compliant: 'o' is not null
}
----

==== Checking value is `null`

[source,csharp,diff-id=2,diff-type=noncompliant]
----
public void Method(object input)
{
    Console.WriteLine(input.ToString()); // Noncompliant: 'input' might be null
}
----

By adding a check got nullability, the noncompliant code is now unreachable.

[source,csharp,diff-id=2,diff-type=compliant]
----
public void Method(object input)
{
    if (input is null)
    {
        return;
    }
    Console.WriteLine(input.ToString()); // Compliant: if 'input' is null, this part is unreachable
}
----

include::../dotnet-resources.adoc[]
* https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/null[null keyword]

include::../dotnet-rspecator.adoc[]
