<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a SOQL query uses <code>SELECT *</code> or selects fields that are not used in the subsequent code.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using <code>SELECT *</code> or selecting unnecessary fields in SOQL queries creates several problems that impact both performance and code maintainability.</p>
</div>
<div class="paragraph">
<p>SOQL queries with wildcard selection (<code>SELECT *</code>) retrieve all available fields from an object, regardless of whether they are actually needed. This approach has significant performance implications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Increased data transfer</strong>: More data is transmitted between the Salesforce server and your application, consuming bandwidth and increasing response times.</p>
</li>
<li>
<p><strong>Higher memory usage</strong>: Your application must allocate memory to store all retrieved fields, even those that are never accessed.</p>
</li>
<li>
<p><strong>Governor limit consumption</strong>: Salesforce enforces strict limits on data retrieval, and selecting unnecessary fields consumes these limits faster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Beyond performance, wildcard queries also harm code maintainability:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Unclear dependencies</strong>: Other developers cannot easily understand which fields the code actually uses without examining the entire implementation.</p>
</li>
<li>
<p><strong>Brittle code</strong>: If field permissions change or fields are removed, the query may fail unexpectedly.</p>
</li>
<li>
<p><strong>Harder debugging</strong>: When issues arise, it&#8217;s difficult to determine which specific fields are causing problems.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Explicit field selection makes your code more predictable, efficient, and easier to understand. It also helps with security by ensuring you only request access to the data you actually need.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Performance degradation due to unnecessary data transfer and memory usage. Faster consumption of Salesforce governor limits. Reduced code maintainability and clarity about data dependencies.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace wildcard selection with explicit field names. Only include fields that are actually used in your code logic.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">SELECT * FROM LoginEvent ORDER BY EventDate DESC // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">SELECT EventDate, UserId, Username, UserType, Browser, Country, Status FROM LoginEvent ORDER BY EventDate DESC</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>SOQL SELECT Syntax - <a href="https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select.htm">Official Salesforce documentation on SOQL SELECT statement syntax and best practices</a></p>
</li>
<li>
<p>SOQL Best Practices - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_SOQL_SOSL_best_practices.htm">Salesforce best practices for writing efficient SOQL queries</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-400: Uncontrolled Resource Consumption - <a href="https://cwe.mitre.org/data/definitions/400.html">Relates to inefficient resource usage through unnecessary data retrieval</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S6905" class="rspec-auto-link">RSPEC-6905</a> - <a href="https://rules.sonarsource.com/java/RSPEC-6905/">Similar rule for Java database queries avoiding SELECT *</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>