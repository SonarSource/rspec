<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"Boxing" is the process of putting a primitive value into a primitive-wrapper object. When that&#8217;s done purely to use the wrapper class' <code>toString</code> method, it&#8217;s a waste of memory and cycles because those methods are <code>static</code>, and can therefore be used without a class instance. Similarly, using the <code>static</code> method <code>valueOf</code> in the primitive-wrapper classes with a non-<code>String</code> argument should be avoided.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">int myInt = 4;
String myIntString = (new Integer(myInt)).toString(); // Noncompliant; creates &amp; discards an Integer object
myIntString = Integer.valueOf(myInt).toString(); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">int myInt = 4;
String myIntString = Integer.toString(myInt);</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Use "Xxx.toString" instead.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_10_oct_2014_135744_freddy_mallet_wrote">on 10 Oct 2014, 13:57:44 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Perfect @Ann, I would just add the word "just" in the title :</p>
</div>
<div class="paragraph">
<p>"Primitives should not be boxed just for 'String' conversion"</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_12_oct_2014_164926_freddy_mallet_wrote">on 12 Oct 2014, 16:49:26 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I guess this rule should be associated to Findbugs rule DM_BOXED_PRIMITIVE_TOSTRING</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_14_oct_2014_145053_ann_campbell_wrote">on 14 Oct 2014, 14:50:53 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Yes, thanks.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_sep_2017_164812_michael_gumowski_wrote">on 15 Sep 2017, 16:48:12 Michael Gumowski wrote:</h3>
<div class="paragraph">
<p>Updated RSPEC to remove example of a constant concatenated with an empty String, accordingly to SONARJAVA-2452. Concatenation of literals with empty string (or any String literal) is valid and will produce an optimized string when compiled into bytecode.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_sep_2017_112858_tibor_blenessy_wrote">on 27 Sep 2017, 11:28:58 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>Removing string concatenation altogether from this rule because,  as described in https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18.1 modern Java compilers can and do optimize string concatenation of primitive values. Furthermore concatenation can be effectively optimized by JIT and trying to be smart may circumvent these optimizations. See for example http://openjdk.java.net/jeps/280 . Implemented in SONARJAVA-2481</p>
</div>
</div>
</div>
</div>