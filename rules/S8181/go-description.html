<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an issue when test functions only check for the absence of errors without verifying that the expected behavior, state changes, or outcomes actually occurred.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Tests that only verify error absence provide insufficient coverage and create a false sense of security. Such tests may pass even when the code produces incorrect results, fails to achieve its intended effects, or doesn&#8217;t properly modify system state.</p>
</div>
<div class="paragraph">
<p>When a test only checks that a function doesn&#8217;t return an error, it misses critical scenarios where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operations appear successful but produce wrong results</p>
</li>
<li>
<p>Resources aren&#8217;t actually created, updated, or deleted as expected</p>
</li>
<li>
<p>State changes don&#8217;t occur despite successful function execution</p>
</li>
<li>
<p>Configuration settings aren&#8217;t applied correctly</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This problem often occurs when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using <code>io.Discard</code> to ignore function output without validation</p>
</li>
<li>
<p>Testing create/update/delete operations without verifying the actual state change</p>
</li>
<li>
<p>Refactoring tests in ways that remove important assertions</p>
</li>
<li>
<p>Writing cleanup functions that ignore deletion errors</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Weak tests reduce confidence in code quality and may allow bugs to slip through that could have been caught with proper verification.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Weak test coverage can lead to undetected bugs in production, reduced confidence in code changes, and increased risk of regressions. Critical functionality may fail silently while tests continue to pass, making issues harder to diagnose and fix.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add assertions to verify the expected behavior after operations complete successfully. Check that state changes occurred, resources were modified correctly, and outputs match expectations.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func TestUpdateUser(t *testing.T) {
    user := &amp;User{Name: "John"}
    err := updateUser(user, "Jane")
    if err != nil {
        t.Errorf("updateUser failed: %v", err)
    }
    // Missing assertion to verify user.Name was actually updated // Noncompliant
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func TestUpdateUser(t *testing.T) {
    user := &amp;User{Name: "John"}
    err := updateUser(user, "Jane")
    if err != nil {
        t.Errorf("updateUser failed: %v", err)
    }
    if user.Name != "Jane" {
        t.Errorf("expected user name to be 'Jane', got '%s'", user.Name)
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Go Testing Package - <a href="https://pkg.go.dev/testing">Official Go testing package documentation with best practices for writing effective tests</a></p>
</li>
<li>
<p>Effective Go - Testing - <a href="https://go.dev/doc/effective_go#testing">Go&#8217;s official guide on writing good tests and test practices</a></p>
</li>
<li>
<p>Go Testing Best Practices - <a href="https://go.dev/doc/tutorial/add-a-test">Tutorial on adding tests to Go applications with proper assertion patterns</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-754: Improper Check for Unusual or Exceptional Conditions - <a href="https://cwe.mitre.org/data/definitions/754.html">Relates to insufficient validation of expected conditions and outcomes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S2699" class="rspec-auto-link">RSPEC-2699</a> - <a href="https://rules.sonarsource.com/javascript/RSPEC-2699/">Tests should include assertions (JavaScript implementation of similar concept)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>