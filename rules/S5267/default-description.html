<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The "noreturn" attribute should be used to indicate that a function does not return to its caller: it may terminate the program, enter an infinite loop, or throw an exception.</p>
</div>
<div class="paragraph">
<p>This attribute is typically used for functions that perform critical operations, such as exiting the program or handling an error condition.
For example, the "exit" function is marked with the "noreturn" attribute because it terminates the program and does not return to its caller.</p>
</div>
<div class="paragraph">
<p>Using this attribute allows the compiler to make some assumptions that can lead to optimizations.
However, functions marked with the "noreturn" attribute should not have a return statement because it leads to undefined behavior and unexpected results.</p>
</div>
<div class="paragraph">
<p>This rules equally applies to C&#43;&#43;11 <code>[[noreturn]]</code> notation or C11 <code>_Noreturn</code> keyword notation.
It raises an issue when the attribute is incorrectly used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two opposite approaches to fix this issue: remove the "noreturn" attribute or update the function to never return.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int global;

[[noreturn]]
void longRunningTask() {
  while (true) {
    // ...
    if (global == 0) {
      return; // Noncompliant: this function should not return.
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="paragraph">
<p>There are many ways to address the issue in the previous code snippet.
Here are some examples.</p>
</div>
<div class="paragraph">
<p>It can be updated to never return:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">[[noreturn]]
void longRunningTask() {
  while (true) {
    // ...
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or the "noreturn" attribute can be removed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void longRunningTask() {
  while (true) {
    // ...
    if (global == 0) {
      return;
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, in C&#43;&#43;, the return statement can be turned into a throw expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">[[noreturn]]
void longRunningTask() {
  while (true) {
    // ...
    if (global == 0) {
      throw std::runtime_error("invalid global state");
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/language/attributes/noreturn">C&#43;&#43; attribute: noreturn</a></p>
</li>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/c/language/_Noreturn">_Noreturn function specifier</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>function "XXX" declared 'noreturn' should not return</p>
</div>
</div>
</div>
</div>