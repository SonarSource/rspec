<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Non-static initializers, also known as instance initializers, are blocks of code within a class that are executed when an instance of the
class is created. They are executed when an object of the class is created just before the constructor is called.
Non-static initializers are useful when you want to perform some common initialization logic for all objects of a class. They allow you to
initialize instance variables in a concise and centralized manner, without having to repeat the same initialization code in each constructor.</p>
</div>
<div class="paragraph">
<p>While non-static initializers may have some limited use cases, they are rarely used and can be confusing for most developers because they
only run when new class instances are created.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Non-static initializers should be refactored into standard constructors or field initializers when possible.</p>
</div>
<div class="paragraph">
<p>In most cases, the use of constructors, overloaded constructors, or factory methods is preferable for initializing instance variables.
These approaches provide more explicit and controlled initialization, separate concerns, allow for better error handling, and make the code
easier to understand and maintain.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class MyClass {
  private static final Map&lt;String, String&gt; MY_MAP = new HashMap&lt;String, String&gt;() {
    {
      put("a", "b");
    }
  }; // Noncompliant - HashMap should be extended only to add behavior, not for initialization
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="paragraph">
<p>Using static initialization block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class MyClass {
  private static final Map&lt;String, String&gt; MY_MAP = new HashMap&lt;&gt;();

  static {
    MY_MAP.put("a", "b");  // Compliant
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or using constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class MyClass {
  private static final Map&lt;String, String&gt; MY_MAP = new HashMap&lt;&gt;();

  public MyClass() {
    MY_MAP.put("a", "b");  // Compliant
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or using Java 9 <code>Map.of</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class MyClass {
  private static final Map&lt;String, String&gt; MY_MAP = java.util.Map.of("a", "b");   // Compliant
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or using Guava <code>ImmutableMap.of</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class MyClass {
  private static final Map&lt;String, String&gt; MY_MAP = com.google.common.collect.ImmutableMap.of("a", "b");   // Compliant
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_articles_blog_posts">Articles &amp; blog posts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.baeldung.com/java-static-instance-initializer-blocks">Static vs. Instance Initializer Block in Java</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move the contents of this initializer to a standard constructor or to field initializers.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s3476">is duplicated by: <a data-rspec-id="S3476" class="rspec-auto-link">S3476</a></h3>

</div>
<div class="sect2">
<h3 id="_on_31_jul_2013_144350_freddy_mallet_wrote">on 31 Jul 2013, 14:43:50 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARJAVA-260</p>
</div>
</div>
</div>
</div>