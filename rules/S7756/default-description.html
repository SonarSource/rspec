<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an issue when using <code>FileReader#readAsArrayBuffer()</code> or <code>FileReader#readAsText()</code> without additional parameters, as these can be replaced with simpler Promise-based alternatives.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>FileReader</code> API was designed before promises became standard in JavaScript. It requires verbose callback-based code with event listeners for 'load' and 'error' events.</p>
</div>
<div class="paragraph">
<p>The newer <code>Blob#arrayBuffer()</code> and <code>Blob#text()</code> methods return promises directly, making the code much cleaner and easier to understand. They eliminate the need for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating FileReader instances</p>
</li>
<li>
<p>Setting up event listeners</p>
</li>
<li>
<p>Wrapping everything in Promise constructors</p>
</li>
<li>
<p>Handling both success and error callbacks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This modernization improves code readability and reduces the chance of errors in promise handling. The newer methods are well-supported in modern browsers and provide the same functionality with less boilerplate code.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using outdated FileReader patterns makes code unnecessarily complex and harder to maintain. The verbose callback-based approach increases the likelihood of errors in promise handling and makes the codebase less consistent with modern JavaScript practices.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace FileReader#readAsArrayBuffer() with the simpler Blob#arrayBuffer() method that returns a promise directly.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const arrayBuffer = await new Promise((resolve, reject) =&gt; {
  const fileReader = new FileReader();
  fileReader.addEventListener('load', () =&gt; {
    resolve(fileReader.result);
  });
  fileReader.addEventListener('error', () =&gt; {
    reject(fileReader.error);
  });
  fileReader.readAsArrayBuffer(blob); // Noncompliant
});</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const arrayBuffer = await blob.arrayBuffer();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/prefer-blob-reading-methods.md">prefer-blob-reading-methods</a></p>
</li>
<li>
<p>Blob.arrayBuffer() - MDN - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob/arrayBuffer">Documentation for the modern Blob.arrayBuffer() method</a></p>
</li>
<li>
<p>Blob.text() - MDN - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob/text">Documentation for the modern Blob.text() method</a></p>
</li>
<li>
<p>FileReader - MDN - <a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader">Documentation for the legacy FileReader API</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>