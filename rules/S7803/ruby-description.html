<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when arrays are converted to delimited strings using manual concatenation in loops or the <code>*</code> operator instead of the <code>join</code> method.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Manual string concatenation for creating delimited lists is problematic for several reasons.</p>
</div>
<div class="paragraph">
<p>When you concatenate strings in a loop with delimiters, you often end up with trailing separators that need to be manually removed. This creates additional complexity and potential for bugs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">output = ''
users.each { |user| output += user.name + ", " }
output # Results in "Alice, Bob, Charlie, " - unwanted trailing comma</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>*</code> operator, while functional, is less explicit about intent. When reading <code>array * ","</code>, it&#8217;s not immediately clear that the goal is to create a comma-separated string. The operation looks more like mathematical multiplication than string joining.</p>
</div>
<div class="paragraph">
<p>Ruby&#8217;s <code>Array#join</code> method was specifically designed for this purpose. It handles edge cases gracefully, never produces trailing delimiters, and clearly expresses the intent to combine array elements into a single string with separators.</p>
</div>
<div class="paragraph">
<p>Using <code>join</code> also provides better performance for large arrays since it doesn&#8217;t create intermediate string objects during concatenation, unlike the manual approach which creates a new string object for each concatenation operation.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using manual concatenation or the <code>*</code> operator instead of <code>join</code> can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bugs from trailing delimiters that require manual removal</p>
</li>
<li>
<p>Reduced code readability and maintainability</p>
</li>
<li>
<p>Performance issues with large arrays due to repeated string object creation</p>
</li>
<li>
<p>Code that doesn&#8217;t follow Ruby idioms and conventions</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace manual string concatenation in loops with <code>map</code> and <code>join</code> to avoid trailing delimiters and improve readability.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">output = ''
users.each { |user| output += user.name + ", " } # Noncompliant
output # Results in unwanted trailing ", "</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby"># Use map and join for clean delimiter separation
users.map(&amp;:name).join(", ")</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Array#join - Ruby Documentation - <a href="https://ruby-doc.org/core/Array.html#method-i-join">Official Ruby documentation for the Array#join method</a></p>
</li>
<li>
<p>Ruby Style Guide - String Concatenation - <a href="https://rubystyle.guide/#array-join">Community Ruby style guide recommendations for array joining</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>Ruby Style Guide - Array#join - <a href="https://rubystyle.guide/<mark>array-join">Use Array#join over Array* for joining array elements into strings</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S1643" class="rspec-auto-link">RSPEC-1643</a> - <a href="https://rules.sonarsource.com/java/RSPEC-1643/">Strings should not be concatenated using '+' in a loop (Java)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>