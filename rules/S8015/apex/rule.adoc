This rule raises an issue when string literals are used for comparisons with predefined business values that could be represented as enums.

== Why is this an issue?

Using string literals for predefined business values like product types, selling models, or status codes creates several problems that can impact code quality and maintainability.

String literals are prone to typos. A simple misspelling like `'One Time'` instead of `'One-Time'` can cause logic errors that are difficult to detect during development. These errors often only surface during runtime, potentially in production environments.

String comparisons also lack IDE support. Modern development environments cannot provide autocomplete, refactoring assistance, or compile-time validation when working with arbitrary strings. This slows down development and increases the likelihood of errors.

Maintaining string-based logic becomes challenging as applications grow. When business requirements change and a value needs to be updated, developers must manually search and replace all occurrences throughout the codebase. This process is error-prone and time-consuming.

Enums solve these problems by providing a structured approach to representing fixed sets of values. They offer compile-time validation, IDE support with autocomplete and refactoring capabilities, and centralized management of business values.

=== What is the potential impact?

Using string literals instead of enums can lead to runtime errors from typos, reduced developer productivity due to lack of IDE support, and increased maintenance overhead when business values need to be updated across the codebase.

== How to fix it

Replace string literal comparisons with enum values. Define an enum that represents all possible values for the business concept, then use the enum values in comparisons and method parameters.

=== Code examples

==== Noncompliant code example

[source,apex,diff-id=1,diff-type=noncompliant]
----
public class ProductService {
    public void processProduct(String productType) {
        if (productType == 'One Time') { // Noncompliant
            // handle one time
        } else if (productType == 'Term-Defined') { // Noncompliant
            // handle term defined
        }
    }
}
----

==== Compliant solution

[source,apex,diff-id=1,diff-type=compliant]
----
public class ProductService {
    public enum SellingModel {
        ONE_TIME,
        TERM_DEFINED,
        EVERGREEN
    }
    
    public void processProduct(SellingModel sellingModel) {
        switch on sellingModel {
            when ONE_TIME {
                // handle one time
            }
            when TERM_DEFINED {
                // handle term defined
            }
        }
    }
}
----

== Resources

=== Documentation

 * Apex Enums - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_enum.htm[Official Salesforce documentation on using enums in Apex]

 * Switch Statements - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_switch.htm[Documentation on using switch statements with enums in Apex]
