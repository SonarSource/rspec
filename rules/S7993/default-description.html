<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when SOQL queries select more fields than are actually used in the code, including the use of wildcards (SELECT *) or explicit selection of unnecessary fields.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SOQL queries that select unnecessary fields create several problems that impact both performance and maintainability.</p>
</div>
<div class="paragraph">
<p>When queries retrieve more data than needed, they consume additional network bandwidth transferring unused information from the database to the application. This extra data transfer increases query execution time and can lead to timeout issues, especially when working with large datasets or complex objects with many fields.</p>
</div>
<div class="paragraph">
<p>Memory usage also increases unnecessarily when unused fields are loaded into memory. In Salesforce&#8217;s multi-tenant environment with strict governor limits, this inefficient memory usage can contribute to heap size limit violations.</p>
</div>
<div class="paragraph">
<p>From a maintainability perspective, over-selecting fields makes the code&#8217;s actual dependencies unclear. When a query selects many fields but only uses a few, it becomes difficult for developers to understand which fields are truly required for the functionality. This hidden complexity makes refactoring risky and can lead to unintended side effects when object schemas change.</p>
</div>
<div class="paragraph">
<p>Using SELECT * is particularly problematic because it creates implicit dependencies on the entire object schema. When new fields are added to the object, the query automatically includes them, potentially affecting performance. More critically, if fields are removed or access permissions change, the code may break in unexpected ways.</p>
</div>
<div class="paragraph">
<p>In Salesforce environments with large data volumes, these inefficiencies compound quickly. Queries that work fine in development with small datasets can become performance bottlenecks in production when processing thousands of records.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Performance degradation due to unnecessary data transfer and increased memory usage. In large data volume scenarios, this can lead to query timeouts and governor limit violations. The code becomes harder to maintain as field dependencies are not explicit, making refactoring risky and potentially causing unexpected failures when object schemas change.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace wildcard selection with explicit field lists containing only the fields that are actually used in the code.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">List&lt;Account&gt; accounts = [SELECT * FROM Account WHERE Id = :accountId]; // Noncompliant
String accountName = accounts[0].Name;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">List&lt;Account&gt; accounts = [SELECT Id, Name FROM Account WHERE Id = :accountId];
String accountName = accounts[0].Name;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>SOQL and SOSL Reference - <a href="https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/">Official Salesforce documentation for SOQL queries and best practices</a></p>
</li>
<li>
<p>Apex Developer Guide - SOQL Queries - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_SOQL.htm">Comprehensive guide to using SOQL queries in Apex code</a></p>
</li>
<li>
<p>Large Data Volumes Best Practices - <a href="https://developer.salesforce.com/docs/atlas.en-us.salesforce_large_data_volumes_bp.meta/salesforce_large_data_volumes_bp/">Best practices for handling large data volumes in Salesforce</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-400: Uncontrolled Resource Consumption - <a href="https://cwe.mitre.org/data/definitions/400.html">Relates to inefficient resource usage that can lead to performance degradation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>