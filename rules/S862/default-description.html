<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The safe use of floating-point arithmetic requires a high level of numerical analysis skills and in-depth knowledge of the compiler and target hardware.</p>
</div>
<div class="paragraph">
<p>If floating-point is to be used, then the following issues need to be covered as part of the deviation process:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A justification explaining why floating-point is the appropriate or only solution.</p>
</li>
<li>
<p>Demonstrate that appropriate skills are available.</p>
</li>
<li>
<p>Demonstrate that an appropriate process is being applied.</p>
</li>
<li>
<p>Document the floating-point implementation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The paper “What Every Computer Scientist Should Know about Floating-Point Arithmetic” explains the issues that need to be considered when using floating-point.</p>
</div>
<div class="paragraph">
<p>For example, when solving a quadratic equation, the value of b<sup>2</sup>-4.a.c is calculated. Assume that a=1.22, b=3.34, c=2.28 and that three significant digits are used during calculation. The exact value of b<sup>2</sup>–4.a.c is 0.0292. However, b<sup>2</sup> rounds to 11.2 and 4.a.c rounds to 11.1, giving a final answer of 0.1. This example demonstrates <em>catastrophic cancellation</em>. The subtraction does not cause an error, but it does expose errors introduced in the multiplications that are used when generating its operands.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C&#43;&#43;:2008, 0-4-2</p>
</li>
<li>
<p>Goldberg D., What Every Computer Scientist Should Know about Floating-Point Arithmetic, Computing Surveys, March 1991.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s861">is related to: <a data-rspec-id="S861" class="rspec-auto-link">S861</a></h3>

</div>
<div class="sect2">
<h3 id="_on_20_oct_2014_135105_samuel_mercier_wrote">on 20 Oct 2014, 13:51:05 Samuel Mercier wrote:</h3>
<div class="paragraph">
<p>This one cannot be implemented as a regular issue.</p>
</div>
<div class="paragraph">
<p>We could raise an issue on the project&#8217;s level as soon as we detect some arithmetic using floating point exceptions, but probably not much more.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_oct_2014_143116_ann_campbell_wrote">on 20 Oct 2014, 14:31:16 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~fabrice.bellingard] this would make a good "Finding"</p>
</div>
<div class="paragraph">
<p>cc [~freddy.mallet]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_oct_2014_143555_ann_campbell_wrote">on 20 Oct 2014, 14:35:55 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] you&#8217;ve included an endnote reference (the "[13]") but not it&#8217;s value.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_6_sep_2019_105702_loïc_joly_wrote">on 6 Sep 2019, 10:57:02 Loïc Joly wrote:</h3>
<div class="paragraph">
<p>Not implementable, closing this issue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_6_sep_2019_133952_ann_campbell_wrote">on 6 Sep 2019, 13:39:52 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~loic.joly] how is this not implementable? We raise an issue on "you&#8217;re adding two floats here" and it&#8217;s&#8230;&#8203; <em>tracked!</em> Users can then use comments to log their justifications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_sep_2019_120124_loïc_joly_wrote">on 9 Sep 2019, 12:01:24 Loïc Joly wrote:</h3>
<div class="paragraph">
<p>This is a MISRA rule, and the point of the MISRA rule is not to track all operations that use floating point operation. It means that, as soon as there is one floating point operation, and only once, there should be a document, probably external to the source code, that specifies :</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>this rule requires that documentation be produced to demonstrate that all the issues have been covered by the implementation.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>This is not the kind of document than can be handled by comments in the justifications.</p>
</div>
<div class="paragraph">
<p>If instead of following MISRA, you would like to define a SonarSource rule to track all usage of floating point, then of course it would be possible, I just don&#8217;t see what could be the value of such a rule&#8230;&#8203;</p>
</div>
</div>
</div>
</div>