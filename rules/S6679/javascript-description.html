<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Comparing the value to itself may be either a refactoring error or an outdated way of checking if the value is of a numeric data type but not a valid number. This special numeric value is represented by <code>NaN</code> global property, where <code>NaN</code> stands for "Not-a-Number". <code>NaN</code> is returned as a result when an arithmetic operation or mathematical function is performed, and the result is undefined or unrepresentable as a valid number.</p>
</div>
<div class="paragraph">
<p>Detecting whether a value is <code>NaN</code> in JavaScript was previously problematic because of the way <code>NaN</code> behaves in comparison operations. <code>NaN</code> is not equal to any value, including itself, so comparing the value to <code>NaN</code> will always return false. In other words, if a value is not equal to itself, it can only be <code>NaN</code>.</p>
</div>
<div class="paragraph">
<p>This method of detecting <code>NaN</code> can be confusing and should be avoided. ES6 introduced a special function <code>Number.isNaN()</code> which only returns <code>true</code> if the argument is <code>NaN</code> value. For clarity and consistency this function should be used to detect <code>NaN</code> instead of all other methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (value !== value){ // Noncompliant: use Number.isNaN()
    processNaN(value);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To fix your code replace self-comparison with <code>Number.isNaN()</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (Number.isNaN(value)){
    processNaN(value);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Do not confuse <code>Number.isNaN()</code> with the legacy global <code>isNaN()</code> function. While they serve a similar purpose, the behavior is very different - the global <code>isNaN()</code> tries to convert its argument into a number before checking if it is <code>NaN</code>. If the argument cannot be converted into a number, <code>isNaN()</code> will return true, which may not be the desired behavior in all cases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">isNaN('some text');          // true: Number('some text') returns NaN
Number.isNaN('some text');   // false: 'some text' is not NaN</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should use the <code>Number.isNaN()</code> method over <code>isNaN()</code> to perform a strict check for <code>NaN</code> without any type conversion.</p>
</div>
<div class="paragraph">
<p>If the intention was not to detect whether a value was NaN, fix the issue by not comparing the variable against itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (value !== anotherValue){
    // ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://eslint.org">eslint</a> - Rule <a href="https://eslint.org/docs/latest/rules/no-self-compare">no-self-compare</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN"><code>NaN</code></a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN"><code>Number.isNaN()</code></a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN"><code>isNaN()</code></a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Glossary/Type_Conversion">Type conversion</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S1764" class="rspec-auto-link">S1764</a> - Identical expressions should not be used on both sides of a binary operator</p>
</li>
<li>
<p><a data-rspec-id="S2688" class="rspec-auto-link">S2688</a> - "NaN" should not be used in comparisons</p>
</li>
</ul>
</div>
</div>
</div>
</div>