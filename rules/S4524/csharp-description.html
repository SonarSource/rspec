<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/selection-statements#the-switch-statement">switch statement</a> is a conditional statement that executes a sequence of instructions based on patterns matching the provided value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">switch (temperatureInCelsius)
{
    case &lt; 35.0:
        Console.WriteLine("Hypothermia");
        break;
    case &gt;= 36.5 and &lt;= 37.5:
        Console.WriteLine("Normal");
        break;
    case &gt; 37.5 and &lt;= 40.0:
        Console.WriteLine("Fever or hyperthermia");
        break;
    case &gt; 40.0:
        Console.WriteLine("Hyperpyrexia");
        break;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>switch</code> statement can optionally contain a <code>default</code> clause, executed when none of the <code>case</code> clauses are executed (or in presence of a <code>goto default;</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">switch (gradeLetter)
{
    case "A+":
    case "A":
    case "A-":
        Console.WriteLine("Excellent");
        break;
    case "B+":
    case "B":
        Console.WriteLine("Very Good");
        break;
    case "B-":
    case "C+":
        Console.WriteLine("Good");
        break;
    case "C":
        Console.WriteLine("Pass");
        break;
    case "F":
        Console.WriteLine("Fail");
        break;
    default:
        Console.WriteLine("Invalid grade letter!");
        break;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>default</code> clause can be defined for various reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to handle <strong>unexpected values</strong>, as shown in the example above</p>
</li>
<li>
<p>or to show that all the cases were properly considered, making the function explicitely <strong>total</strong> (as opposed to <a href="https://en.wikipedia.org/wiki/Partial_function">partial</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While C# allows the <code>default</code> clause to appear in any place within a <code>switch</code> statement, and while its position doesn&#8217;t alter its behavior, it is recommended to put the <code>default</code> clause either at the beginning or at the end of the <code>switch</code> statement.</p>
</div>
<div class="paragraph">
<p>That improves readability and helps the developer to quickly find the default behavior of a <code>switch</code> statement.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue if the <code>default</code> clause is neither the first nor the last one of the <code>switch</code> statement.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">switch (param)
{
    case 0:
        DoSomething();
        break;
    default: // Noncompliant: default clause should be the first or last one
        Error();
        break;
    case 1:
        DoSomethingElse();
        break;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">switch (param)
{
    case 0:
        DoSomething();
        break;
    case 1:
        DoSomethingElse();
        break;
    default:
        Error();
        break;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/selection-statements#the-switch-statement">Switch statement</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Partial_function">Partial function</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move this "[case default|WHEN OTHERS|Case Else]" clause to the beginning or end of this "[switch|CASE|Select]" statement.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_24_apr_2018_165220_alban_auzeill_wrote">on 24 Apr 2018, 16:52:20 Alban Auzeill wrote:</h3>
<div class="paragraph">
<p>Irrelevant for Swift because the compiler already enforce "default" to be the latest.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_26_jul_2018_140209_pierre_yves_nicolas_wrote">on 26 Jul 2018, 14:02:09 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>\[~alexandre.gigleux] The change of the title from "last" to "first or last" require:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>some changes in descriptions, code examples, issue message</p>
</li>
<li>
<p>changes in the implementation of the rule for the languages which already implemented the rule and for which it makes sense</p>
</li>
</ul>
</div>
</div>
</div>
</div>