<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when the <code>forEach</code> method is called on arrays, as <code>for&#8230;&#8203;of</code> loops provide better performance and more control flow options.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>forEach</code> method creates a function call for each array element, which introduces performance overhead compared to native <code>for&#8230;&#8203;of</code> loops. This overhead becomes more significant with larger arrays.</p>
</div>
<div class="paragraph">
<p>More importantly, <code>forEach</code> limits your control flow options. You cannot use <code>break</code> to exit early or <code>continue</code> to skip iterations, as these statements don&#8217;t work inside callback functions. This forces developers to use workarounds like throwing exceptions or complex conditional logic.</p>
</div>
<div class="paragraph">
<p>Additionally, <code>forEach</code> doesn&#8217;t work properly with async/await. The callback function in <code>forEach</code> is called for each element immediately without waiting for any asynchronous operations to complete, which can lead to unexpected behavior when processing arrays that require async operations.</p>
</div>
<div class="paragraph">
<p>In TypeScript projects, <code>forEach</code> creates a function boundary that breaks type narrowing. Variables that were narrowed to specific types before the loop may lose their narrowed type inside the callback. Additionally, TypeScript&#8217;s analysis of variable mutations can be disrupted by the function boundary, potentially missing important usage patterns.</p>
</div>
<div class="paragraph">
<p>The <code>for&#8230;&#8203;of</code> loop syntax is also more readable and familiar to developers coming from other programming languages, making the code easier to understand and maintain.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using <code>forEach</code> instead of <code>for&#8230;&#8203;of</code> can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Performance degradation, especially with large arrays due to function call overhead</p>
</li>
<li>
<p>Limited control flow capabilities, preventing early exits and iteration skipping</p>
</li>
<li>
<p>Type safety issues in TypeScript where type narrowing is lost across function boundaries</p>
</li>
<li>
<p>Reduced code maintainability due to less intuitive syntax for simple iterations</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace simple <code>forEach</code> calls with <code>for&#8230;&#8203;of</code> loops. This provides better performance and maintains the same functionality.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">array.forEach(element =&gt; {
    console.log(element);
}); // Noncompliant

array.forEach((element, index) =&gt; {
	console.log(element, index);
}); // Noncompliant

// Doesn't work as expected with async operations
urls.forEach(async (url) =&gt; {
    const response = await fetch(url); // These requests happen concurrently, not sequentially
    console.log(response.status);
}); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">for (const element of array) {
    console.log(element);
}

for (const [index, element] of array.entries()) {
	console.log(element, index);
}

// Properly handles async operations sequentially
for (const url of urls) {
    const response = await fetch(url); // These requests happen one after another
    console.log(response.status);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/no-array-for-each.md">no-array-for-each</a></p>
</li>
<li>
<p>MDN: for&#8230;&#8203;of statement - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for&#8230;&#8203;of">Complete guide to for&#8230;&#8203;of loops in JavaScript</a></p>
</li>
<li>
<p>MDN: Array.prototype.forEach() - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Documentation for the forEach method</a></p>
</li>
<li>
<p>MDN: Array.prototype.entries() - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/entries">How to get both index and value in iterations</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>