<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when <code>instanceof</code> is used to check the type of built-in JavaScript objects like <code>String</code>, <code>Number</code>, <code>Array</code>, <code>Object</code>, etc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using <code>instanceof</code> to check built-in object types has significant limitations that can cause your code to behave unexpectedly.</p>
</div>
<div class="paragraph">
<p>The main problem is that <code>instanceof</code> checks whether an object was created by a specific constructor function. This works fine for custom classes, but built-in objects can exist in different "realms" (execution contexts). For example, an array created in an iframe has a different <code>Array</code> constructor than an array created in the main window, even though they&#8217;re both arrays.</p>
</div>
<div class="paragraph">
<p>When you use <code>instanceof Array</code> on an array from a different realm, it returns <code>false</code> even though the object is clearly an array. This can break your type checking logic and cause bugs that are hard to debug.</p>
</div>
<div class="paragraph">
<p>Additionally, <code>instanceof</code> doesn&#8217;t work correctly with primitive values. For example, <code>"hello" instanceof String</code> returns <code>false</code> because string literals are primitives, not String objects.</p>
</div>
<div class="paragraph">
<p>These issues make <code>instanceof</code> unreliable for type checking built-in types, especially in complex applications that use iframes, web workers, or other execution contexts.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using <code>instanceof</code> with built-in objects can lead to incorrect type detection, causing your application to behave unexpectedly. This is particularly problematic in applications that work with multiple execution contexts (iframes, web workers) where the same type of object might fail <code>instanceof</code> checks. The result can be runtime errors, incorrect data processing, or security vulnerabilities if type validation fails.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>For primitive types (string, number, boolean, bigint, symbol), use the <code>typeof</code> operator instead of <code>instanceof</code>. This is more reliable and works correctly with both primitive values and their object wrappers.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (value instanceof String) { // Noncompliant
  console.log('It is a string');
}

if (value instanceof Number) { // Noncompliant
  return value.toFixed(2);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">if (typeof value === 'string') {
  console.log('It is a string');
}

if (typeof value === 'number') {
  return value.toFixed(2);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/no-instanceof-builtins.md">no-instanceof-builtins</a></p>
</li>
<li>
<p>MDN - instanceof operator - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof">Comprehensive documentation about the instanceof operator and its limitations</a></p>
</li>
<li>
<p>MDN - typeof operator - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof">Documentation about the typeof operator for type checking</a></p>
</li>
<li>
<p>MDN - Array.isArray() - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">Documentation about the recommended way to check if a value is an array</a></p>
</li>
<li>
<p>@sindresorhus/is package - <a href="https://www.npmjs.com/package/@sindresorhus/is">A comprehensive type checking library for JavaScript</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>