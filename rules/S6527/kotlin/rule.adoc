== Why is this an issue?

The `filter(predicate)` function is used to extract a subset of elements from a collection
that match a given predicate.
Many collection functions (`any()`, `count()`, `first()` and others) do also feature an optional condition predicate.
The `filter(predicate)` function should not be called before these functions
and should be replaced with the predicate variant of the function.

=== What is the potential impact?

==== Readability and Understanding

This change makes the code more concise and easier to understand.
The additional call for `filter()` would increase the complexity of the expression
while not offering any benefit over its simpler replacement.

== How to fix it

If this rule reports on a construct `filter(predicate).foo()`, replace it with `foo(predicate)`.
As of Kotlin API version 1.8, `foo()` can be any of the following functions:

* `any()`
* `count()`
* `first()`, `firstOrNull()`
* `last()`, `lastOrNull()`
* `single()`, `singleOrNull()`

TODO: none!

=== Code examples

==== Noncompliant code example

[source,kotlin]
----
val list = listOf(5,2,9,6,8,2,5,7,3)
----

[source,kotlin,diff-id=1,diff-type=noncompliant]
----
val hasElemenentsGreater5 = list.filter { it > 5 }.any() // Noncompliant
val countElemenentsGreater5 = list.filter { it > 5 }.count() // Noncompliant
val lastElementGreater5 = list.filter { it > 5 }.lastOrNull() // Noncompliant
----

==== Compliant solution

[source,kotlin,diff-id=1,diff-type=compliant]
----
val hasElemenentsGreater5 = list.any { it > 5 } // Compliant
val countElemenentsGreater5 = list.count { it > 5 } // Compliant
val lastElementGreater5 = list.lastOrNull { it > 5 } // Compliant
----

== Resources

=== Documentation

* https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/[Kotlin API Docs, Package kotlin.collections]

