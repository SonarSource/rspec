<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when an object, class, or module defines a property or method named <code>then</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JavaScript treats objects with a <code>then</code> property as "thenable" - similar to Promises. This can cause unexpected behavior when these objects are used with <code>await</code> expressions or dynamic imports.</p>
</div>
<div class="paragraph">
<p>When JavaScript encounters an object with a <code>then</code> property in an <code>await</code> expression, it assumes the object is Promise-like and tries to resolve it. This can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Code execution being suspended indefinitely if the <code>then</code> method doesn&#8217;t behave like a Promise</p>
</li>
<li>
<p>Unexpected errors if the <code>then</code> method throws an exception</p>
</li>
<li>
<p>Silent failures where subsequent code never executes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The same issue occurs with dynamic imports. If a module exports a <code>then</code> function, the import statement will treat the entire module as thenable, potentially calling the <code>then</code> function instead of returning the module object.</p>
</div>
<div class="paragraph">
<p>This behavior stems from JavaScript&#8217;s Promise resolution algorithm, which checks for a <code>then</code> property to determine if an object should be treated as a Promise.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue can cause applications to hang indefinitely, throw unexpected errors, or fail silently. In production environments, this could lead to unresponsive user interfaces, incomplete data processing, or application crashes. The debugging experience is particularly poor because the connection between the <code>then</code> property and the problematic behavior is not immediately obvious.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Rename the <code>then</code> property to a more descriptive name that reflects its actual purpose.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const userAction = {
  userId: 123,
  then() { // Noncompliant
    console.log('Action completed');
  }
};</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const userAction = {
  userId: 123,
  complete() {
    console.log('Action completed');
  }
};</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/no-thenable.md">no-thenable</a></p>
</li>
<li>
<p>MDN - Promise Resolution - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve">Explains how JavaScript resolves thenable objects</a></p>
</li>
<li>
<p>MDN - await operator - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await">Documentation on how await handles thenable objects</a></p>
</li>
<li>
<p>MDN - Dynamic imports - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import">Information about dynamic import behavior with thenable modules</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>