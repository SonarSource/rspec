<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a loop does not use braces to enclose its body, even if the body contains only a single statement.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Loops without braces can lead to maintenance issues and bugs. When the loop body contains only one statement, it&#8217;s tempting to omit the braces for brevity.</p>
</div>
<div class="paragraph">
<p>However, this practice creates several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Accidental logic errors</strong>: When developers later add statements after the loop, they might assume these new statements are part of the loop body. Without braces, only the first statement actually belongs to the loop.</p>
</li>
<li>
<p><strong>Reduced readability</strong>: Braces make the loop structure immediately clear to anyone reading the code.</p>
</li>
<li>
<p><strong>Inconsistent formatting</strong>: Different developers might format single-statement loops differently, making the codebase harder to maintain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consider this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">while (i &lt; items.size())
    processItem(items[i]);
    i++; // This line is NOT part of the loop!</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the increment statement runs only once after the loop completes, creating an infinite loop. With braces, this mistake would be immediately obvious.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue can lead to logic errors and infinite loops when developers mistakenly add statements they believe are part of the loop body. It also reduces code maintainability and consistency across the codebase.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add braces around the loop body, even for single statements. Place the opening brace on the same line as the loop statement and the closing brace on its own line.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">while (i &lt; 10) // Noncompliant
    i++;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">while (i &lt; 10) {
    i++;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Apex Developer Guide - Control Flow Statements - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_loops.htm">Official Salesforce documentation on loop statements in Apex</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-483: Incorrect Block Delimitation - <a href="https://cwe.mitre.org/data/definitions/483.html">Covers issues related to incorrect use of block delimiters that can lead to logic errors</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S121" class="rspec-auto-link">S121</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>