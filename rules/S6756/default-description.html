<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In React, calling <code>setState</code> is the primary way to update a component&#8217;s state. However, calling <code>setState</code> is often asynchronous. React batches state updates for performance reasons, which means that when you call <code>setState</code>, React doesn&#8217;t immediately update the state and trigger a re-render. Instead, it schedules the update for later, and multiple <code>setState</code> calls within the same event handler or function may be batched together. This can lead to unexpected behavior if you assume that state updates are immediate. Therefore, you should not rely on their values for calculating the next state.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function increment() {
  this.setState({count: this.state.count + 1}); // Noncompliant
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To mitigate this, you should use functional updates when the new state depends on the previous state, ensuring that you&#8217;re always working with the latest state. This can be done with a second form of <code>setState</code> that accepts a function rather than an object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function increment() {
  this.setState(prevState =&gt; ({count: prevState.count + 1}));
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jsx-eslint/eslint-plugin-react">eslint-plugin-react</a> - Rule <a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/HEAD/docs/rules/no-access-state-in-setstate.md">no-access-state-in-setstate</a></p>
</li>
<li>
<p>React Documentation - <a href="https://react.dev/reference/react/Component#setstate">setState</a></p>
</li>
<li>
<p>React Documentation - <a href="https://react.dev/reference/react/Component#setstate-caveats">setState caveats</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>