<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The optional chaining operator <code>?.</code> allows to access a deeply nested property, returning <code>undefined</code> if the property or any intermediate object is <code>undefined</code>.</p>
</div>
<div class="paragraph">
<p>This usually means that the expression is expected to evaluate as <code>undefined</code> in some cases. Therefore, using the optional chaining operator in a context where returning <code>undefined</code> throws an error can lead to runtime exceptions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">(event?.callback)(); // Noncompliant: when 'event' does not have 'callback' property TypeError is thrown
const { code } = event?.error; // Noncompliant: when 'event' does not have 'error' property TypeError is thrown
func(...event?.values); // Noncompliant: when 'event' does not have 'values' property TypeError is thrown</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since optional chaining represents multiple execution branches, having an error thrown in such a context can be hard to debug.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to prevent runtime errors, you should provide fallbacks for when the optional chaining operator short-circuits to <code>undefined</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Nullish coalescing operator <code>??</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>(event?.callback ?? defaultCallback)();</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Logical OR operator <code>||</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>(event?.callback || defaultCallback)();</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ternary operator <code>condition ? exprIfTrue : exprIfFalse</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">(event?.callback ? event?.callback : defaultCallback)();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://eslint.org">eslint</a> - Rule <a href="https://eslint.org/docs/latest/rules/no-unsafe-optional-chaining">no-unsafe-optional-chaining</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">Optional chaining (?.)</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing">Nullish coalescing operator (??)</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR">Logical OR (||)</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_operator">Conditional (ternary) operator</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>