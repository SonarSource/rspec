<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when <code>nil</code> is passed as a <code>context.Context</code> parameter to a function call.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Go, the <code>context</code> package is designed to carry deadlines, cancellation signals, and request-scoped values across API boundaries. When you pass <code>nil</code> as a Context parameter, you break this chain and create several problems.</p>
</div>
<div class="paragraph">
<p>First, passing <code>nil</code> context can cause runtime panics. Many functions that accept a Context parameter will call methods on it (like <code>ctx.Done()</code> or <code>ctx.Err()</code>). When the context is <code>nil</code>, these method calls will panic and crash your program.</p>
</div>
<div class="paragraph">
<p>Second, <code>nil</code> contexts prevent proper cancellation and timeout handling. Context is Go&#8217;s standard way to signal when operations should be cancelled or when they&#8217;ve exceeded their allowed time. By passing <code>nil</code>, you lose this capability, which can lead to operations running longer than intended.</p>
</div>
<div class="paragraph">
<p>Third, <code>nil</code> contexts can cause resource leaks. Without proper context propagation, goroutines and other resources may not be cleaned up when they should be, leading to memory leaks and degraded performance over time.</p>
</div>
<div class="paragraph">
<p>The Go documentation explicitly states: "Do not pass a nil Context, even if a function permits it." This guidance exists because even if a function can technically handle <code>nil</code> context, it&#8217;s almost never the right choice.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Passing <code>nil</code> context can cause runtime panics that crash the application. It also prevents proper cancellation and timeout handling, potentially leading to resource leaks, uncontrolled operations, and degraded performance. In server applications, this can result in goroutine leaks and memory exhaustion.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace <code>nil</code> with <code>context.TODO()</code> when you&#8217;re unsure which context to use, or with <code>context.Background()</code> for top-level operations.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func callService() {
    result := serviceCall(nil, "data") // Noncompliant
    // process result
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func callService() {
    result := serviceCall(context.TODO(), "data")
    // process result
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Go Context Package Documentation - <a href="https://pkg.go.dev/context">Official Go documentation for the context package, including best practices and usage guidelines</a></p>
</li>
<li>
<p>Go Blog: Context and Structs - <a href="https://go.dev/blog/context-and-structs">Detailed explanation of how to properly use Context in Go applications</a></p>
</li>
<li>
<p>Go Blog: Context - <a href="https://go.dev/blog/context">Introduction to Go&#8217;s context package with examples</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>