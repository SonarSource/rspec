<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To optimize the rendering of React list components, a unique identifier (UID) is required in the <code>key</code> attribute for each list item. This UID lets React identify the item throughout its lifetime.  Using generated values like <code>Math.random()</code> or <code>Date.now()</code> is discouraged as their return value will differ between calls, causing the keys to not match up between renders, recreating the DOM. Also, this may cause bugs if values collide.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function Blog(props) {
  return (
    &lt;ul&gt;
      {props.posts.map((post) =&gt;
        &lt;li key={Math.random()}&gt; &lt;!-- Noncompliant: Since the 'key' will be different on each render, React will update the DOM unnecessarily --&gt;
          {post.title}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To fix it, use a string or a number that uniquely identifies the list item. The key must be unique among its siblings, not globally.</p>
</div>
<div class="paragraph">
<p>If the data comes from a database, database IDs are already unique and are the best option. Otherwise, use a counter or a UUID generator.</p>
</div>
<div class="paragraph">
<p>Avoid using array indexes since, even if they are unique, the order of the elements may change.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function Blog(props) {
  return (
    &lt;ul&gt;
      {props.posts.map((post) =&gt;
        &lt;li key={post.id}&gt;
          {post.title}
        &lt;/li&gt;
      )}
    &lt;/ul&gt;
  );
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>React Documentation - <a href="https://react.dev/learn/rendering-lists#rules-of-keys">Rendering lists</a></p>
</li>
<li>
<p>React Documentation - <a href="https://reactjs.org/docs/reconciliation.html#recursing-on-children">Recursing On Children</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID">Crypto: randomUUID() method</a></p>
</li>
<li>
<p>Wikipedia - <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S6477" class="rspec-auto-link">S6477</a> - JSX list components should have a key property</p>
</li>
<li>
<p><a data-rspec-id="S6479" class="rspec-auto-link">S6479</a> - JSX list components should not use array indexes as key</p>
</li>
</ul>
</div>
</div>
</div>
</div>