== Why is this an issue?

React expects a unique identifier `key` in list components to optimize rendering. Using generated values like `Math.random()` or `Date.now()` is discouraged as their return value will be different between calls, and React will force a re-render every time. Also, this may cause bugs if values collide.

[source,javascript]
----
function generateButtons(props) {
  return props.buttons.map((button, index) => {
    <Button key={Math.random()}>{button.number}</Button>
  });
}
----

Instead, use a string or a number that uniquely identifies it among other items in that array. The key must be unique among its siblings, not globally. A well-chosen key provides more information than the position within the array. Even if the position changes due to reordering, the key lets React identify the item throughout its lifetime.

If the data comes from a database, database IDs are already unique and are the best option. Otherwise, use a counter or a UUID generator.


[source,javascript]
----
function generateButtons(props) {
  return props.buttons.map((button, index) => {
    <Button key={button.number}>{button.number}</Button>
  });
}
----

== Resources

=== Documentation

* https://react.dev/learn/rendering-lists#rules-of-keys[React API reference - Rendering lists]
* https://reactjs.org/docs/reconciliation.html#recursing-on-children[React API reference - Recursing On Children]
* https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID[MDN - Crypto: randomUUID() method]
* https://en.wikipedia.org/wiki/Universally_unique_identifier[Wikipedia - UUID]

=== Related rules

* S6477
* S6479
