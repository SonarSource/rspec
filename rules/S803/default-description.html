<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No tag name shall be reused either to define a different tag or for any other purpose within the program. ISO 9899:1990 [2] does not define the behaviour when an aggregate declaration uses a tag in different forms of type specifier (struct or union). Either all uses of the tag should be in structure type specifiers, or all uses should be in union type specifiers.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct stag { uint16_t a; uint16_t b; };
struct stag a1 = { 0, 0 }; // Compliant, compatible with above
union stag a2 = { 0, 0 }; // Noncompliant, definition was a 'struct'
void foo(void)
{
  struct stag { uint16_t a; }; // Noncompliant, tag stag redefined
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MISRA C:2004, 5.4</p>
</div>
<div class="paragraph">
<p>MISRA C&#43;&#43;:2008, 2-10-4</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Use ["struct"|"union"] (instead of ["union"|"struct"]) to match the definition.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s808">relates to: <a data-rspec-id="S808" class="rspec-auto-link">S808</a></h3>

</div>
<div class="sect2">
<h3 id="_on_17_oct_2014_131151_ann_campbell_wrote">on 17 Oct 2014, 13:11:51 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>The message should be either</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a remediation action: Rename "xxx".</p>
</li>
<li>
<p>a clear statement of what&#8217;s wrong: "xxx" duplicates the name of a "yyy" defined "zzz".</p>
</li>
</ul>
</div>
</div>
</div>
</div>