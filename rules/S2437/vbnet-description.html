<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Certain <a href="https://learn.microsoft.com/en-us/dotnet/visual-basic/programming-guide/language-features/operators-and-expressions/logical-and-bitwise-operators#bitwise-operations">bitwise operations</a> are not needed and should not be performed because their results are predictable.</p>
</div>
<div class="paragraph">
<p>Specifically, using <code>And -1</code> with any value always results in the original value.</p>
</div>
<div class="paragraph">
<p>That is because the binary representation of <code>-1</code> on a <a href="https://learn.microsoft.com/en-us/dotnet/visual-basic/programming-guide/language-features/data-types/numeric-data-types">numeric data type</a> supporting negative numbers, such as <code>Integer</code> or <code>Long</code>, is based on <a href="https://en.wikipedia.org/wiki/Two%27s_complement">two&#8217;s complement</a> and made of all 1s: <code>&amp;B111&#8230;&#8203;111</code>.</p>
</div>
<div class="paragraph">
<p>Performing <code>And</code> between a value and <code>&amp;B111&#8230;&#8203;111</code> means applying the <code>And</code> operator to each bit of the value and the bit <code>1</code>, resulting in a value equal to the provided one, bit by bit.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-vbnet" data-lang="vbnet">anyValue And -1 ' Noncompliant
anyValue        ' Compliant</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, <code>anyValue Or 0</code> always results in <code>anyValue</code>, because the binary representation of <code>0</code> is always <code>&amp;B000&#8230;&#8203;000</code> and the <code>Or</code> operator returns its first input when the second is <code>0</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-vbnet" data-lang="vbnet">anyValue Or 0 ' Noncompliant
anyValue      ' Compliant</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same applies to <code>anyValue Xor 0</code>: the <code>Xor</code> operator returns <code>1</code> when its two input bits are different (<code>1</code> and <code>0</code> or <code>0</code> and <code>1</code>) and returns <code>0</code> when its two input bits are the same (both <code>0</code> or both <code>1</code>).
When <code>Xor</code> is applied with <code>0</code>, the result would be <code>1</code> if the other input is <code>1</code>, because the two input bits are different, and <code>0</code> if the other input bit is <code>0</code>, because the two input are the same. That results in returning <code>anyValue</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-vbnet" data-lang="vbnet">anyValue Xor 0 ' Noncompliant
anyValue       ' Compliant</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators">Bitwise operations (C# reference)</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/visual-basic/language-reference/operators/and-operator">And Operator (Visual Basic)</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/visual-basic/language-reference/operators/or-operator">Or Operator (Visual Basic)</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/visual-basic/language-reference/operators/xor-operator">Xor Operator (Visual Basic)</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/integral-numeric-types">Integral numeric types (C# reference)</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/visual-basic/programming-guide/language-features/data-types/numeric-data-types">Numeric Data Types (Visual Basic)</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Two%27s_complement">Two&#8217;s complement</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_articles_blog_posts">Articles &amp; blog posts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://stackoverflow.com/questions/12764670/are-there-any-bitwise-operator-laws">Stack Overflow - Are there any Bitwise Operator Laws?</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this unnecessary bit operation.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_01_jun_2023_171000_antonio_aversa_wrote">on 01 Jun 2023, 17:10:00 Antonio Aversa wrote:</h3>
<div class="paragraph">
<p>During a LaYC sprint, I removed dummy implementations for the following languages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cfamily</p>
</li>
<li>
<p>flex</p>
</li>
<li>
<p>go</p>
</li>
<li>
<p>javascript</p>
</li>
<li>
<p>php</p>
</li>
<li>
<p>python</p>
</li>
<li>
<p>swift</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>They are not implemented in the corresponding analyzer and there currently are no tickets open in order to do so.</p>
</div>
<div class="paragraph">
<p>The title for the java version of the rule was also changed, replacing "silly" with "unnecessary".</p>
</div>
</div>
</div>
</div>