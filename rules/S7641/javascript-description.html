<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when Angular lifecycle methods are implemented in classes where they won&#8217;t be called by the framework.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Angular lifecycle methods are only called by the framework in specific contexts. Each decorator type (@Component, @Directive, @Injectable, @NgModule, @Pipe) supports different lifecycle methods.</p>
</div>
<div class="paragraph">
<p>Using lifecycle methods in the wrong context creates several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The methods will never be called by Angular, making the code ineffective</p>
</li>
<li>
<p>It misleads other developers about when the code will execute</p>
</li>
<li>
<p>It can indicate a misunderstanding of Angular&#8217;s architecture</p>
</li>
<li>
<p>It adds unnecessary code that serves no purpose</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, view-related lifecycle methods like <code>ngAfterViewInit</code> only work in Components and Directives that have templates. Using them in Services or Pipes is meaningless since these don&#8217;t have views.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>The code will not behave as expected since the lifecycle methods won&#8217;t be called. This can lead to initialization logic not running, cleanup not happening, or change detection not working properly. It may also confuse team members about the application&#8217;s behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix_in_angular">How to fix in Angular?</h3>
<div class="paragraph">
<p>Remove lifecycle methods that are not supported in the current context, or move the logic to an appropriate lifecycle method or initialization pattern.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">@Injectable()
class UserService {
  ngOnInit() { // Noncompliant - Services don't support ngOnInit
    this.loadUsers();
  }

  ngAfterViewInit() { // Noncompliant - Services don't have views
    console.log('View initialized');
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">@Injectable()
class UserService {
  constructor() {
    this.loadUsers(); // Use constructor for initialization
  }

  ngOnDestroy() { // Only ngOnDestroy is supported in services
    this.cleanup();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use ngDoBootstrap only in NgModule classes, not in Components or other contexts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example_2">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">@Component({
  selector: 'app-root',
  template: '&lt;div&gt;App&lt;/div&gt;'
})
class AppComponent {
  ngDoBootstrap() { // Noncompliant - Components don't support ngDoBootstrap
    console.log('Bootstrapping');
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example_2">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-typescript" data-lang="typescript">@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule]
})
class AppModule {
  ngDoBootstrap() { // Correct - NgModules support ngDoBootstrap
    console.log('Bootstrapping');
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/angular-eslint/angular-eslint">Angular ESLint</a> - Rule <a href="https://github.com/angular-eslint/angular-eslint/blob/main/packages/eslint-plugin/docs/rules/contextual-lifecycle.md">contextual-lifecycle</a></p>
</li>
<li>
<p>Angular Lifecycle Hooks - <a href="https://angular.dev/guide/components/lifecycle">Official Angular documentation on lifecycle hooks and their usage contexts</a></p>
</li>
<li>
<p>Angular Services and Dependency Injection - <a href="https://angular.dev/guide/di">Guide on Angular services and their lifecycle</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>