<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>React&#8217;s <code>useState</code> hook setter function should not be called directly in the body of a component, as it would produce an infinite render loop. A re-rendering occurs whenever the state of a component changes. Since a hook setter function changes the component&#8217;s state, it also triggers re-rendering.</p>
</div>
<div class="paragraph">
<p>The loop "state updates &#8594; triggers re-render &#8594; state updates &#8594; triggers re-render &#8594; &#8230;&#8203;" will continue indefinitely.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">import { useState } from "react";

function ShowLanguage() {
    const [language, setLanguage] = useState("fr-FR");

    setLanguage(navigator.language); // Noncompliant: causes an infinite loop

    return (
      &lt;section&gt;
        &lt;h1&gt;Your language is {language}!&lt;/h1&gt;
        &lt;button onClick={() =&gt; setLanguage("fr-FR")}&gt;Je préfère le français&lt;/button&gt;
      &lt;/section&gt;
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead, the setter function should be called from an event handler.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">import { useState } from "react";

function ShowLanguage() {
    const [language, setLanguage] = useState(navigator.language);

    return (
      &lt;section&gt;
        &lt;h1&gt;Your language is {language}!&lt;/h1&gt;
        &lt;button onClick={() =&gt; setLanguage("fr-FR")}&gt;Je préfère le Français&lt;/button&gt;
      &lt;/section&gt;
    );
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>React Documentation - <a href="https://react.dev/reference/react">React Hooks</a></p>
</li>
<li>
<p>React Documentation - <a href="https://react.dev/reference/react/useState">useState - API reference</a></p>
</li>
<li>
<p>React Documentation - <a href="https://react.dev/reference/react/useState#im-getting-an-error-too-many-re-renders">useState - Troubleshooting</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>