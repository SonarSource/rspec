<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an issue when using time helper methods like <code>.weeks</code>, <code>.days</code>, <code>.months</code>, or <code>.years</code> on numeric values without loading the ActiveSupport extensions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ruby&#8217;s core numeric classes (Integer, Float) do not include time helper methods like <code>.weeks</code>, <code>.days</code>, <code>.months</code>, or <code>.years</code>. These convenient methods are provided by ActiveSupport, a library that extends Ruby&#8217;s core classes with additional functionality.</p>
</div>
<div class="paragraph">
<p>When you write code like <code>2.weeks</code> or <code>30.days</code> without loading ActiveSupport, Ruby will raise a <code>NoMethodError</code> at runtime because these methods don&#8217;t exist on the numeric classes. This error only appears when the code is actually executed, making it particularly problematic in production environments.</p>
</div>
<div class="paragraph">
<p>This issue commonly occurs when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Moving code from a Rails application (where ActiveSupport is automatically loaded) to a plain Ruby project</p>
</li>
<li>
<p>Writing standalone Ruby scripts that use time calculations</p>
</li>
<li>
<p>Creating gems or libraries that need to work independently of Rails</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is especially tricky because the code looks correct and natural, but fails unexpectedly at runtime.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue causes runtime failures that can crash your application when the problematic code is executed. In production environments, this can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application downtime when time-related calculations are performed</p>
</li>
<li>
<p>Failed background jobs or scheduled tasks</p>
</li>
<li>
<p>Broken user workflows that involve date/time operations</p>
</li>
<li>
<p>Difficult debugging since the error only appears during execution, not during code review or static analysis</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Load ActiveSupport&#8217;s numeric time extensions to enable the helper methods.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class Job
  def set_expiration
    self.expires_on = Time.now + 2.weeks  # Noncompliant
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">require 'active_support/core_ext/numeric/time'

class Job
  def set_expiration
    self.expires_on = Time.now + 2.weeks
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>ActiveSupport Core Extensions - Numeric Time - <a href="https://guides.rubyonrails.org/active_support_core_extensions.html#extensions-to-numeric">Official Rails guide explaining ActiveSupport&#8217;s numeric time extensions</a></p>
</li>
<li>
<p>Ruby Time Class Documentation - <a href="https://ruby-doc.org/core/Time.html">Official Ruby documentation for the Time class</a></p>
</li>
<li>
<p>Ruby Date Class Documentation - <a href="https://ruby-doc.org/stdlib/libdoc/date/rdoc/Date.html">Official Ruby documentation for the Date class</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>