<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The use of <code>==</code> to compare two objects is expected to do a reference comparison. That is, it is expected to return <code>true</code> if and only if they are the same object instance. Overloading the operator to do anything else will inevitably lead to the introduction of bugs by callers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public static bool operator ==(MyType x, MyType y) // Noncompliant: confusing for the caller
{
    // custom implementation
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>On the other hand, overloading it to do exactly that is pointless; that&#8217;s what <code>==</code> does by default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public static bool operator ==(MyType x, MyType y) // Noncompliant: redundant
{
    if (x == null)
    {
        return y == null;
    }

    return object.ReferenceEquals(x,y);
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="ulist">
<ul>
<li>
<p>Classes with overloaded <code>operator +</code> or <code>operator -</code> are ignored.</p>
</li>
<li>
<p>Classes that implement <code>IComparable&lt;T&gt;</code> or <code>IEquatable&lt;T&gt;</code> most probably behave as value-type objects and are ignored.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/reference-types">Reference types</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-operators">Equality operators</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this overload of "==".</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p><code>==</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_31_may_2023_164208_greg_paidis_wrote">on 31 May 2023, 16:42:08 Greg Paidis wrote:</h3>
<div class="paragraph">
<p>During a .NET LaYC sprint, I deleted the dummy specification of CFamily, since there is no implementation or implementation ticket.</p>
</div>
</div>
</div>
</div>