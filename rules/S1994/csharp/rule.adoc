== Why is this an issue?

The counter of a `for` loop should be updated in the loop's increment section.
The purpose of a `for` loop is to iterate over a range using a counter variable.
It should not be used for other purposes, and alternative https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/iteration-statements[iteration statement] should be considered in those cases.

If the counter is not updated, the loop will be infinite with a constant counter variable. If this is intentional, use a `while` or `do while` loop instead of a `for` loop.


== How to fix it

Move the counter variable update to the loop's increment section.

If this is impossible, consider using another iteration statement instead.

=== Code examples

==== Noncompliant code example

[source,csharp,diff-id=1,diff-type=noncompliant]
----
int sum = 0;
for (int i = 0; i < 10; sum++) // Noncompliant, i not updated in increment section
{
  // ...
  i++;
}
----

[source,csharp,diff-id=2,diff-type=noncompliant]
----
for (int i = 0;; i++) // Noncompliant, the loop condition is empty althoug incrementing i
{
  // ...
}
----


==== Compliant solution

[source,csharp,diff-id=1,diff-type=compliant]
----
int sum = 0;
for (int i = 0; i < 10; i++) // Compliant
{
  // ...
  sum++;
}
----

[source,csharp,diff-id=2,diff-type=compliant]
----
for (int i = 0; i < 10; i++) // Compliant
{
  // ...
}
----

==== Noncompliant code example

[source,csharp,diff-id=3,diff-type=noncompliant]
----
List<int> myList = new List<int>();
for (int i = 0; myList.Count < 10; i++) // Noncompliant
{
  myList.Add(i);
}
----

==== Compliant solution

[source,csharp,diff-id=3,diff-type=compliant]
----
List<int> myList = new List<int>();
int i = 0;
while (myList.Count < 10) // Compliant
{
  myList.Add(i++);
}
----

== Resources

=== Documentation

* Microsoft Learn - https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/iteration-statements#the-for-statement[The `for` statement]
* Microsoft Learn - https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/iteration-statements[Iteration statements - `for`, `foreach`, `do`, and `while`]

include::../rspecator.adoc[]
