This rule raises an issue when an interface consists only of constant definitions without other members.

== Why is this an issue?

An interface that consists only of constant definitions is a bad practice.
The purpose of interfaces is to provide API, not implementation details.
That is, they should provide functions in the first place and constants only
to assist these functions, for example, as possible arguments.

If an interface contains constants only, they should either be moved to somewhere else,
or the interface should be replaced with an _Enum_.

== How to fix it

Either replace the interface with an _Enum_ or remove the interface and move the constants to one of the classes that use them.
If the constants are only an implementation detail,
declare the moved constants or the enum _private_ or _package protected_.

=== Code examples

==== Noncompliant code example

[source,java,diff-id=1,diff-type=noncompliant]
----
interface Status {                      // Noncompliant, enum should be used
   int OPEN = 1;
   int CLOSED = 2;
}
----

==== Compliant solution

[source,java,diff-id=1,diff-type=compliant]
----
public enum Status {                    // Compliant
  OPEN,
  CLOSED
}
----

==== Noncompliant code example

[source,java,diff-id=1,diff-type=noncompliant]
----
interface AuxiliaryConstants {          // Noncompliant, implementation detail
   int BIT_MASK = 0xcff7;
   int MAX_16BIT_VAL = 0xffff;
   int CHUNK_SIZE = 32;
}
----

==== Compliant solution

[source,java,diff-id=1,diff-type=compliant]
----
class BitFiddler {                      // Compliant
   private final int BIT_MASK = 0xcff7;
   private final int MAX_16BIT_VAL = 0xffff;
   private final int CHUNK_SIZE = 32;
   // ...
}
----

== Resources

=== Articles & blog posts

* https://dzone.com/articles/reasons-why-the-constant-interface-pattern-is-disc[Mohammad Nadeem - Why the Constant Interface Pattern Should Be Discouraged]
* Joshua Bloch - Effective Java, ISBN 9780134686097

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

=== Message

Move constants defined in this interface to another class or enum.

'''
== Comments And Links
(visible only on this page)

=== on 30 May 2023, 18:05:21 Marco Kaufmann wrote:
Reworked into new educational format. The comments below should be obsolete due to that, because both use-cases, Enum and implementation details, are now addressed in the text and in the examples.

=== on 23 Aug 2013, 08:38:39 Dinesh Bolkensteyn wrote:
Implemented by \http://jira.codehaus.org/browse/SONARJAVA-320

=== on 24 Aug 2013, 18:25:46 Ann Campbell wrote:
The advice here is to move to an enum, but an enum may not be appropriate for the constants involved. The typical advice (Bloch's advice too) appears to make the constants public static final in a class with a private constructor...?

=== on 24 Aug 2013, 18:29:43 Ann Campbell wrote:
I question the advice we're giving here...

=== on 26 Aug 2013, 04:43:19 Dinesh Bolkensteyn wrote:
hm, a utilitly class? Those aren't really nice to use - and is listed as last option (3) in Effective Java.

But indeed he suggests to 1) add constants such as Integer.MAX_VALUE and Integer.MIN_VALUE to the Integer class directly *or* 2) to move them to an enum if applicable

=== on 26 Aug 2013, 04:51:26 Dinesh Bolkensteyn wrote:
\[~ann.campbell.2] Does this updated issue message work for you? 'Move these constants either into an enum or to the implementing class.'

endif::env-github,rspecator-view[]
