<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when an interface consists only of constant definitions without other members.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An interface that consists solely of constant definitions is a bad practice.
The purpose of interfaces is to provide an API, not implementation details.
That is, they should provide functions in the first place and constants only
to assist these functions, for example, as possible arguments.</p>
</div>
<div class="paragraph">
<p>If an interface contains constants only, move them either to somewhere else,
or replace the interface with an <em>Enum</em> or a final class with a private constructor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the concrete value of the constants is not essential, and they serve as mere identifiers,
replace the interface with an <code>enum</code> like in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public interface Status { // Noncompliant, enum should be used
  int OPEN = 1;
  int CLOSED = 2;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public enum Status {      // Compliant
  OPEN,
  CLOSED
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In some cases, enums are not a suitable option because the concrete constant value is important.
Then you should check whether it is appropriate to move them to a specific existing class,
for example, if that class is the primary user of the constants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">interface AuxiliaryConstants { // Noncompliant, implementation detail of WordPacker
  int BITS_PER_WORD = 16;
  int WORD_MASK = (1 &lt;&lt; BITS_PER_WORD) - 1;
  int HI_WORD_BK_MASK = ~(WORD_MASK &lt;&lt; BITS_PER_WORD);
}

class WordPacker {
  public static int getHiWord(int value) {
    return (value &gt;&gt;&gt; AuxiliaryConstants.BITS_PER_WORD);
  }

  public static int setHiWord(int value, int wordValue) {
    return (value &amp; AuxiliaryConstants.HI_WORD_BK_MASK) |
      (wordValue &lt;&lt; AuxiliaryConstants.BITS_PER_WORD);
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class WordPacker { // Compliant
  private static final int BITS_PER_WORD = 16;
  private static final int WORD_MASK = (1 &lt;&lt; BITS_PER_WORD) - 1;
  private static final int HI_WORD_BK_MASK = ~(WORD_MASK &lt;&lt; BITS_PER_WORD);

  public static int getHiWord(int value) {
      return (value &gt;&gt;&gt; BITS_PER_WORD);
  }

  public static int setHiWord(int value, int wordValue) {
    return (value &amp; HI_WORD_BK_MASK) | (wordValue &lt;&lt; BITS_PER_WORD);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If this is not the case and several classes are using the constants equally,
you should use a final class with a private constructor.
Unlike interfaces, they can neither be inherited from nor instantiated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public interface ColorTheme { // Noncomplient, final class should be used
  int COLOR_ERROR = 0xff0000;   // red
  int COLOR_WARNING = 0xffff00; // yellow
  int COLOR_OK = 0x00cf00;      // green
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public final class ColorTheme { // Compliant
  public static final int COLOR_ERROR = 0xff0000;   // red
  public static final int COLOR_WARNING = 0xffff00; // yellow
  public static final int COLOR_OK = 0x00cf00;      // green

  private ColorTheme() {}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_articles_blog_posts">Articles &amp; blog posts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://dzone.com/articles/reasons-why-the-constant-interface-pattern-is-disc">Mohammad Nadeem - Why the Constant Interface Pattern Should Be Discouraged</a></p>
</li>
<li>
<p>Joshua Bloch - Effective Java, ISBN 9780134686097</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move constants defined in this interface to another class or enum.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_30_may_2023_180521_marco_kaufmann_wrote">on 30 May 2023, 18:05:21 Marco Kaufmann wrote:</h3>
<div class="paragraph">
<p>Reworked into new educational format. The comments below should be obsolete due to that, because both use-cases, Enum and implementation details, are now addressed in the text and in the examples.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_aug_2013_083839_dinesh_bolkensteyn_wrote">on 23 Aug 2013, 08:38:39 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Implemented by http://jira.codehaus.org/browse/SONARJAVA-320</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_aug_2013_182546_ann_campbell_wrote">on 24 Aug 2013, 18:25:46 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>The advice here is to move to an enum, but an enum may not be appropriate for the constants involved. The typical advice (Bloch&#8217;s advice too) appears to make the constants public static final in a class with a private constructor&#8230;&#8203;?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_aug_2013_182943_ann_campbell_wrote">on 24 Aug 2013, 18:29:43 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>I question the advice we&#8217;re giving here&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_26_aug_2013_044319_dinesh_bolkensteyn_wrote">on 26 Aug 2013, 04:43:19 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>hm, a utilitly class? Those aren&#8217;t really nice to use - and is listed as last option (3) in Effective Java.</p>
</div>
<div class="paragraph">
<p>But indeed he suggests to 1) add constants such as Integer.MAX_VALUE and Integer.MIN_VALUE to the Integer class directly <strong>or</strong> 2) to move them to an enum if applicable</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_26_aug_2013_045126_dinesh_bolkensteyn_wrote">on 26 Aug 2013, 04:51:26 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Does this updated issue message work for you? 'Move these constants either into an enum or to the implementing class.'</p>
</div>
</div>
</div>
</div>