== Why is this an issue?

include::../rationale.adoc[]

include::../impact.adoc[]

== How to fix it

=== Code examples

include::../common/fix/code-rationale.adoc[]

==== Noncompliant code example

[source,go,diff-id=1,diff-type=noncompliant]
----
import "runtime/debug"

_, err := funcThatFails()
if err != nil {
    fmt.Printf("Error calling funcThatFails: %v\n", err)
    debug.PrintStack() // Noncompliant
    return
}
----

[source,go,diff-id=2,diff-type=noncompliant]
----
import (
    "net/http"
    _ "net/http/pprof" // Noncompliant
)

func main() {
    http.ListenAndServe(":6060", nil)
}
----

[source,go,diff-id=3,diff-type=noncompliant]
----
import (
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

db, err := gorm.Open(sqlite.Open("test.db"), &gorm.Config{
    Logger: logger.Default.LogMode(logger.Info), // Noncompliant
})
if err != nil {
    panic("failed to connect database")
}

db.Debug().Create(&User{Account: acccount, Password: password}) // Noncompliant
----

==== Compliant solution

[source,go,diff-id=1,diff-type=compliant]
----
_, err := funcThatFails()
if err != nil {
    fmt.Printf("Error calling funcThatFails: %v\n", err)
    return
}
----

[source,go,diff-id=2,diff-type=compliant]
----
import (
    "net/http"
)

func main() {
    http.ListenAndServe(":6060", nil)
}
----

[source,go,diff-id=3,diff-type=compliant]
----
import (
    "gorm.io/driver/sqlite"
    "gorm.io/gorm"
)

db, err := gorm.Open(sqlite.Open("test.db"), &gorm.Config{
    Logger: logger.Default.LogMode(logger.Warn),
})
if err != nil {
    panic("failed to connect database")
}

db.Create(&User{Account: acccount, Password: password})
----

=== How does this work?

include::../common/fix/how.adoc[]

== Resources

include::../common/resources/standards.adoc[]

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

include::../message.adoc[]

endif::env-github,rspecator-view[]
