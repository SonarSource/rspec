<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a property getter, setter or deleter does not have the correct number of arguments.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating property accessors and mutators is quite common in Object-Oriented Programming. Python provides two main ways of implementing getters, setters and deleters; either with the <code>@property</code> decorator, or with the <code>property</code> function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>class WithPropertyDecorator(object):
    @property
    def foo(self)
        return self._foo

    @foo.setter
    def foo(self, value):
        self._foo = value

    @foo.deleter
    def foo(self):
        del self._foo

class WithPropertyMethod(object):
    def get_foo(self):
        return self._foo

    def set_foo(self, value):
        self._foo = value

    def del_foo(self):
        del self._foo

    foo = property(get_foo, set_foo, del_foo, "'foo' property.")</pre>
</div>
</div>
<div class="paragraph">
<p>The following program illustrates how using the built-in operations will call the custom methods defined above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>with_decorator = WithPropertyDecorator()
with_decorator.foo = 1 # the method defined under @foo.setter will be called.
some_var = with_decorator.foo # the method defined under @foo.getter will be called.
del with_decorator.foo # the method defined under @foo.deleter will be called.


with_method = WithPropertyMethod()
with_method.foo = 1 # the method set_foo will be called.
some_var = with_method.foo # the method get_foo will be called.
del with_method.foo # the method del_foo will be called.</pre>
</div>
</div>
<div class="paragraph">
<p>Defining a property this way allows for flexibility when refactoring the implementation of the getters, setters and deleters method, as all the accesses and modifications are done through the Python built-in operators (<code>=</code>,<code>.</code>) and keyword (<code>del</code>).</p>
</div>
<div class="paragraph">
<p>Property getter, setter and deleter methods are called by the Python interpreter with a specific number of arguments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Property getter and deleter methods only require a "self" argument.</p>
</li>
<li>
<p>Property setter methods require a "self" argument as well as a value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Adding any other parameters, or removing these mandatory parameters will throw a <code>TypeError</code> exception at runtime when trying to access or modify the property.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure to specify the correct number of argument for each setter, getter and deleter methods.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class A:
    @property
    def foo(self, unexpected, unexpected2):  # Noncompliant: too many parameters.
        return self._foo

    @foo.setter
    def foo(self):  # Noncompliant: a parameter is missing.
        self._foo = 42

    @foo.deleter
    def foo(self, unexpected):  # Noncompliant: too many parameters.
        del self._foo

class B:
    def get_foo(self, unexpected):  # Noncompliant: too many parameters.
        return self._foo

    def set_foo(self, value, unexpected):  # Noncompliant: too many parameters.
        self._foo = value

    def del_foo(self, unexpected):  # Noncompliant: too many parameters.
        del self._foo

    foo = property(get_foo, set_foo, del_foo, "'foo' property.")</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">class A:
    @property
    def foo(self):
        return self._foo

    @foo.setter
    def foo(self, value):
        self._foo = value

    @foo.deleter
    def foo(self):
        del self._foo

class B:
    def get_foo(self):
        return self._foo

    def set_foo(self, value):
        self._foo = value

    def del_foo(self):
        del self._foo

    foo = property(get_foo, set_foo, del_foo, "'foo' property.")</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.python.org/3/library/functions.html#property">Built-in Functions - property</a> - Python Documentation</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Remove XXX parameters; property getter methods receive only "self".</p>
</li>
<li>
<p>Remove XXX parameters; property deleter methods receive only "self".</p>
</li>
<li>
<p>Remove XXX parameters; property setter methods receive "self" and a value.</p>
</li>
<li>
<p>Add the value parameter; property setter methods receive "self" and a value.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>The method signature.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_11_feb_2020_182423_nicolas_harraudeau_wrote">on 11 Feb 2020, 18:24:23 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>Note that we don&#8217;t raise any issue for missing "self" parameter because this is already covered by <a data-rspec-id="S5720" class="rspec-auto-link">RSPEC-5720</a>.</p>
</div>
</div>
</div>
</div>