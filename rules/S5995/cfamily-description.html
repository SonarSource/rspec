<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using <code>std::bind</code> or <code>boost::bind</code> allows to create a wrapper to a function where some arguments are bound to fixed values, or the order of arguments is changed. However, this way of wrapping a function comes with some issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The code is not really clear, the usage of placeholders makes it difficult to follow,</p>
</li>
<li>
<p>The complexity of the implementation of <code>std::bind</code> often results in sub-optimal code,</p>
</li>
<li>
<p>The possibilities offered by <code>bind</code> are limited, for instance, it&#8217;s not possible to bind a function with variable arguments,</p>
</li>
<li>
<p><code>bind</code> allows to silently discard some arguments, which is often not what was expected,</p>
</li>
<li>
<p>Fixed arguments are evaluated when <code>bind</code> is called, not when the bound function is called, which might be surprising in some cases,</p>
</li>
<li>
<p><code>bind</code> requires to take the address of a function, which can be difficult (if the function is overloaded) or not recommended (for standard library functions, see <a data-rspec-id="S5180" class="rspec-auto-link">S5180</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create such a wrapper, it is usually better to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>either write a simple lambda that just calls the wrapped function with the full power of the language concerning how the arguments are going to be tinkered with.</p>
</li>
<li>
<p>or, if the function <code>bind</code> is only applied to the first arguments, call <code>std::bind_front</code> that has been introduced in C&#43;&#43;20 and that is safer to use and a simpler replacement than lambdas.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">constexpr int multiply(int a, int b) {return a*b;}
auto flipMultiplication = std::bind(multiply, std::placeholders::_2, std::placeholders::_1); // Noncompliant
int i = flipMultiplication (6, 7);

struct Logger {
    string subsystem;
    template &lt;class T&gt;
    void operator()(T const &amp;what) {  cout &lt;&lt; subsystem &lt;&lt; ": " &lt;&lt; what &lt;&lt; "\n"; }
};

void f(){
    Logger net {"network"};
    // Noncompliant in C++14, compliant by exception in C++11 because it would require a polymorphic lambda
    auto networkLog = bind(net, _1);
    networkLog(4);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">constexpr int multiply(int a, int b) {return a*b;}
auto flipMultiplication = [](int a, int b) {return multiply(b, a);}; // Compliant
int i2 = flipMultiplication (6, 7);

void f(){
    Logger net {"network"};
    auto networkLog = [&amp;](auto what) {net(what);}; // Compliant
    networkLog(4);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>Before C&#43;&#43;14 lambda was limited and could not capture by move or be polymorphic. Therefore, if the call to <code>bind</code> makes use of those features, it will not be reported in C&#43;&#43;11.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://abseil.io/tips/108">Abseil - Avoid std::bind</a></p>
</li>
<li>
<p>Effective modern C&#43;&#43; item 34: Prefer lambdas to <code>std::bind</code></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Replace this "{std|boost}::bind" by lambda</p>
</div>
<div class="paragraph">
<p>Post C&#43;&#43;20: Replace this "{std|boost}::bind" by std::bind_front or a lambda</p>
</div>
</div>
</div>
</div>