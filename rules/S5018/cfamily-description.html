<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Move operations (move constructor, move assignment operator) are about efficiently transferring resource ownership. When transferring resources from the source, you don&#8217;t have to allocate any memory or perform any other operation that might fail. This is why most people will expect move operations to be non-throwing.</p>
</div>
<div class="paragraph">
<p>Additionally, if a move operation fails, the source object can have been partially altered by the move, making recovery very tricky or just impossible. Therefore, to ensure robustness, some functions (for instance, <code>std::move_if_noexcept</code>, used by <code>std::vector</code>) will decide to copy your object if its move operations are not decorated with <code>noexcept</code>. This can significantly slow down your program.</p>
</div>
<div class="paragraph">
<p>If you can not implement your move operations so that they never throw, you may only provide copy operations that will be safer to use.</p>
</div>
<div class="paragraph">
<p>Swap operations are similar to move operations in that they should be equivalent to moving two objects into each other. So if you add a swap function to your type, it should be <code>noexcept</code> too.</p>
</div>
<div class="paragraph">
<p>Note that you should not write your move operations for most classes but rely on the "Rule-of-Zero" (<a data-rspec-id="S3624" class="rspec-auto-link">S3624</a>).</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when a move or swap operation is not <code>noexcept</code>, which can happen in two cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The operation is user-defined and is not unconditionally declared as <code>noexcept</code>,</p>
</li>
<li>
<p>The operation is implicitly defined, and one of the class&#8217;s base classes or member variables does not have <code>noexcept</code> move operations.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct A {
  A (A const &amp;a);
  A (A &amp;&amp; a); // Noncompliant
  ~A();
  A &amp;operator=(A const &amp;a);
  A &amp;operator=(A &amp;&amp;a); // Noncompliant
};

void swap(A&amp; a1, A&amp; a2); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct A {
  A (A const &amp;a);
  A (A &amp;&amp; a) noexcept;
  ~A();
  A &amp;operator=(A const &amp;a);
  A &amp;operator=(A &amp;&amp;a) noexcept;
};

void swap(A&amp; a1, A&amp; a2) noexcept;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>C++ Core Guidelines - <a href="https://github.com/isocpp/CppCoreGuidelines/blob/e49158a/CppCoreGuidelines.md#c66-make-move-operations-noexcept">C.66: Make move operations <code>noexcept</code></a></p>
</li>
<li>
<p>C++ Core Guidelines - <a href="https://github.com/isocpp/CppCoreGuidelines/blob/e49158a/CppCoreGuidelines.md#c85-make-swap-noexcept">C.85: Make <code>swap</code> <code>noexcept</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Ensure that this XXX is exception-free and declare it "noexcept".</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>move operation name name</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s5403">is duplicated by: <a data-rspec-id="S5403" class="rspec-auto-link">S5403</a></h3>

</div>
</div>
</div>