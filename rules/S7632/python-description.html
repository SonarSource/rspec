<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when issue suppression comments have an incorrect format or syntax.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Issue suppression comments like <code># NOSONAR</code> and <code># noqa</code> are essential tools for controlling code analysis. When these comments have incorrect syntax, they may not work as expected, leading to confusion about which issues are actually suppressed.</p>
</div>
<div class="paragraph">
<p>Python code analysis supports two main suppression formats:
- <code># NOSONAR</code> - SonarQube&#8217;s suppression comment
- <code># noqa</code> - Python&#8217;s standard "no quality assurance" comment</p>
</div>
<div class="paragraph">
<p>Each format has specific syntax rules. When these rules are violated, the suppression might fail silently or behave unexpectedly, making it unclear whether issues are intentionally ignored or accidentally unsuppressed.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Incorrectly formatted suppression comments can lead to unintended code analysis behavior. Issues that developers think are suppressed might still be reported, while malformed syntax might cause the analyzer to ignore more issues than intended. This creates confusion during code review and reduces confidence in the analysis results.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fix the syntax of issue suppression comments to follow the correct format.</p>
</div>
<div class="paragraph">
<p>For <code># NOSONAR</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code># NOSONAR</code> alone to suppress all issues on the line</p>
</li>
<li>
<p>Use <code># NOSONAR()</code> with empty parentheses to suppress all issues</p>
</li>
<li>
<p>Use <code># NOSONAR(ruleKey1, ruleKey2)</code> to suppress specific rules</p>
</li>
<li>
<p>Don&#8217;t use redundant commas in the parentheses, e.g. <code># NOSONAR(,)</code></p>
</li>
<li>
<p>The rule keys should only consist of alphanumeric characters, like <code>S7632</code> or <code>NoSonar</code></p>
</li>
<li>
<p>Close all parentheses properly</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <code># noqa</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code># noqa</code> alone to suppress all issues on the line</p>
</li>
<li>
<p>Use <code># noqa: rule1,rule2</code> to suppress specific rules (with or without spaces after colon)</p>
</li>
<li>
<p>Don&#8217;t use redundant commas in the comma-separated lists, e.g. <code># noqa: ,rule1</code></p>
</li>
<li>
<p>Don&#8217;t forget the colon (<code>:</code>) between <code>noqa</code> and the rule ID, and don&#8217;t use other punctuation</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def example():
    x = 1  # NOSONAR(  # Noncompliant
    y = 2  # NOSONAR(a,)  # Noncompliant
    z = 3  # NOSONAR)(  # Noncompliant
    a = 4  # NOSONAR(python:S7632)  # Noncompliant
    b = 5  # noqa: ,rule1  # Noncompliant
    c = 6  # noqa- rule1,rule2  # Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def example():
    x = 1  # NOSONAR
    y = 2  # NOSONAR(a)
    z = 3  # NOSONAR
    a = 4  # NOSONAR(S7632)
    b = 5  # noqa: rule1
    c = 6  # noqa: rule1,rule2</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>SonarQube documentation - <a href="https://docs.sonarqube.org/latest/user-guide/issues/#header-4">Managing your code issues</a></p>
</li>
<li>
<p>Flake8 documentation - <a href="https://flake8.pycqa.org/en/latest/user/violations.html#in-line-ignoring-errors">In-line Ignoring Errors</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Fix the syntax of this issue suppression comment.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary location: the entire suppression comment</p>
</li>
</ul>
</div>
</div>
</div>
</div>