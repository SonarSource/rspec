<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a constant expression is used as a condition in an <code>if</code>, <code>elif</code>, a conditional expression or other boolean expressions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a constant is used as a condition, either it has no effect on the execution flow and it can be removed, or some code will never be executed and it is a bug.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">function foo() {
    if (true) { // Noncompliant: the condition is always true
        return 1;
    } else {
        return 2;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">function foo() {
    $a = bar();
    if ($a) {
        return 1;
    } else {
        return 2;
    }
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>If the constant is a function/method/lambda:</p>
<div class="ulist">
<ul>
<li>
<p>Call this function/method/lambda; as a condition it is always True.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the constant is a class:</p>
<div class="ulist">
<ul>
<li>
<p>Call this class; as a condition it is always True.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otherwise:</p>
<div class="ulist">
<ul>
<li>
<p>Either remove this constant expression or make it return different values.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary: the constant expression</p>
</li>
<li>
<p>Secondary: if the expression is a variable which has been assigned to only one possible value</p>
<div class="ulist">
<ul>
<li>
<p>location: the last assignment</p>
</li>
<li>
<p>message: "Last assignment"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secondary: if the expression is a module</p>
<div class="ulist">
<ul>
<li>
<p>location: the module import</p>
</li>
<li>
<p>message: "Module imported here"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secondary: if the expression is a function/method</p>
<div class="ulist">
<ul>
<li>
<p>location: the function/method signature</p>
</li>
<li>
<p>message: "Function/Method definition"</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secondary: if the expression is a class</p>
<div class="ulist">
<ul>
<li>
<p>location: the class name</p>
</li>
<li>
<p>message: "Class definition"</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s5914">is related to: <a data-rspec-id="S5914" class="rspec-auto-link">S5914</a></h3>

</div>
<div class="sect2">
<h3 id="_on_1_may_2020_174644_nicolas_harraudeau_wrote">on 1 May 2020, 17:46:44 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>This rule should later be superseded by <a data-rspec-id="S2589" class="rspec-auto-link">RSPEC-2589</a> and <a data-rspec-id="S2583" class="rspec-auto-link">RSPEC-2583</a>. We don&#8217;t do any symbolic execution yet for python.</p>
</div>
</div>
</div>
</div>