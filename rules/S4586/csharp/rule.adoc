:keyword_null: null
:keyword_async: async
:concept_method: method
:typeparameter_TResult: <TResult>

== Why is this an issue?

include::../why-dotnet.adoc[]

[source,csharp,diff-id=1,diff-type=noncompliant]
----
public Task DoFooAsync()
{
    return null;               // Noncompliant: Causes a NullReferenceException if awaited.
}

public async Task Main()
{
    await DoFooAsync();        // NullReferenceException
}
----

[source,csharp,diff-id=1,diff-type=compliant]
----

public Task DoFooAsync()
{
    return Task.CompletedTask; // Compliant: Method can be awaited.
}

public async Task Main()
{
    await DoFooAsync();
}
----

[source,csharp,diff-id=2,diff-type=noncompliant]
----
public Task<object> GetFooAsync()
{
    return null;                          // Noncompliant: Causes a NullReferenceException if awaited.
}
----

[source,csharp,diff-id=2,diff-type=compliant]
----
public Task<object> GetFooAsync()
{
    return Task.FromResult<object>(null); // Compliant: Method can be awaited.
}
----

include::../resources.adoc[]

include::../rspecator.adoc[]