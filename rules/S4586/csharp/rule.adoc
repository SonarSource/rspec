== Why is this an issue?

Returning `null` from a non-`async` `Task`/`Task<T>` method will cause a `NullReferenceException` at runtime if the method is awaited. This problem can be avoided by returning https://learn.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.completedtask[`Task.CompletedTask`] or https://learn.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.fromresult[`Task.FromResult<T>(null)`] respectively.

[source,csharp,diff-id=1,diff-type=noncompliant]
----
public Task DoFooAsync()
{
    return null;               // Noncompliant: Causes a NullReferenceException if awaited.
}

public async Task Main()
{
    await DoFooAsync();        // NullReferenceException
}
----

[source,csharp,diff-id=1,diff-type=compliant]
----

public Task DoFooAsync()
{
    return Task.CompletedTask; // Compliant: Method can be awaited.
}

public async Task Main()
{
    await DoFooAsync();
}
----

[source,csharp,diff-id=2,diff-type=noncompliant]
----
public Task<object> GetFooAsync()
{
    return null;                          // Noncompliant: Causes a NullReferenceException if awaited.
}
----

[source,csharp,diff-id=2,diff-type=compliant]
----
public Task<object> GetFooAsync()
{
    return Task.FromResult<object>(null); // Compliant: Method can be awaited.
}
----

include::../resources.adoc[]

include::../rspecator.adoc[]