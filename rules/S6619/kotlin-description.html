<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Kotlin, nullability is a part of the type system.
By default, any given type <code>T</code> is non-nullable.
If you append a "?" to the type, it becomes nullable: <code>T?</code>.</p>
</div>
<div class="paragraph">
<p>When accessing properties or functions of a nullable type, you need to handle the case when the target is <code>null</code>.
However, while accessing a non-nullable type, it is redundant to test for <code>null</code>, as the compiler statically ensures that the value can never be <code>null</code>.
So all the nullability checks on the non-nullable types are considered code smells.</p>
</div>
<div class="paragraph">
<p>On the other hand, performing a null-check on a value that is always null is equally as redundant.</p>
</div>
<div class="paragraph">
<p>Here is an example of a non-nullable variable.
<code>s</code> is of a type <code>String</code> and cannot be <code>null</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val s: String = ""</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example of a nullable variable.
Nullable variables are declared by using the <code>?</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val s: String? = null</code></pre>
</div>
</div>
<div class="paragraph">
<p>Explicit null checks are comparing a result to <code>null</code> using <code>==</code> or <code>!=</code> operators.
In Kotlin, there are various other means of implicitly or explicitly performing a null check or assertion, including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Safe call operator <code>?.</code></p>
</li>
<li>
<p>Elvis operator <code>?:</code></p>
</li>
<li>
<p>Not-null assertion operator <code>!!</code></p>
</li>
<li>
<p><code>requireNotNull</code> and <code>checkNotNull</code> functions</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Avoid using null checks on non-nullable variables and values that are always null.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="paragraph">
<p>If your variable type is non-nullable, any null checks are redundant. For example, <code>if (s == null) {}</code>, <code>requireNotNull(s)</code> and <code>checkNotNull(s)</code> can be dropped from your code.</p>
</div>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val s: String = ""
if (s != null) { doSomething() } // This statement is always true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val s: String = ""
doSomething()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_noncompliant_code_example_2">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String) {
  if (s == null) { // Noncompliant, `s == null` is always false.
      doSomething()
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_2">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String) {
  doSomething()
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_noncompliant_code_example_3">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String): String {
    return s ?: "" // Noncompliant, ?: is useless and the empty string will never be returned.
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_3">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String): String {
    return s
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If <code>s</code> is nullable, the elvis operation makes sense:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String?): String {
    return s ?: ""
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_noncompliant_code_example_4">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String) {
    s!!.doSomething() // Noncompliant, `s` can never be null.
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_4">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun foo(s: String) {
    s.doSomething()
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://kotlinlang.org/docs/null-safety.html#nullable-types-and-non-null-types">Kotlin Documentation - Null Safety</a></p>
</li>
<li>
<p><a href="https://kotlinlang.org/docs/strings.html">Kotlin Documentation - Strings</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_articles_blog_posts">Articles &amp; blog posts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://blog.logrocket.com/complete-guide-null-safety-kotlin/">A complete guide to null safety in Kotlin</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>