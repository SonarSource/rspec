<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mutable <code>static</code> members which are accessed directly, rather than through getters and setters, should be protected to the degree possible. That can be done by reducing visibility or making the field <code>final</code> if appropriate. Note that making a mutable field, such as an array, <code>final</code> will keep the variable from being reassigned, but doing so has no effect on the mutability of the internal state of the array (i.e. it doesn&#8217;t accomplish the goal).</p>
</div>
<div class="paragraph">
<p>This rule checks that <code>static</code> arrays, <code>Collection</code>s, <code>Date</code>s, and <code>awt.Point</code>s are not <code>public</code> in classes and enumerations.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">public class A {
  public static String [] strings1 = {"first","second"};  // Noncompliant
  public static String [] strings2 = {"first","second"};  // Noncompliant
  public static List&lt;String&gt; strings3 = new ArrayList&amp;lt;&amp;gt;();  // Noncompliant
  // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">public class A {
  protected static final String [] strings1 = {"first","second"};  // access limited
  private static String [] strings2 = {"first","second"};  // made private with getter, setter
  private static List&lt;String&gt; strings3 = new ArrayList&lt;&gt;();

  public static String [] getStrings2() {
    return strings2.clone();
  }

  public static void setStrings2(String [] strings) {
    strings2 = strings.clone();
  }

  // ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/582">CWE-582 - Array Declared Public, Final, and Static</a></p>
</li>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/607">CWE-607 - Public Static Final Field References Mutable Object</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Make this member "protected".</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_13_jan_2015_141813_ann_campbell_wrote">on 13 Jan 2015, 14:18:13 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Title may need work&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_jan_2015_204313_freddy_mallet_wrote">on 27 Jan 2015, 20:43:13 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>This rule relates to some threads of discussions on the user mailing list:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It&#8217;s ultimately hard to know if an object is mutable or not</p>
</li>
<li>
<p>And so it&#8217;s almost impossible to have a rule checking something on "mutable" objects</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>That&#8217;s why the scope of the Findbugs rules is limited to known mutable objects like arrays and hashtables. I would also limit the scope of this rule to a defined list of objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_jan_2015_205245_freddy_mallet_wrote">on 27 Jan 2015, 20:52:45 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>I guess we could link this rule with http://cwe.mitre.org/data/definitions/607.html</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_28_jan_2015_121847_ann_campbell_wrote">on 28 Jan 2015, 12:18:47 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~freddy.mallet] do you want a narrower list than "arrays, collections and Dates" ?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_074114_ann_campbell_wrote">on 20 Jul 2015, 07:41:14 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Tagged java-top by Ann</p>
</div>
</div>
</div>
</div>