<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An interface that declares only a single function should be marked as function interface.
Function interfaces can be instantiated from lambda expressions directly and are, therefore, more comfortable to use.</p>
</div>
<div class="paragraph">
<p>Also, consider using a function type instead of a function interface.
In many situations, a function type is sufficient.
A function interface is only required when the function must not be anonymous
or when an object should implement multiple function interfaces at once.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="sect3">
<h4 id="_complexity">Complexity</h4>
<div class="paragraph">
<p>When an interface is declared <em>functional</em>, SAM conversion is enabled.
This means that any lambda expression that matches the interface&#8217;s single function&#8217;s signature
can be converted into an instance of the interface,
without the need for an
explicit class or singleton object to implement the interface.</p>
</div>
</div>
<div class="sect3">
<h4 id="_wrong_logic">Wrong logic</h4>
<div class="paragraph">
<p>An interface can still be marked <code>@FunctionalInterface</code> in Kotlin,
but this has no effect, and SAM conversion will not work.
The annotation <code>java.lang.FunctionalInterface</code> is only a Java platform type with no special meaning in Kotlin.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace <code>interface</code> with <code>fun interface</code>.
If the interface is annotated with <code>@FunctionalInterface</code>, remove the annotation.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">interface IntMapper&lt;T&gt; { // Noncompliant
    fun map(value: Int): T
}

interface StringMapper&lt;T&gt; { // Noncompliant
    fun map(value: String): T
}

@FunctionalInterface  // Noncompliant
interface ProgressCallback {
    fun progressChanged(percent: Double)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">fun interface IntMapper&lt;T&gt; { // Compliant, function interface used
    fun map(value: Int): T
}

typealias StringMapper&lt;T&gt; = (value: String) -&gt; T // Compliant, functional type used

fun interface ProgressCallback { // Compliant, function interface used
    fun progressChanged(percent: Double)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://kotlinlang.org/docs/fun-interfaces.html">Kotlin Docs, Functional (SAM) interfaces</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_articles_blog_posts">Articles &amp; blog posts</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.baeldung.com/kotlin/sam-conversions">Baeldung, SAM Conversions in Kotlin</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>