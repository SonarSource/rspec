<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when hardcoded values like email addresses, record IDs, user IDs, or configuration settings are used directly in automation workflows instead of using configurable alternatives.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hardcoding values in automation workflows creates several significant problems that impact code maintainability and deployment flexibility.</p>
</div>
<div class="paragraph">
<p>When values like email addresses, record IDs, or configuration settings are embedded directly in code, they become tightly coupled to a specific environment or configuration. This makes it extremely difficult to deploy the same code across different Salesforce orgs (development, staging, production) without manual code modifications.</p>
</div>
<div class="paragraph">
<p>Hardcoded values also create maintenance nightmares. When business requirements change - such as updating notification recipients, changing approval processes, or modifying system configurations - developers must locate and update code in multiple places. This process is error-prone and time-consuming.</p>
</div>
<div class="paragraph">
<p>Furthermore, hardcoded values make testing more challenging. Unit tests cannot easily simulate different configurations or edge cases when values are fixed in the code. This reduces test coverage and makes it harder to verify that automation works correctly under various conditions.</p>
</div>
<div class="paragraph">
<p>Salesforce provides several built-in mechanisms specifically designed to handle configuration data: Custom Settings for simple key-value pairs, Custom Metadata Types for more complex configuration structures, and Custom Labels for user-facing text. These tools allow administrators to modify behavior without code changes and support proper deployment practices across environments.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Applications become difficult to maintain and deploy across different environments. Configuration changes require code modifications and redeployment, increasing the risk of errors and downtime. Testing becomes more challenging, and the application lacks the flexibility needed for different business scenarios or organizational structures.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace hardcoded email addresses with values from Custom Settings. This allows administrators to update notification recipients without code changes.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class NotificationService {
    public static void sendAlert(String message) {
        Messaging.SingleEmailMessage email = new Messaging.SingleEmailMessage();
        email.setToAddresses(new String[]{'admin@company.com'}); // Noncompliant
        email.setSubject('System Alert');
        email.setPlainTextBody(message);
        Messaging.sendEmail(new Messaging.SingleEmailMessage[]{email});
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class NotificationService {
    public static void sendAlert(String message) {
        String adminEmail = System_Settings__c.getInstance().Admin_Email__c;
        if (String.isNotBlank(adminEmail)) {
            Messaging.SingleEmailMessage email = new Messaging.SingleEmailMessage();
            email.setToAddresses(new String[]{adminEmail});
            email.setSubject('System Alert');
            email.setPlainTextBody(message);
            Messaging.sendEmail(new Messaging.SingleEmailMessage[]{email});
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Custom Settings - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_customsettings.htm">Salesforce documentation on using Custom Settings for configuration data</a></p>
</li>
<li>
<p>Custom Metadata Types - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_custommetadata.htm">Guide to using Custom Metadata Types for application configuration</a></p>
</li>
<li>
<p>Deployment Best Practices - <a href="https://developer.salesforce.com/docs/atlas.en-us.sfdx_dev.meta/sfdx_dev/sfdx_dev_develop_any_org.htm">Salesforce best practices for developing applications that work across multiple environments</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-547: Use of Hard-coded, Security-relevant Constants - <a href="https://cwe.mitre.org/data/definitions/547.html">Security weakness related to hardcoding sensitive configuration values</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S5390" class="rspec-auto-link">RSPEC-5390</a> - <a href="https://rules.sonarsource.com/apex/RSPEC-5390">Related rule about hardcoded credentials in Apex</a></p>
</li>
<li>
<p><a data-rspec-id="S5379" class="rspec-auto-link">RSPEC-5379</a> - <a href="https://rules.sonarsource.com/apex/RSPEC-5379">Related rule about configuration management in Apex</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>