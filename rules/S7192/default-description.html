<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when the parameter <code>how</code> is not provided when joining two PySpark <code>DataFrames</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In PySpark, when joining two DataFrames, the <code>how</code> parameter specifies the type of join operation that will be performed. This parameter is crucial because it determines how the rows from the two DataFrames are combined based on the specified join condition. Common types of join operations include inner join, left join, right join, and outer join.</p>
</div>
<div class="paragraph">
<p>If the <code>how</code> parameter is not provided, PySpark will default to an inner join. This can lead to unexpected results if the join condition is not met, as rows that do not satisfy the join condition will be excluded from the result.</p>
</div>
<div class="paragraph">
<p>Specifying the <code>how</code> parameter explicitly is important because it defines the logic of how you want to combine the data from the two DataFrames. Depending on your data analysis needs, you might require different types of joins to get the desired results. For example, if you want to include all records from one DataFrame regardless of whether they have a match in the other, you would use a left or right outer join. If you only want records that have matches in both DataFrames, an inner join would be appropriate.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To fix this issue, make sure to explicitly provide the <code>how</code> parameter when joining PySpark <code>DataFrames</code>.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># Joining DataFrames without specifying the 'how' parameter
df1 = spark.createDataFrame([(1, 'Alice'), (2, 'Bob')], ["id", "name"])
df2 = spark.createDataFrame([(1, 'HR'), (2, 'Finance')], ["id", "department"])

# Non-compliant: 'how' parameter is not specified
joined_df = df1.join(df2, on="id")</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># Joining DataFrames with the 'how' parameter specified
df1 = spark.createDataFrame([(1, 'Alice'), (2, 'Bob')], ["id", "name"])
df2 = spark.createDataFrame([(1, 'HR'), (2, 'Finance')], ["id", "department"])

# Compliant: 'how' parameter is specified
joined_df = df1.join(df2, on="id", how="inner")</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Spark Documentation - <a href="https://spark.apache.org/docs/latest/api/python/reference/pyspark.sql/api/pyspark.sql.DataFrame.join.html">DataFrame.join</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S6735" class="rspec-auto-link">S6735</a> - When using pandas.merge or pandas.join, the parameters on, how and validate should be provided</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Specify the <code>how</code> parameter of this join.</p>
</div>
</div>
<div class="sect2">
<h3 id="_quickfix">Quickfix</h3>
<div class="paragraph">
<p>Add the <code>how</code> parameter to the join operation, with the default value set to <code>"inner"</code>.</p>
</div>
</div>
</div>
</div>