<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when the same variable is compared against multiple constant values using separate if or if-else statements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you need to check the same variable against multiple constant values, using separate if statements creates code that is harder to read and maintain.</p>
</div>
<div class="paragraph">
<p>Consider this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">if status == "pending" {
    // handle pending
}
if status == "approved" {
    // handle approved
}
if status == "rejected" {
    // handle rejected
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This pattern has several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Poor readability</strong>: The intent to handle different cases of the same variable is not immediately clear</p>
</li>
<li>
<p><strong>Maintenance burden</strong>: Adding new cases requires writing more if statements</p>
</li>
<li>
<p><strong>Missing error handling</strong>: There&#8217;s no clear way to handle unexpected values</p>
</li>
<li>
<p><strong>Code duplication</strong>: Each if statement repeats the variable name</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A switch statement makes the intent much clearer. It shows that you&#8217;re handling different cases of the same variable, making the code easier to understand and maintain.</p>
</div>
<div class="paragraph">
<p>Switch statements also encourage better practices like using named constants instead of hardcoded strings and adding default cases for error handling.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using multiple if statements instead of a switch statement reduces code readability and makes maintenance more difficult. It can also lead to bugs when developers forget to handle all possible cases or when adding new cases requires updating multiple locations in the code.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace the multiple if statements with a single switch statement. Use named constants for string literals and add a default case to handle unexpected values.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">if h.Key == "GOHLAY" {
    // handle GOHLAY
}
if h.Key == "GOHLAY_DELIVERED" {
    // handle GOHLAY_DELIVERED  // Noncompliant
}
if h.Key == "GOHLAY_FAILED" {
    // handle GOHLAY_FAILED
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">const (
    keyGohlay = "GOHLAY"
    keyGohlayDelivered = "GOHLAY_DELIVERED"
    keyGohlayFailed = "GOHLAY_FAILED"
)

switch h.Key {
case keyGohlay:
    // handle GOHLAY
case keyGohlayDelivered:
    // handle GOHLAY_DELIVERED
case keyGohlayFailed:
    // handle GOHLAY_FAILED
default:
    return fmt.Errorf("unhandled key: %s", h.Key)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Go Language Specification - Switch statements - <a href="https://go.dev/ref/spec#Switch_statements">Official Go documentation on switch statement syntax and behavior</a></p>
</li>
<li>
<p>Effective Go - Switch - <a href="https://go.dev/doc/effective_go#switch">Best practices for using switch statements in Go</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S6880" class="rspec-auto-link">RSPEC-6880</a> - <a href="https://rules.sonarsource.com/java/RSPEC-6880/">Java rule for replacing if-else chains with switch expressions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>