This rule checks that the `style` attribute is not used to lock text spacing properties (`line-height`, `letter-spacing`, `word-spacing`) with `!important`, except when the values already meet accessibility requirements:

* `word-spacing` must be at least 0.16 times the font size.
* `letter-spacing` must be at least 0.12 times the font size
* `line-height` must be at least 1.5 times the font size.

== Why is this an issue?

Text spacing directly affects readability. WCAG 2.2 requires that users be able to adjust spacing to meet their needs â€” for example, increasing line height to reduce crowding or adjusting letter/word spacing for better parsing.

When these properties are set with `!important` in inline styles, they override user stylesheets and accessibility tools. This can block users with dyslexia, visual processing disorders, or other reading difficulties from customizing spacing.
However, if the values already meet or exceed the thresholds above, they are considered sufficiently accessible and `!important` is allowed.

== Impact

If `!important` is applied with values below thresholds, some users may find the text difficult or impossible to read, potentially violating WCAG 2.2 Level AA.

== How to fix

* Remove `!important` from these properties in inline styles, **or**
* Ensure the values meet/exceed the thresholds.

=== Examples

==== Noncompliant

[source,html]
----
<p style="line-height: 1.2 !important; letter-spacing: 0.1em !important;">
  Text content
</p>
----

==== Compliant (meets thresholds)

[source,html]
----
<p style="line-height: 1.5 !important; letter-spacing: 0.12em !important;">
  Text content
</p>
----

==== Compliant (no !important)

[source,html]
----
<p style="line-height: 1.2; letter-spacing: 0.1em;">
  Text content
</p>
----

== Resources

=== Documentation

 * WCAG 2.2 - Text Spacing - https://www.w3.org/TR/WCAG22/#text-spacing[Official WCAG 2.2 guidelines for text spacing accessibility requirements]

 * CSS Cascade and Inheritance - https://developer.mozilla.org/en-US/docs/Web/CSS/Cascade[MDN documentation on CSS cascade and how !important affects specificity]
