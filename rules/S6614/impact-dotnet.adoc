=== What is the potential impact?

We measured significant improvement in execution time and allocated memory by running the following snippet with https://github.com/dotnet/BenchmarkDotNet[BenchmarkDotNet].

[source,csharp]
----
[Params(10_000)]
public int Iterations;

// IPV6 Regex Pattern
private const string RegexPattern =
    "^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$";
private readonly Regex cachedRegex = new Regex(RegexPattern);
private readonly Regex compiledCachedRegex = new Regex(RegexPattern, RegexOptions.Compiled);

[Benchmark(Baseline = true)]
public void CreateRegexEachIteration()
{
    for (int i = 0; i < Iterations; i++)
    {
        var regex = new Regex(RegexPattern);

        _ = regex.IsMatch("2001:0db8:85a3:0000:0000:8a2e:0370:7334");
    }
}

[Benchmark]
public void UseCachedRegex()
{
    for (int i = 0; i < Iterations; i++)
    {
        _ = cachedRegex.IsMatch("2001:0db8:85a3:0000:0000:8a2e:0370:7334");
    }
}
----

[options="header"]
|===
| Method | Runtime | Iterations | Mean | Error | Ratio | Allocated | Alloc Ratio
| CreateRegexEachIteration |.NET 7.0 | 10000 | 222.182 ms | 4.2448 ms | 1.000 | 458000280 B | 1.000
| UseCachedRegex | .NET 7.0 | 10000 | 3.276 ms | 0.0634 ms |  0.015 | 3 B | 0.000
|===

Configuration used for running the benchmarks:
```
BenchmarkDotNet=v0.13.5, OS=Windows 10 (10.0.19045.2846/22H2/2022Update)
12th Gen Intel Core i7-12800H, 1 CPU, 20 logical and 14 physical cores
.NET SDK=7.0.203
  [Host]               : .NET 7.0.5 (7.0.523.17405), X64 RyuJIT AVX2
  .NET 7.0             : .NET 7.0.5 (7.0.523.17405), X64 RyuJIT AVX2
```