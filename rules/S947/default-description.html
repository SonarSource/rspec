<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Manipulation of character data may generate results that are contrary to developer expectations. For example, ISO/IEC 14882:2003 ยง2.2(3) only requires that the digits "0" to "9" have consecutive numerical values.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">char_t ch = 't'; // Compliant
uint8_t v;
if ( ( ch &gt;= 'a' ) &amp;&amp; ( ch &lt;= 'z' ) ) // Noncompliant
{
}
if ( ( ch &gt;= '0' ) &amp;&amp; ( ch &lt;= '9' ) ) // Compliant by exception
{
  v = ch - '0'; // Compliant by exception
  v = ch - '1'; // Noncompliant
}
ch = '0' + v; // Compliant by exception
ch = 'A' + v; // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>Exceptionally, the following operators may be used if the associated restriction is observed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The binary + operator may be used to add an integral value in the range 0 to 9 to '0';</p>
</li>
<li>
<p>The binary - operator may be used to subtract character '0';</p>
</li>
<li>
<p>The relational operators &lt;, &lt;=, &gt;, &gt;= may be used to determine if a character (or wide
character) represents a digit.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C&#43;&#43;:2008, 4-5-3 - Expressions with type (plain) char and wchar_t shall not be used as operands to built-in operators other than the assignment operator =, the equality operators == and !=, and the unary &amp; operator.</p>
</li>
<li>
<p>ISO/IEC 14882:2003 ยง2.2(3)</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this potentially hazardous use of operator 'xxx' with [||left||right] "[char||wchar_t]" operand.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_16_oct_2014_124631_ann_campbell_wrote">on 16 Oct 2014, 12:46:31 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] please:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fill in the appropriate reference field(s).</p>
</li>
<li>
<p>provide a See section.</p>
</li>
<li>
<p>use the standard section titles: Noncompliant Code Example, Exception*s*, and heading levels (h2. instead of h3.)</p>
</li>
<li>
<p>use the standard section order: description, Noncompliant Code Example, Compliant Solution, Exceptions, See</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, it&#8217;s not clear to me why you chose Portability. There is very little to go on in this description, but since it&#8217;s a "may not meet developer expectations" rule, I would go with Reliability</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_oct_2014_154155_samuel_mercier_wrote">on 21 Oct 2014, 15:41:55 Samuel Mercier wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] IMO char is implemented as an integer, so the only questions are about signedness and width.</p>
</div>
<div class="paragraph">
<p>Those are dependent on the compiler, so it could be considered a portability issue.</p>
</div>
<div class="paragraph">
<p>But since we have other rules about signedness and data width marked as data issue it probably makes sense to change it.</p>
</div>
</div>
</div>
</div>