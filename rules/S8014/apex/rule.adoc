This rule raises an issue when code performs multiple individual operations that could be batched together, such as DML operations in loops or repeated SOQL queries.

== Why is this an issue?

Performing multiple individual operations instead of batching them creates unnecessary server round trips, which significantly impacts performance and can lead to governor limit violations.

In Apex, each DML operation, SOQL query, or callout consumes governor limits and adds processing overhead. When these operations are performed individually in loops or repeated calls, the cumulative effect can be severe:

* *Performance degradation*: Each round trip adds network latency and server processing time
* *Governor limit consumption*: Individual operations consume more limits than batched equivalents
* *Scalability issues*: Code that works with small datasets may fail with larger ones
* *User experience impact*: Slower response times affect application usability

Batching operations allows the platform to optimize processing, reduces network overhead, and makes more efficient use of governor limits. This is especially critical in Salesforce environments where governor limits are strictly enforced.

=== What is the potential impact?

Applications may experience slow performance, timeout errors, and governor limit exceptions. In production environments with large datasets, unbatched operations can cause complete functionality failures and poor user experience.

== How to fix it

Batch DML operations by collecting records in lists and performing single operations outside of loops.

=== Code examples

==== Noncompliant code example

[source,apex,diff-id=1,diff-type=noncompliant]
----
// Multiple individual DML operations
for(Account acc : accounts) {
    insert acc; // Noncompliant
}
for(Contact con : contacts) {
    insert con; // Noncompliant
}
----

==== Compliant solution

[source,apex,diff-id=1,diff-type=compliant]
----
// Batch DML operations
insert accounts;
insert contacts;
----

== Resources

=== Documentation

 * Apex Developer Guide - DML Statements - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_dml.htm[Official documentation on DML operations and best practices for batching]

 * Apex Developer Guide - Governor Limits - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_gov_limits.htm[Comprehensive guide to Apex governor limits and optimization strategies]

 * Trailhead - Apex Triggers Best Practices - https://trailhead.salesforce.com/content/learn/modules/apex_triggers/apex_triggers_best_practices[Best practices for writing efficient Apex triggers including batching techniques]

=== Standards

 * Salesforce Apex Best Practices - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_best_practices.htm[Official Salesforce guidelines for writing efficient and maintainable Apex code]

=== Related rules

 * RSPEC-6912 - https://rules.sonarsource.com/java/RSPEC-6912/[Java rule for minimizing server round trips in database operations]

 * RSPEC-2564 - https://rules.sonarsource.com/plsql/RSPEC-2564/[PL/SQL rule for batching database operations to improve performance]
