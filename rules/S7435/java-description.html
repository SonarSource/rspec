<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mobile devices expose unique identifiers that can be used to identify users across applications or devices. These identifiers put user privacy at risk, as they might allow the tracking of user activity without consent, while making it difficult or impossible for users to reset them.</p>
</div>
<div class="paragraph">
<p>Privacy violations can cause apps to be removed from app stores and can result in legal action or loss of trust from users.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ask_yourself_whether">Ask Yourself Whether</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The identifier is used to track users between applications or devices.</p>
</li>
<li>
<p>The identifier cannot be easily reset by the user.</p>
</li>
<li>
<p>The identifier is connected to personally identifiable information.</p>
</li>
<li>
<p>The identifier is linked to the device hardware (MAC address, IMEI, etc).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There is a risk if you answer yes to any of these questions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recommended_secure_coding_practices">Recommended Secure Coding Practices</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Whenever possible, use identifiers that users can easily reset.</p>
</li>
<li>
<p>Donâ€™t link identifiers to personally identifiable information without collecting users' explicit consent.</p>
</li>
<li>
<p>Avoid using identifiers that are linked to the device hardware (MAC address, IMEI, etc).</p>
</li>
<li>
<p>Only use the Advertising ID for user profiling or ads use cases.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For ads use cases, use the Advertising ID provided by the platform. This identifier is designed to be reset by the user and has an associated Personalized Ads flag.</p>
</div>
<div class="paragraph">
<p>For non-ads use cases, the most privacy-friendly identifiers that can be used are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Firebase installation ID (FID)</p>
</li>
<li>
<p>A privately stored GUID generated by the app</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sensitive_code_example">Sensitive Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String uid = Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID); // Sensitive
User user = new User(
    uid,
    "John",
    "Doe",
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String uid = UUID.randomUUID().toString();
User user = new User(
    uid,
    "John",
    "Doe",
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OWASP - <a href="https://owasp.org/www-project-mobile-top-10/2023-risks/m6-inadequate-privacy-controls">Mobile Top 10 2024 Category M6 - Inadequate Privacy Controls</a></p>
</li>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/213">CWE-213 - Exposure of Sensitive Information Due to Incompatible Policies</a></p>
</li>
<li>
<p>Android Documentation - <a href="https://developer.android.com/identity/user-data-ids">Best practices for unique identifiers</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Using Advertising ID puts user privacy at risk. Make sure it is safe here.</p>
</li>
<li>
<p>Using a non-resettable persistent identifier puts user privacy at risk. Make sure it is safe here.</p>
</li>
<li>
<p>Using a phone number puts user privacy at risk. Make sure it is safe here.</p>
</li>
<li>
<p>Using a hardware identifier puts user privacy at risk. Make sure it is safe here.</p>
</li>
<li>
<p>Using the ID for vendors puts user privacy at risk. Make sure it is safe here.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_highlighting">Highlighting</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The sensitive method call</p>
</li>
</ul>
</div>
</div>
</div>