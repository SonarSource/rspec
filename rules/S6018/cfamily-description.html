<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>C&#43;&#43;17</code> introduced inline variables. They provide a proper way to define global variables in header files. Before inline variables, it wasn’t possible to simply define global variables without compile or link errors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct A {
  static std::string s1 = "s1"; // doesn’t compile
  static std::string s2;
};

A::s2 = "s2"; // doesn’t link, violates the one definition rule
std::string s3 = "s3"; // doesn’t link, violates the one definition rule</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead, you had to resort to less readable inconvenient workarounds like variable templates or functions that return a static object. These workarounds will initialize the variables when used instead of the start of the program, which might be inconvenient depending on the program.</p>
</div>
<div class="paragraph">
<p>This rule will detect these workarounds and suggest using inline variables instead.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct Clazz {
  static std::string&amp; getS1() { // Noncompliant
    static std::string s1 = "s1";
    return s1;
  }

  static Clazz const&amp; getSelf() { // Noncompliant
    static Clazz self;
    return self;
  }
};

inline std::string&amp; getS2() { // Noncompliant
  static std::string s2 = "s2";
  return s2;
}

template &lt;typename T = std::string&gt;
T s3 = "s3"; // Noncompliant. Available starting C++14</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">struct Clazz {
  inline static std::string s1 = "s1"; // Compliant,
  static Clazz self;
};
inline Class Clazz::self; // Compliant
// Out of line definition is required for `Clazz` to be complete.

inline std::string s2 = "s2"; // Compliant</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/language/inline">inline specifier</a></p>
</li>
</ul>
</div>
</div>
</div>