<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Chromium uses process sandboxing to separate components that are part of
its attack surface from the rest of the application. Since Electron uses
Chromium internally, the same sandboxing principle is used here for the
renderers and for preload scripts.</p>
</div>
<div class="paragraph">
<p>Renderer sandboxing is a critical component of the security model of
Electron. Within the renderer, it is only possible to access a limited
subset of APIs. Any privileged actions, e.g. filesystem interactions or
spawning subprocesses, have to be executed through IPC with the main
process. If renderer sandboxing is disabled, then an attacker who gains
code execution within the renderer (for example through XSS) can pivot
this easily into file system access and RCE.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>If sandboxing is not enabled in an Electron application, the potential
impact can be severe and multifaceted:</p>
</div>
<div class="sect3">
<h4 id="_security_breaches">Security Breaches</h4>
<div class="paragraph">
<p>Malicious code running within the application can gain unrestricted access
to system resources, leading to unauthorized data access, data exfiltration,
or even complete system compromise.</p>
</div>
</div>
<div class="sect3">
<h4 id="_data_integrity">Data Integrity</h4>
<div class="paragraph">
<p>Without sandboxing, there is a higher risk of data corruption or manipulation,
as malicious scripts can interfere with the application&#8217;s data handling processes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_user_privacy">User Privacy</h4>
<div class="paragraph">
<p>Sensitive user information, such as personal data, credentials,
and other private information, can be exposed to unauthorized access, leading
to privacy violations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reputation_damage">Reputation Damage</h4>
<div class="paragraph">
<p>Security incidents can lead to a loss of user trust and damage the reputation
of the organization responsible for the application, resulting in potential
financial and reputational losses.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="paragraph">
<p>Setting the <code>sandbox</code> property of <code>webPreferences</code> to false or setting
<code>nodeIntegration</code> to true will result in a configuration that will not be sandboxed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const win = new BrowserWindow({
    webPreferences: {
        sandbox: false // Noncompliant
    }
})</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const win = new BrowserWindow({
    webPreferences: {
        nodeIntegration: true // Noncompliant
    }
})</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const win = new BrowserWindow({
    webPreferences: {
        sandbox: true
    }
})</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const win = new BrowserWindow({
    webPreferences: {
        nodeIntegration: false
    }
})</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_does_this_work">How does this work?</h3>
<div class="paragraph">
<p>In the compliant examples <code>sandbox</code> or <code>nodeIntegration</code> are explicitly
set to their secure value. It is also sufficient to not set any of these
properties since they will default to secure values.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Electron Documentation - <a href="https://www.electronjs.org/docs/latest/tutorial/sandbox">Process Sandboxing</a></p>
</li>
<li>
<p>Electron Documentation - <a href="https://www.electronjs.org/docs/latest/tutorial/security#2-do-not-enable-nodejs-integration-for-remote-content">Security - Do not enable NodeJS integration for remote content</a></p>
</li>
<li>
<p>Electron Documentation - <a href="https://www.electronjs.org/docs/latest/tutorial/security#4-enable-process-sandboxing">Security - Enable process sandboxing</a></p>
</li>
<li>
<p>Electron Documentation - <a href="https://www.electronjs.org/docs/latest/api/webview-tag#nodeintegration">Webview tag - nodeintegration</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Change this code to enable sandboxing.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>Highlight the new BrowserWindow() call.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
</div>
</div>