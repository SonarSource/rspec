The recommended way to use for accessing Azure Durable Entities is Interfaces via generated proxy objects.

The following restrictions, during interface design, are enforced:

* Entity interfaces must be defined in the same assembly as the entity class.
* Entity interfaces must only define methods.
* Entity interfaces must not contain generic parameters.
* Entity interface methods must not have more than one parameter.
* Entity interface methods must return void, Task, or Task<T>.

If any of these rules are violated, an `InvalidOperationException` is thrown at runtime when the interface is used as a type argument to `SignalEntity` or `CreateProxy`. The exception message explains which rule was broken.

This rule raises an issue in case any of the restrictions above is not respected.

// If you want to factorize the description uncomment the following line and create the file.
//include::../description.adoc[]

== Noncompliant Code Example

[source,csharp]
----
namespace Foo // Noncompliant, must be defined in the same assembly as the entity class that implements it
{
    public interface ICounter<T> // Noncompliant, interfaces cannot contain generic parameters
    {
        string Name { get; set; } // Noncompliant, interface must only define methods
        void Add(int amount, int second parameter); // Noncompliant, methods must not have more than one parameter
        int Reset(); // Noncompliant, methods must return void, Task, or Task<T>
    }
}

namespace Bar
{
    public class Counter : ICounter
    {
        // do stuff
    }
}
----

== Compliant Solution

[source,csharp]
----
namespace Bar
{
    public interface ICounter
    {
        void Add(int amount);
        Task Reset();
        Task<int> Get();
        void Delete();
    }
}

namespace Bar
{
    public class Counter : ICounter
    {
        // do stuff
    }
}

----

== See

* https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-dotnet-entities#restrictions-on-entity-interfaces[Restrictions on Entity Interfaces]
* https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-entities?tabs=csharp[Durable Entities]