<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>React components have built-in <code>state</code> data. This data is used to store component property values. When <code>state</code> changes, the component is re-rendered. React provides the <code>useState</code> hook to manage the <code>state</code>. <code>useState</code> returns a state variable retaining the data and a state setter function to update its value.</p>
</div>
<div class="paragraph">
<p>React will skip re-rendering the component and its children if the new value you provide is identical to the current state, as determined by an <code>Object.is</code> comparison. When the setter function is called with the state variable as a parameter, that comparison will always be <code>true</code>, and the component will never be re-rendered. This can happen by mistake when attempting to reset a default value or invert a boolean, among others.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when calling the setter function with the state variable provided by the same <code>useState</code> React hook.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">import { useState } from "react";

function ShowLanguage() {
    const [language, setLanguage] = useState("fr-FR");
    return (
      &lt;section&gt;
        &lt;h1&gt;Your language is {language}!&lt;/h1&gt;
        &lt;button onClick={() =&gt; setLanguage(navigator.language)}&gt;Detect language&lt;/button&gt;
        &lt;button onClick={() =&gt; setLanguage(language)}&gt;Je préfère le français&lt;/button&gt;{/* Non compliant: This button does nothing */}
      &lt;/section&gt;
    );
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead, you should call the setter with any parameter different from the state variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">import { useState } from "react";

function ShowLanguage() {
    const [language, setLanguage] = useState("fr-FR");
    return (
      &lt;section&gt;
        &lt;h1&gt;Your language is {language}!&lt;/h1&gt;
        &lt;button onClick={() =&gt; setLanguage(navigator.language)}&gt;Detect language&lt;/button&gt;
        &lt;button onClick={() =&gt; setLanguage("fr-FR")}&gt;Je préfère le français&lt;/button&gt;
      &lt;/section&gt;
    );
};</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>React Documentation - <a href="https://react.dev/learn/state-a-components-memory">State: A Component&#8217;s Memory</a></p>
</li>
<li>
<p>React Documentation - <a href="https://react.dev/reference/react/useState">useState</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is">Object.is()</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>