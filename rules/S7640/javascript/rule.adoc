This rule raises an issue when files are opened without specifying an explicit encoding parameter.

== Why is this an issue?

When opening text files without specifying an encoding, Python uses the system's default locale encoding. This creates cross-platform compatibility issues because different operating systems have different default encodings.

On Unix-like systems (Linux, macOS), the default encoding is typically UTF-8. However, on Windows, it depends on the system locale and might be cp1252, cp1251, or other encodings. This means code that works perfectly on a developer's Unix machine might fail when users try to run it on Windows.

For example, if a README.md file contains non-ASCII characters (like emoji, accented characters, or copyright symbols) and is opened without specifying UTF-8 encoding, it will work fine on Unix systems but may cause `UnicodeDecodeError` on Windows systems with different locale encodings.

This issue is particularly problematic in:

* Package setup scripts that read README files
* Configuration file parsing
* Log file processing
* Any text file processing that needs to work across different platforms

The problem often goes unnoticed during development because developers frequently work on Unix-like systems where UTF-8 is the default, only to discover encoding issues when the code runs in production or on users' Windows machines.

=== What is the potential impact?

Cross-platform compatibility issues can cause applications to fail with `UnicodeDecodeError` on systems with different default encodings. This leads to poor user experience, failed installations, and reduced software reliability across different operating systems.

=== How to fix?


Specify UTF-8 encoding explicitly when opening text files that should contain UTF-8 data. This is the most common fix and ensures consistent behavior across all platforms.

==== Non-compliant code example

[source,python,diff-id=1,diff-type=noncompliant]
----
with open('README.md', 'r') as f:  # Noncompliant
    content = f.read()
----

==== Compliant code example

[source,python,diff-id=1,diff-type=compliant]
----
with open('README.md', 'r', encoding='utf-8') as f:
    content = f.read()
----

=== Documentation

 * Python open() function documentation - https://docs.python.org/3/library/functions.html#open[Official documentation for Python's open() function including encoding parameter]
 * Python Unicode HOWTO - https://docs.python.org/3/howto/unicode.html[Comprehensive guide to handling Unicode and text encodings in Python]
 * PEP 597 - Add optional EncodingWarning - https://peps.python.org/pep-0597/[Python Enhancement Proposal that introduced EncodingWarning for this exact issue]

=== Standards

 * CWE-176: Improper Handling of Unicode Encoding - https://cwe.mitre.org/data/definitions/176.html[Weakness related to improper handling of Unicode encoding that can lead to security vulnerabilities]

