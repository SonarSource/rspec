<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when binary files specified in the <code>bin</code> field of <code>package.json</code> would be ignored during npm publishing.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you publish a Node.js package with CLI commands, you specify executable files in the <code>bin</code> field of <code>package.json</code>. However, if these binary files are excluded from publishing (either by not being listed in the <code>files</code> field or by being ignored in <code>.npmignore</code>), the package installation will fail.</p>
</div>
<div class="paragraph">
<p>Npm uses the <code>files</code> field and <code>.npmignore</code> to determine which files to include in the published package. If a binary file referenced in the <code>bin</code> field is not included, users who install your package won&#8217;t be able to use the CLI commands, leading to broken functionality.</p>
</div>
<div class="paragraph">
<p>This creates a mismatch between what the package declares it provides (executable commands) and what it actually delivers (missing binary files).</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>When binary files are missing from the published package, users will encounter errors when trying to use the CLI commands. This can lead to failed installations, broken CI/CD pipelines, and frustrated users who cannot access the advertised functionality of your package.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Include the binary file in the <code>files</code> field of package.json to ensure it gets published.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "name": "my-cli-tool",
  "bin": "bin/cli.js",
  "files": [
    "lib/"
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "name": "my-cli-tool",
  "bin": "bin/cli.js",
  "files": [
    "lib/",
    "bin/"
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>npm package.json bin field - <a href="https://docs.npmjs.com/cli/v11/configuring-npm/package-json#bin">Official npm documentation for the bin field in package.json</a></p>
</li>
<li>
<p>npm package.json files field - <a href="https://docs.npmjs.com/cli/v11/configuring-npm/package-json#files">Official npm documentation for the files field in package.json</a></p>
</li>
<li>
<p>npm .npmignore - <a href="https://docs.npmjs.com/cli/v11/using-npm/developers#keeping-files-out-of-your-package">Official npm documentation about excluding files from packages</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>n/no-unpublished-import - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unpublished-import.md">Disallow import declarations for files that npm ignores</a></p>
</li>
<li>
<p>n/no-unpublished-require - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unpublished-require.md">Disallow require() expressions for files that npm ignores</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>