<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Local Butterfly is a structural anti-pattern for a component with many immediate dependents.
The scope of dependents is limited to immediate dependents that directly access, use, reference, or contain the Local Butterfly.</p>
</div>
<div class="paragraph">
<p>These issues arise from the tight coupling between the component and its dependents, which can lead to a lack of flexibility, maintainability, and scalability in the system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Any changes or modifications to the component with a large number of immediate dependents may require updates in multiple places.
This can make it challenging to introduce new features or make changes without impacting the entire system.
The lack of flexibility can hinder adapting to evolving requirements or business needs.</p>
</div>
<div class="paragraph">
<p>The tight coupling between the component and its immediate dependents can make the codebase more complex and harder to understand.
This can lead to difficulties in maintaining and debugging the system.
When a change is required, it may be challenging to identify all the affected areas, increasing the risk of introducing bugs or unintended side effects.</p>
</div>
<div class="paragraph">
<p>As the number of immediate dependents increases, the component&#8217;s scalability can be compromised.</p>
</div>
<div class="paragraph">
<p>Only basic Interfaces or utility classes should be allowed to become Local Butterflies.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="ulist">
<ul>
<li>
<p>The rule ignores simple components (class/record/interface). Simple components are less subject to being changed, so
the likelihood of breaking a lot of other places is reduced. The rule considers a component simple when the number
of "public field count + public method count + public method parameter count" &#8656; 10. And <code>Object</code> methods <code>equals</code>,
<code>hashCode</code>, <code>toString</code> and <code>compareTo</code> are ignored in the computation.</p>
</li>
<li>
<p>The rule has a different threshold for "data classes", classes with only public constructors/getters/setters/fields,
and a maximum of one other public method (ignoring <code>equals</code>, <code>hashCode</code>, <code>toString</code> and <code>compareTo</code>). In this case,
the threshold is doubled.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To mitigate these issues, it is recommended to consider alternative design patterns that promote loose coupling and separation of concerns.
By decoupling the component from its immediate dependents, such as using interfaces or abstractions, it becomes easier to modify, maintain, and test the system.
This promotes better flexibility, maintainability, and scalability in the long run.</p>
</div>
</div>
</div>