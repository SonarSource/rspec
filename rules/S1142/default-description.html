<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having too many return statements in a function increases the function&#8217;s essential complexity because the flow of execution is broken each time a return statement is encountered. This makes it harder to read and understand the logic of the function.</p>
</div>
<div class="paragraph">
<p>The way of counting the return statements is aligned with the way we compute <a href="https://www.sonarsource.com/docs/CognitiveComplexity.pdf"><strong>Cognitive Complexity</strong></a>.</p>
</div>
<div class="paragraph">
<p><em>"Under Cyclomatic Complexity, a switch is treated as an analog to an if-else if chain [&#8230;&#8203;] but from a maintainerâ€™s point of view, a switch - which compares a single variable to an explicitly named set of literal values - is much easier to understand than an if-else if chain because the latter may make any number of comparisons, using any number of variables and values. "</em></p>
</div>
<div class="paragraph">
<p>As a consequence, all the return statements located at the top level of case statements (including default) of a same switch statement count all together as 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>// this counts as 1 return
int fun() {
  switch(variable) {
  case value1:
    return 1;
  case value2:
    return 2;
  default:
    return 3;
  }
}</pre>
</div>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="paragraph">
<p>With the default threshold of 3:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">// this counts as 3 returns
int fun() {
  if (condition1) {
    return 1;
  } else {
    if (condition2) {
      return 0;
    } else {
      return 1;
    }
  }
  return 0;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">// this counts as 3 returns
int fun() {
  switch(variable) {
  case value1:
    if(condition1) {
      return 1;
    } else {
      return -1;
    }
  default:
    return 2;
  }
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>This [method|function] has n returns, which is more than the m allowed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">max</div>
<div class="listingblock">
<div class="content">
<pre>3</pre>
</div>
</div>
<div class="paragraph">
<p>Maximum allowed return statements per function</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary: on the function name</p>
</li>
<li>
<p>Secondary: on <code>return</code> statements</p>
<div class="ulist">
<ul>
<li>
<p>message: "return" statement.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_25_jul_2013_164536_freddy_mallet_wrote">on 25 Jul 2013, 16:45:36 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by SONARJAVA-230</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_oct_2013_131036_freddy_mallet_wrote">on 29 Oct 2013, 13:10:36 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARPLUGINS-3206</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_12_feb_2014_175023_freddy_mallet_wrote">on 12 Feb 2014, 17:50:23 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARPLUGINS-3453 for PHP</p>
</div>
</div>
</div>
</div>