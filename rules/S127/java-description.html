<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>for</code> loop termination condition should test the loop counter against an invariant value that does not change during the execution of the loop.
Invariant termination conditions make the program logic easier to understand and maintain.</p>
</div>
<div class="paragraph">
<p>This rule tracks three types of non-invariant termination conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the loop counters are updated in the body of the <code>for</code> loop</p>
</li>
<li>
<p>When the termination condition depends on a method call</p>
</li>
<li>
<p>When the termination condition depends on an object property since such properties could change during the execution of the loop.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="paragraph">
<p>Make the termination condition invariant by using a constant or a local variable instead of an expression that could change during the execution of the loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">for (int i = 0; i &lt; foo(); i++) { // Noncompliant, "foo()" is not an invariant
  // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">int end = foo();
for (int i = 0; i &lt; end; i++) { // Compliant, "end" does not change during loop execution
  // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_noncompliant_code_example_2">Noncompliant code example</h4>
<div class="paragraph">
<p>If this is impossible and the counter variable must be updated in the loop&#8217;s body, use a <code>while</code> or <code>do</code> <code>while</code> loop instead of a <code>for</code> loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">for (int i = 0; i &lt; 10; i++) {
  // ...
  if (condition) i++; // Noncompliant, i is updated from within body
  // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_2">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">int i = 0;
while (i++ &lt; 10) { // Compliant
  // ...
  if (condition) sum++;
  // ...
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Do not update the loop counter "X" within the loop body.</p>
</li>
<li>
<p>Calculate the stop condition value outside the loop and set it to a variable.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">check_attributes</div>
<div class="listingblock">
<div class="content">
<pre>false</pre>
</div>
</div>
<div class="paragraph">
<p>Whether the rule should flag object attributes</p>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_deprecates_s1653">deprecates: <a data-rspec-id="S1653" class="rspec-auto-link">S1653</a></h3>

</div>
<div class="sect2">
<h3 id="_deprecates_s2310">deprecates: <a data-rspec-id="S2310" class="rspec-auto-link">S2310</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s5313">is related to: <a data-rspec-id="S5313" class="rspec-auto-link">S5313</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s1247">is related to: <a data-rspec-id="S1247" class="rspec-auto-link">S1247</a></h3>

</div>
<div class="sect2">
<h3 id="_on_23_may_2014_143710_ann_campbell_wrote">on 23 May 2014, 14:37:10 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Not valid for Python</p>
</div>
</div>
</div>
</div>