This rule raises an issue when an object is dereferenced (methods called or properties accessed) without first checking if it is null.

== Why is this an issue?

In Apex, attempting to call methods or access properties on null objects results in a `System.NullPointerException`. This exception causes the current transaction to fail and can lead to poor user experience.

Null pointer exceptions are among the most common runtime errors in Apex. They occur when:

* Variables are declared but not initialized
* SOQL queries return no results when assigned to single objects
* Method parameters are not validated
* Object properties are accessed without ensuring the object exists

These exceptions are particularly problematic in Salesforce because they can cause entire transactions to roll back, potentially losing user data and creating confusing error messages for end users.

=== What is the potential impact?

When null pointer exceptions occur, they cause immediate transaction failure. This can result in:

* Data loss when users submit forms or perform operations
* Poor user experience with cryptic error messages
* Incomplete business processes that require manual intervention
* Difficulty in debugging when exceptions occur in complex transaction contexts

== How to fix it

Add a null check before dereferencing the object. Use the logical AND operator to ensure the object is not null before calling methods or accessing properties.

=== Code examples

==== Noncompliant code example

[source,apex,diff-id=1,diff-type=noncompliant]
----
String s;
Boolean b = s.contains('Apex'); // Noncompliant
----

==== Compliant solution

[source,apex,diff-id=1,diff-type=compliant]
----
String s;
Boolean b = s != null && s.contains('Apex');
----

== Resources

=== Documentation

 * Apex Exception Handling - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_exception_definition.htm[Official Salesforce documentation on exception handling in Apex]

 * Apex Best Practices - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_bestpractices.htm[Salesforce best practices for writing robust Apex code]

=== Standards

 * CWE-476: NULL Pointer Dereference - https://cwe.mitre.org/data/definitions/476.html[Common weakness enumeration for null pointer dereference vulnerabilities]

=== Related rules

 * RSPEC-1697 - https://rules.sonarsource.com/java/RSPEC-1697/[Short-circuit logic should be used to prevent null pointer dereferences (Java)]

 * RSPEC-6582 - https://rules.sonarsource.com/dart/RSPEC-6582/[Null check operators should not be used on non-nullable values (Dart)]
