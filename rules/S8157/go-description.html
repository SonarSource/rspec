<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an issue when <code>GOPROXY</code> is explicitly set to <code>direct</code>, forcing the Go toolchain to fetch dependencies directly from version control systems instead of using module proxies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When <code>GOPROXY</code> is set to <code>direct</code>, the Go toolchain bypasses module proxies and fetches dependencies directly from version control systems like Git repositories. This approach has several drawbacks:</p>
</div>
<div class="paragraph">
<p><strong>Performance Impact</strong>: Direct VCS access requires downloading the entire repository history to resolve version information, even for transitive dependencies that aren&#8217;t being built. This significantly increases download time and bandwidth usage.</p>
</div>
<div class="paragraph">
<p><strong>Reliability Concerns</strong>: Direct access depends on the availability of the original repository. If a repository becomes unavailable, moves, or is deleted, your builds will fail. Module proxies cache dependencies, providing protection against such failures.</p>
</div>
<div class="paragraph">
<p><strong>Security Implications</strong>: Module proxies work with Go&#8217;s checksum database to verify that everyone receives the same code for a given module version. Direct VCS access bypasses this verification, making it easier for malicious actors to serve different code to different users.</p>
</div>
<div class="paragraph">
<p><strong>Network Efficiency</strong>: Module proxies use an API optimized for the Go toolchain&#8217;s needs, requesting only the specific metadata and source code required, rather than entire repository histories.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using direct VCS access can lead to slower builds, increased bandwidth usage, and reduced reliability. In enterprise environments, it may cause builds to fail when repositories become unavailable. The lack of checksum verification also creates potential security vulnerabilities where different users might receive different code for the same module version.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Remove the explicit <code>GOPROXY=direct</code> setting to use the default module proxy configuration. Go 1.13+ uses <code><a href="https://proxy.golang.org" class="bare">https://proxy.golang.org</a></code> by default, which provides better performance and reliability.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Build script or environment configuration
export GOPROXY=direct  # Noncompliant
go build ./...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Build script or environment configuration
# Use default GOPROXY (https://proxy.golang.org)
go build ./...</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Go Module Proxy Documentation - <a href="https://go.dev/ref/mod#module-proxy">Official documentation on Go module proxies and their configuration</a></p>
</li>
<li>
<p>Module Mirror and Checksum Database - <a href="https://go.dev/blog/module-mirror-launch">Go blog post explaining the benefits of module proxies and checksum verification</a></p>
</li>
<li>
<p>Go Command Documentation - Module Configuration - <a href="https://go.dev/cmd/go/#hdr-Module_configuration_for_non_public_modules">Configuration guidance for private and public module access</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>