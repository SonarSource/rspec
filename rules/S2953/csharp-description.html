<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://learn.microsoft.com/en-us/dotnet/api/system.idisposable">IDisposable</a> is an interface implemented by all types which need to provide a mechanism for <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/unmanaged">releasing unmanaged resources</a>.</p>
</div>
<div class="paragraph">
<p>Unlike managed memory, which is taken care of by the <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/fundamentals">garbage collection</a>,</p>
</div>
<div class="paragraph">
<p>The interface declares a <a href="https://learn.microsoft.com/en-us/dotnet/api/system.idisposable.dispose">Dispose</a> method, which the implementer has to define.</p>
</div>
<div class="paragraph">
<p>The method name <code>Dispose</code> should be used exclusively to implement <code>IDisposable.Dispose</code> to prevent any confusion.</p>
</div>
<div class="paragraph">
<p>It may be tempting to create a <code>Dispose</code> method for other purposes, but doing so will result in confusion and likely lead to problems in production.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>Methods named <code>Dispose</code> and invoked from the <code>IDisposable.Dispose</code> implementation are not reported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class GarbageDisposal : IDisposable
{
  protected virtual void Dispose(bool disposing)
  {
    //...
  }
  public void Dispose()
  {
    Dispose(true);
    GC.SuppressFinalize(this);
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, it is important to determine whether instances of the type defining the <code>Dispose</code> method should support the <a href="https://learn.microsoft.com/en-us/dotnet/api/system.idisposable">IDisposable</a> interface or not.</p>
</div>
<div class="paragraph">
<p>The decision would be based on whether the instance can have unmanaged resources which have to be dealt with, upon destruction or earlier in the lifetime of the object.</p>
</div>
<div class="paragraph">
<p>The <a href="https://learn.microsoft.com/en-us/dotnet/standard/design-guidelines/dispose-pattern">Dispose pattern</a> can help to take the decision.</p>
</div>
<div class="paragraph">
<p>If the type should not support the pattern, the <code>Dispose</code> method should be renamed to something which is different than <code>Dispose</code>, but still relevant and possibly more specific to the context.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class GarbageDisposal
{
  private int Dispose()  // Noncompliant
  {
    // ...
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class GarbageDisposal : IDisposable
{
  public void Dispose()
  {
    // ...
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class GarbageDisposal
{
  private int Grind()
  {
    // ...
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/fundamentals">Fundamentals of garbage collection</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/unmanaged">Cleaning up unmanaged resources</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/api/system.idisposable">IDisposable Interface</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose">Implement a Dispose method</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Either implement "IDisposable.Dispose", or rename this method to prevent confusion.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s1201">relates to: <a data-rspec-id="S1201" class="rspec-auto-link">S1201</a></h3>

</div>
<div class="sect2">
<h3 id="_on_22_may_2015_095456_tamas_vajk_wrote">on 22 May 2015, 09:54:56 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>LGTM</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_jun_2015_090539_tamas_vajk_wrote">on 9 Jun 2015, 09:05:39 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I&#8217;ve changed all occurrences of "override" to "implement". I think it is better this way.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_9_jun_2015_134611_ann_campbell_wrote">on 9 Jun 2015, 13:46:11 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>okay, thanks [~tamas.vajk]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_18_jun_2015_114133_tamas_vajk_wrote">on 18 Jun 2015, 11:41:33 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I&#8217;ve added an exception. This is a usual pattern in C#. You can read about it here: https://msdn.microsoft.com/en-us/library/b1yfkh5e(v=vs.110).aspx</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_18_jun_2015_120049_ann_campbell_wrote">on 18 Jun 2015, 12:00:49 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>okay [~tamas.vajk]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_aug_2015_181410_ann_campbell_wrote">on 4 Aug 2015, 18:14:10 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] I&#8217;ve just mapped this to FxCop&#8217;s ImplementIDisposableCorrectly, but I believe that rule is broader than this one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_aug_2015_132350_tamas_vajk_wrote">on 5 Aug 2015, 13:23:50 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Yes, it seems to me too that it is doing more. I&#8217;m not sure if we would want to add more disposable rules, or cover all the cases of this FxCop rule in this RSPEC.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_nov_2019_103127_costin_zaharia_wrote">on 20 Nov 2019, 10:31:27 Costin Zaharia wrote:</h3>
<div class="paragraph">
<p>We should add an exception in this rule for <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-8#disposable-ref-structs">disposable ref structs</a> introduced in C# 8.</p>
</div>
</div>
</div>
</div>