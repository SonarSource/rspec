<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>C&#43;&#43;20 introduces the member function <code>contains</code> on associative containers to check if an equivalent to a specific key already exists in the container.</p>
</div>
<div class="paragraph">
<p>Calling this function can replace previous ways to check if a key is present in a container:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>call <code>find()</code> and check that its result is not the end of the container. This was quite verbose.</p>
</li>
<li>
<p>call <code>count()</code>. This did not clearly express the intent and was not optimal in terms of performance for containers that allow a key to be present multiple times.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This rule raises an issue when <code>contains</code> could be used to simplify the code.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void f1(std::set&lt;int&gt; &amp;s) {
  if (s.find(1) == s.end()) { // Noncompliant
      doSomething();
  }
}

void f2(std::unordered_map&lt;std::string, int&gt; &amp;m) {
  if (m.count("key") != 0) { // Noncompliant
      doSomething();
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void f1(std::set&lt;int&gt; &amp;s) {
  if (!s.contains(1)) { // Compliant
      doSomething();
  }
}

void f2(std::unordered_map&lt;std::string, int&gt; &amp;m) {
  if (m.contains("key")) { // Compliant
      doSomething();
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/container/set/find"><code>std::set::find</code></a></p>
</li>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/container/set/count"><code>std::set::count</code></a></p>
</li>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/container/set/contains"><code>std::set::contains</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S7034" class="rspec-auto-link">S7034</a> - "contains" should be used to test whether a substring is part of a string</p>
</li>
</ul>
</div>
</div>
</div>
</div>