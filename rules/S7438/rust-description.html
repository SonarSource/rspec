<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the bits that the comparison cares about are always set to zero or one by the bit mask, the comparison is constant true or false (depending on mask, compared value, and operators). This results in dead code, potential security vulnerabilities, confusion for developers, and wasted processing time on redundant checks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ensuring valid bitwise operations in comparisons requires:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <code>&amp;</code> (AND) operations:</p>
<div class="ulist">
<ul>
<li>
<p><code>x &amp; mask == value</code> is valid if all bits set in <code>value</code> are also set in <code>mask</code></p>
</li>
<li>
<p><code>x &amp; mask &lt; value</code> is valid if <code>mask &lt; value</code></p>
</li>
<li>
<p><code>x &amp; mask &gt; value</code> is valid if <code>mask &gt; value</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>For <code>|</code> (OR) operations:</p>
<div class="ulist">
<ul>
<li>
<p><code>x | mask == value</code> is valid if all bits set in <code>mask</code> are also set in <code>value</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Correct the bit mask or comparison value to create a valid logical expression that can be both true and false depending on input. This ensures the bitwise operations in the comparisons result in meaningful code execution.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-rust" data-lang="rust">let x = 1;
if (x &amp; 1 == 2) {
    // This code will never execute
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-rust" data-lang="rust">let x = 1;
if (x &amp; 2 == 2) {
    // This code will execute when the second bit of x is set
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Clippy Lints - <a href="https://rust-lang.github.io/rust-clippy/master/index.html#bad_bit_mask" class="bare">https://rust-lang.github.io/rust-clippy/master/index.html#bad_bit_mask</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>