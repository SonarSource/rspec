<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is preferable to place string literals on the left-hand side of an <code>equals()</code> or <code>equalsIgnoreCase()</code> method call.</p>
</div>
<div class="paragraph">
<p>This prevents null pointer exceptions from being raised, as a string literal can never be null by definition.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String myString = null;

System.out.println("Equal? " + myString.equals("foo"));                        // Noncompliant; will raise a NPE
System.out.println("Equal? " + (myString != null &amp;&amp; myString.equals("foo")));  // Noncompliant; null check could be removed</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">System.out.println("Equal?" + "foo".equals(myString));                         // properly deals with the null case</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move the "{}" string literal on the left side of this string comparison.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s1772">is related to: <a data-rspec-id="S1772" class="rspec-auto-link">S1772</a></h3>

</div>
<div class="sect2">
<h3 id="_on_24_jul_2013_132916_dinesh_bolkensteyn_wrote">on 24 Jul 2013, 13:29:16 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Implemented by http://jira.codehaus.org/browse/SONARJAVA-224</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_18_apr_2017_105300_freddy_mallet_wrote">on 18 Apr 2017, 10:53:00 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Removing the rule from Sonar Way, following user feedback about FPs when value on left side can not be null.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_oct_2022_150000_michael_gumowski_wrote">on 27 Oct 2022, 15:00:00 Michael Gumowski wrote:</h3>
<div class="paragraph">
<p>After internal discussion, the rationale behind removing the rule from Sonar Way still holds.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is always a good practice to put the hardcoded string on the left side of the <code>equals()</code> call, since then it can never fail.</p>
</li>
<li>
<p>However, if the value which is tested against the String can not be null (being protected by a null-check, or the value is known to be necessarily not null), then the issue which is raised can be considered by some users as FP.</p>
</li>
<li>
<p>To make sure we only raise an issue when it makes sense and not generate noise, we would have to tie this rule with the Symbolic Execution (SE) engine. This is too much effort for such a simple code smell rules.</p>
</li>
</ul>
</div>
</div>
</div>
</div>