<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when code uses Node.js APIs that have been deprecated in the configured Node.js version range.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Node.js regularly deprecates APIs as part of its evolution, marking them for future removal. Using deprecated APIs poses several risks:</p>
</div>
<div class="paragraph">
<p>Deprecated APIs may be removed in future Node.js versions, causing your application to break when upgrading. They often have known issues, security vulnerabilities, or performance problems that led to their deprecation.</p>
</div>
<div class="paragraph">
<p>The Node.js team typically provides better alternatives when deprecating APIs. For example, <code>fs.exists()</code> was deprecated because it has a race condition - the file might be deleted between checking and using it. The recommended alternatives <code>fs.stat()</code> or <code>fs.access()</code> provide more reliable ways to check file existence.</p>
</div>
<div class="paragraph">
<p>Using deprecated APIs also makes your codebase harder to maintain, as other developers may be unfamiliar with outdated patterns.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using deprecated APIs can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application failures when upgrading Node.js versions</p>
</li>
<li>
<p>Security vulnerabilities if the deprecated API has known issues</p>
</li>
<li>
<p>Performance problems compared to modern alternatives</p>
</li>
<li>
<p>Maintenance difficulties and technical debt</p>
</li>
<li>
<p>Unexpected runtime behavior in newer Node.js environments</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace deprecated APIs with their recommended alternatives. For example, replace <code>fs.exists()</code> with <code>fs.access()</code> or <code>fs.stat()</code>.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const fs = require('fs');

// Using deprecated fs.exists()
fs.exists('./file.txt', (exists) =&gt; { // Noncompliant
  if (exists) {
    // process file
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const fs = require('fs');

// Use fs.access() instead
fs.access('./file.txt', fs.constants.F_OK, (err) =&gt; {
  if (!err) {
    // file exists, process it
  }
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Node.js Deprecation Warnings - <a href="https://nodejs.org/api/deprecations.html">Official Node.js documentation listing all deprecated APIs and their alternatives</a></p>
</li>
<li>
<p>Node.js Buffer Documentation - <a href="https://nodejs.org/api/buffer.html">Documentation for Buffer APIs including migration from deprecated constructors</a></p>
</li>
<li>
<p>Node.js File System Documentation - <a href="https://nodejs.org/api/fs.html">File system API documentation with current recommended methods</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>node/no-deprecated-api - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-deprecated-api.md">Original rule documentation with comprehensive list of deprecated APIs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>