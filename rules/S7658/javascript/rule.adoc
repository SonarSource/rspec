This rule raises an issue when code uses Node.js APIs that have been deprecated in the configured Node.js version range.

== Why is this an issue?

Node.js regularly deprecates APIs as part of its evolution, marking them for future removal. Using deprecated APIs poses several risks:

Deprecated APIs may be removed in future Node.js versions, causing your application to break when upgrading. They often have known issues, security vulnerabilities, or performance problems that led to their deprecation.

The Node.js team typically provides better alternatives when deprecating APIs. For example, `fs.exists()` was deprecated because it has a race condition - the file might be deleted between checking and using it. The recommended alternatives `fs.stat()` or `fs.access()` provide more reliable ways to check file existence.

Using deprecated APIs also makes your codebase harder to maintain, as other developers may be unfamiliar with outdated patterns.

=== What is the potential impact?

Using deprecated APIs can lead to:

* Application failures when upgrading Node.js versions
* Security vulnerabilities if the deprecated API has known issues
* Performance problems compared to modern alternatives
* Maintenance difficulties and technical debt
* Unexpected runtime behavior in newer Node.js environments

=== How to fix?


Replace deprecated APIs with their recommended alternatives. For example, replace `fs.exists()` with `fs.access()` or `fs.stat()`.

==== Non-compliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
const fs = require('fs');

// Using deprecated fs.exists()
fs.exists('./file.txt', (exists) => { // Noncompliant
  if (exists) {
    // process file
  }
});
----

==== Compliant code example

[source,javascript,diff-id=1,diff-type=compliant]
----
const fs = require('fs');

// Use fs.access() instead
fs.access('./file.txt', fs.constants.F_OK, (err) => {
  if (!err) {
    // file exists, process it
  }
});
----

=== Documentation

 * Node.js Deprecation Warnings - https://nodejs.org/api/deprecations.html[Official Node.js documentation listing all deprecated APIs and their alternatives]
 * Node.js Buffer Documentation - https://nodejs.org/api/buffer.html[Documentation for Buffer APIs including migration from deprecated constructors]
 * Node.js File System Documentation - https://nodejs.org/api/fs.html[File system API documentation with current recommended methods]

=== Related Rules

 * node/no-deprecated-api - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-deprecated-api.md[Original rule documentation with comprehensive list of deprecated APIs]

