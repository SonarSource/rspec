<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Repeating an exception class in a single <code>catch</code> clause will not fail but it is not what the developer intended. Either the class is not the one which should be caught, or this is dead code.</p>
</div>
<div class="paragraph">
<p>Having a subclass and a parent class in the same <code>catch</code> clause is also useless. It is enough to keep only the parent class.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when an exception class is duplicated in a <code>catch</code> clause, or when an exception class has a parent class in the same <code>catch</code> clause.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">try {
    throw new CustomException();
} catch(CustomException | Exception $e) { // Noncompliant. CustomException inherits from Exception
    echo $e-&gt;message();
}

try {
    throw new CustomException();
} catch(Exception | Exception $e) { // Noncompliant.
    echo $e-&gt;message();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">try {
    throw new CustomException();
} catch(Exception $e) {
    echo $e-&gt;message();
}

try {
    throw new CustomException();
} catch(CustomException $e) {
    echo $e-&gt;getCustomMessage();
} catch(Exception $e) {
    echo $e-&gt;message();
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>RFC - <a href="https://wiki.php.net/rfc/multiple-catch">Catching Multiple Exception Types</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Remove this duplicate Exception class.</p>
</li>
<li>
<p>Remove this useless Exception class; it derives from class XXX which is already caught.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>If the class is a duplicate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Primary:</p>
<div class="ulist">
<ul>
<li>
<p>The first time the Exception class appears in the "except" statement.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secondary:</p>
<div class="ulist">
<ul>
<li>
<p>All the duplicates
message: 'Duplicate.'</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the class inherit from another class in the same "except" statement:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Primary:</p>
<div class="ulist">
<ul>
<li>
<p>The derived class.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Secondary:</p>
<div class="ulist">
<ul>
<li>
<p>The parent class.
message: 'Parent class.'</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>