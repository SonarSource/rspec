<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In JavaScript, some <code>Array</code> methods do not mutate the existing array that the method was called on, but instead return a new array. Other methods mutate the array, and their return value differs depending on the method.</p>
</div>
<div class="paragraph">
<p><code>reverse</code> and <code>sort</code> are mutating methods and, in addition, return the altered version. This rule raises an issue when the return values of these methods are assigned, which could lead maintainers to overlook the fact that the original array has been modified.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const reversed = a.reverse(); // Noncompliant: mutating method, no need to assign return value
const sorted = b.sort(); // Noncompliant: mutating method, no need to assign return value</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remove the assignment, so that the intent of mutating the original array is clear.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">a.reverse();
b.sort();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or use non-mutating alternatives <code>toReversed</code> and <code>toSorted</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const reversed = a.toReversed();
const sorted = b.toSorted();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, change a mutating method into a non-mutating alternative using the spread syntax (<code>&#8230;&#8203;</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const reversed = [...a].reverse();
const sorted = [...b].sort();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or <code>slice()</code> to create a copy first.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const reversed = a.slice().reverse();
const sorted = b.slice().sort();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#copying_methods_and_mutating_methods">Array copying methods and mutating methods</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse">Array.prototype.reverse()</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">Array.prototype.sort()</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/toReversed">Array.prototype.toReversed()</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/toSorted">Array.prototype.toSorted()</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">Spread syntax (<code>...</code>)</a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">Array.prototype.slice()</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move this array "{0}" operation to a separate statement.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p><code>x.reverse()</code></p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_28_jul_2017_142042_elena_vilchik_wrote">on 28 Jul 2017, 14:20:42 Elena Vilchik wrote:</h3>
<div class="paragraph">
<p>I&#8217;ve put the rule back to Sonar Way as we removed more code-smelly case <code>a = a.reverse();</code> from the scope (moved to <a data-rspec-id="S1656" class="rspec-auto-link">RSPEC-1656</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_16_jan_2020_102352_tibor_blenessy_wrote">on 16 Jan 2020, 10:23:52 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>Changed to code smell, we can&#8217;t be sure that the code has a bug, and from issues we find it seems that more often it&#8217;s not the case</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_14_mar_2021_112301_jounqin_wrote">on 14 Mar 2021, 11:23:01 JounQin wrote:</h3>
<div class="paragraph">
<p>Hi, I tried this in SonarJS, it seems <code>items?.sort()</code> reports while <code>items.sort()</code> does not which is unexpected.</p>
</div>
<div class="paragraph">
<p>What means this rule is not compatible with <code>optional chaining</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_mar_2021_165659_tibor_blenessy_wrote">on 15 Mar 2021, 16:56:59 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>\[~JounQin] I created issue from your report https://github.com/SonarSource/SonarJS/issues/2513 , however please use our community forum in the future https://community.sonarsource.com/ ,  this JIRA project should not be used to report specific implementation issues, as it is agnostic about the language.</p>
</div>
</div>
</div>
</div>