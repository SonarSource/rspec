This rule raises an issue when executable files (listed in package.json's `bin` field) are missing the proper hashbang line, or when non-executable files have unnecessary hashbang lines.

== Why is this an issue?

When creating CLI tools with Node.js, the `bin` field in `package.json` specifies executable files that need a hashbang (shebang) line to tell the system which interpreter to use. Without the proper `#!/usr/bin/env node` hashbang, the executable file won't run correctly when installed as a command-line tool.

Conversely, regular JavaScript files that aren't meant to be executed directly shouldn't have hashbang lines, as they're unnecessary and can cause confusion about the file's purpose.

The hashbang line must also be properly formatted - it should be the first line of the file, the file should not have a Unicode BOM (Byte Order Mark), and should use Unix line endings (LF) rather than Windows line endings (CRLF) for maximum compatibility across different operating systems.

=== What is the potential impact?

Missing hashbangs in executable files will cause CLI tools to fail when users try to run them after installation. The system won't know how to execute the file, leading to "command not found" or permission errors.

Incorrect file encoding or line endings can cause the hashbang to be misinterpreted, preventing the executable from running properly on some systems, particularly Unix-like systems where these tools are commonly used.

=== How to fix?


Add the proper hashbang line to executable files listed in package.json's bin field. Remove hashbang lines from non-executable files.

==== Non-compliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
// File listed in package.json bin field
console.log("Hello World"); // Noncompliant
----

==== Compliant code example

[source,javascript,diff-id=1,diff-type=compliant]
----
#!/usr/bin/env node
console.log("Hello World");
----

=== Documentation

 * ESLint Plugin N - hashbang rule - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/hashbang.md[Official documentation for the hashbang rule]
 * npm package.json bin field - https://docs.npmjs.com/cli/v10/configuring-npm/package-json#bin[Documentation about the bin field in package.json]
 * Shebang (Unix) - https://en.wikipedia.org/wiki/Shebang_(Unix)[Wikipedia article explaining shebang/hashbang lines]

=== Related Rules

 * n/no-unpublished-bin - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unpublished-bin.md[Disallow bin files that npm ignores]

