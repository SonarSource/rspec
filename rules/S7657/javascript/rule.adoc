This is an issue when executable files (listed in package.json's bin field) are missing the required hashbang, or when non-executable files have unnecessary hashbangs.

== Why is this an issue?

In Node.js projects, executable files need a hashbang (shebang) line to tell the system which interpreter to use when the file is executed directly. The hashbang `#!/usr/bin/env node` at the beginning of a file allows it to be run as a standalone script.

When you create a CLI tool with Node.js, you typically add a `bin` field to your `package.json` that points to executable files. These files must have the correct hashbang to function properly when installed globally or run directly.

Conversely, regular JavaScript files that are not meant to be executed directly should not have hashbangs, as they serve no purpose and can cause confusion about the file's intended use.

Additionally, executable files with hashbangs must not have Unicode BOM (Byte Order Mark) and should use Unix line endings (LF) rather than Windows line endings (CRLF), as these can interfere with the hashbang interpretation on Unix-like systems.

=== What is the potential impact?

Missing hashbangs on executable files will prevent them from running correctly when executed directly, breaking CLI functionality. Unnecessary hashbangs on non-executable files create confusion about file purpose and may cause issues in some environments. Unicode BOM or incorrect line endings in executable files can cause the hashbang to be misinterpreted, leading to execution failures on Unix-like systems.

=== How to fix?


Add the correct hashbang to executable files listed in package.json's bin field. The hashbang should be the first line of the file.

==== Non-compliant code example

[source,javascript,diff-id=1,diff-type=noncompliant]
----
console.log("hello"); // Noncompliant: missing hashbang for executable file
----

==== Compliant code example

[source,javascript,diff-id=1,diff-type=compliant]
----
#!/usr/bin/env node
console.log("hello");
----

=== Documentation

 * ESLint Plugin N - hashbang rule - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/hashbang.md[Official documentation for the n/hashbang ESLint rule]
 * Node.js package.json bin field - https://docs.npmjs.com/cli/v9/configuring-npm/package-json#bin[Documentation about the bin field in package.json for executable files]
 * Shebang (Unix) - https://en.wikipedia.org/wiki/Shebang_(Unix)[Wikipedia article explaining shebang/hashbang usage in Unix systems]

=== Standards

 * POSIX.1-2017 - https://pubs.opengroup.org/onlinepubs/9699919799/[POSIX standard that defines shebang behavior in Unix-like systems]

=== Related Rules

 * n/no-unpublished-bin - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unpublished-bin.md[Ensures bin files are properly published in npm packages]
 * n/shebang - https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/shebang.md[Alternative rule name for hashbang checking]

