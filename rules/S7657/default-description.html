<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when executable files (listed in <code>package.json</code> bin field) are missing a hashbang, or when non-executable files have an unnecessary hashbang.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Node.js projects, executable files need a hashbang line to tell the system which interpreter to use when the file is run directly. The hashbang <code>#!/usr/bin/env node</code> ensures the file runs with Node.js.</p>
</div>
<div class="paragraph">
<p>Without a proper hashbang, executable files won&#8217;t work when installed globally via npm or when run directly from the command line. The system won&#8217;t know how to execute the file.</p>
</div>
<div class="paragraph">
<p>Conversely, non-executable files don&#8217;t need hashbangs and including them can be confusing or cause issues in some environments.</p>
</div>
<div class="paragraph">
<p>Additionally, files with hashbangs must use Unix line endings (LF) and cannot have a Unicode BOM, as these can prevent the hashbang from being recognized correctly by the system.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Without proper hashbangs, CLI tools won&#8217;t function correctly when installed or executed. Users will get "command not found" errors or the file will be treated as a text file rather than an executable script. This breaks the intended functionality of command-line tools distributed via npm.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Add the correct hashbang to executable files listed in package.json&#8217;s bin field.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// File: bin/my-cli.js (listed in package.json bin field)
console.log('Hello World'); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">#!/usr/bin/env node
// File: bin/my-cli.js (listed in package.json bin field)
console.log('Hello World');</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Node.js - Shebang - <a href="https://nodejs.org/api/cli.html#shebang">Official Node.js documentation on shebang usage</a></p>
</li>
<li>
<p>npm - package.json bin field - <a href="https://docs.npmjs.com/cli/v11/configuring-npm/package-json#bin">Documentation on the bin field in package.json</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>n/no-unpublished-bin - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unpublished-bin.md">Ensures bin files are published to npm</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>