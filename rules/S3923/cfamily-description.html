<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having all branches of an <code>if</code> chain, <code>switch</code> statement or ternary operator with the same implementation indicates a problem. The conditional structure is pointless, because the same code will be executed regardless of the conditions.</p>
</div>
<div class="paragraph">
<p>In the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">if (b == 0) {  // Noncompliant
  doOneMoreThing();
} else {
  doOneMoreThing();
}

int b = a &gt; 12 ? 4 : 4;  // Noncompliant

switch (i) {  // Noncompliant
  case 1:
    doSomething();
    break;
  case 2:
    doSomething();
    break;
  case 3:
    doSomething();
    break;
  default:
    doSomething();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Either there is a copy-paste error that should be fixed; or the <code>if</code> chain, <code>switch</code> statement or ternary operator is unecessary and should be removed.</p>
</div>
<div class="paragraph">
<p>This rule triggers when all branches, <em>including the default branch</em>, are identical.
The default branch is the one that is executed when none of the conditions of the structure are satisfied. This branch may present itself explicitly, implicitly, or by construction.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">if (a == 0) b == 1;
else b == 2; // explicit default branch

int func() {
  if (a == 0) return 1;
  return 2; // implicit default branch
}

int b = a == 0 ? 1 : 2;
                  // ^ default branch by construction

switch (a) {
  case 0:
    return 1;
  default: // explicit default branch
    return 2;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S1871" class="rspec-auto-link">S1871</a> - Two branches in a conditional structure should not have exactly the same implementation</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this conditional structure or edit its code blocks so that they&#8217;re not all the same.</p>
</div>
<div class="paragraph">
<p>This conditional operation returns the same value whether the condition is "true" or "false".</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p><code>if</code> or <code>switch</code>.</p>
</li>
<li>
<p>For a ternary, condition and <code>?</code></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_deprecates_s2758">deprecates: <a data-rspec-id="S2758" class="rspec-auto-link">S2758</a></h3>

</div>
</div>
</div>