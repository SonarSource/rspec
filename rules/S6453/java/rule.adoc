In javadoc snippets, regions are optionally-named ranges of lines used for delimiting an area of the snippet which can then be highlighted or replaced.
The beginning of a region is marked by either @start region=name, or an @highlight, @replace, or @link tag that specifies region or region=name. The name can be skipped if it is not needed by the matching @end tag. The end of a region is marked by @end or @end region=name.

This rule raises an issue when region declarations are inconsistent. That is when the number of region starting points is different from the number of region end points.



== Noncompliant Code Example ==
[source,java]
----
{@snippet :
    if (v.isPresent()) {                        // @start region="example"   // Noncompliant - missing end of region
        System.out.println("v: " + v.get());
    }
}
----


[source,java]
----
{@snippet :
    if (v.isPresent()) {                        // @highlight substring="is".
        System.out.println("v: " + v.get());
    }                                           // @end                       // Noncompliant - end of region is not paired with a beginning because @highlight does not have the 'region' attribute.
}
----

[source,java]
----
{@snippet :
    if (v.isPresent()) {                        // @highlight region substring="v"                           // Noncompliant - two region starting points but only one end
        System.out.println("v: " + v.get());    // @replace region substring='"println"' replacement="print"
    } else {
        System.out.println("No v");
    }                                           // @end
}
----

== Compliant Solution ==
[source,java]
----
{@snippet :
    if (v.isPresent()) {                        // @start region="example"
        System.out.println("v: " + v.get());
    }                                           // @end region="example"
}
----


[source,java]
----
{@snippet :
    if (v.isPresent()) {                        // @highlight region substring="v"
        System.out.println("v: " + v.get());
    }                                           // @end
}
----


[source,java]
----
{@snippet :
    if (v.isPresent()) {                        // @highlight region substring="v."
        System.out.println("v: " + v.get());    // @replace region substring='tem.out' replacement="..."
    } else {
        System.out.println("No v");             // @end
    }                                           // @end
}
----




== See ==
Oracleâ€™s Programmer's Guide to Snippets: https://docs.oracle.com/.../code-snippet/index.html[https://docs.oracle.com/en/java/javase/18/code-snippet/index.html]


ifdef::env-github,rspecator-view[]

'''
== Implementation Specification ==
(visible only on this page)


=== Message ===

* For each starting point without end point: This region starting point is missing a corresponding end point.
* For each end point without a starting point: This region ending point is missing a corresponding starting point.

=== Highlighting ===

* For each starting point without end point: the markup of the starting point.
* For each end point without starting point: the markup of the end point.

endif::env-github,rspecator-view[]
