<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two types of sequence and stream operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Intermediate operations, which return another sequence or stream</p>
</li>
<li>
<p>Terminal operations, which return something else</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Intermediate operations are lazy, meaning they aren&#8217;t actually executed until and unless a terminal sequence operation
is performed on their results. Consequently, if the result of an intermediate sequence operation is not fed to a
terminal operation, it serves no purpose, which is almost certainly an error.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val sequence = sequenceOf("Hello", " ", "World")
var totalLength = 0
sequence.map { totalLength += it.length } // Noncompliant, do nothing, "map" is not a terminal operation
// here totalLength == 0</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val stream = listOf("Hello", " ", "World").stream()
stream.filter { it.isNotBlank() }  // Noncompliant, do nothing, "filter" is not a terminal operation
// the following "forEach" throws an exception, only one method can operate on a stream instance
// here "filter" has already operated on it.
stream.forEach { println(it) }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val sequence = listOf("Hello", " ", "World").asSequence()
var totalLength = sequence.map { it.length }.sum() // Compliant, the sequence ends with the terminal operation "sum"
// here totalLength == 11</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">listOf("Hello", " ", "World").stream()
    .filter { it.isNotBlank() }
    .forEach { println(it) } // Compliant, the stream ends with the terminal operation "forEach"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://kotlinlang.org/docs/sequences.html#sequence-operations">Sequence operations</a></p>
</li>
</ul>
</div>
</div>
</div>