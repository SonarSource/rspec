<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a function does not return an appropriate value, it causes the program to have an undefined behavior. For example, if a function is supposed to return a value indicating whether a file was successfully opened but does not return any value, the program may continue to execute as if the file was opened successfully, even though it was not. This can lead to data corruption or other issues that are difficult to diagnose.</p>
</div>
<div class="paragraph">
<p>Functions with a void return type are not expected to return any value. If they do, it may indicate a programming error.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>The rule does not raise an issue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when the <code>return</code> statement of a <code>void</code> function is a <code>void</code> expression.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void foo() {
  // ...
}

void bar() {
  return foo(); // Compliant by exception
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>for coroutines, introduced in C&#43;&#43;20. Coroutines always declare coroutine objects as return types, but the compiler implicitly creates the returned object. The coroutine body never contains a <code>return</code> statement, as it is disallowed: if a coroutine returns a value, it will use <code>co_return</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int my_func(int a) {
  if (a &gt; 100) {
    return; // Noncompliant
  }

  // Noncompliant
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int my_func(int a) {
  if (a &gt; 100) {
    return a;
  }

  if (a &gt; 80) {
    throw new Exception();
  }

  return 0;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C:2004, 16.8 - All exit paths from a function with non-void return type shall have an explicit return statement with an expression</p>
</li>
<li>
<p>MISRA C&#43;&#43;:2008, 8-4-3 - All exit paths from a function with non-void return type shall have an explicit return statement with an expression</p>
</li>
<li>
<p>MISRA C:2012, 17.4 - All exit paths from a function with non-void return type shall have an explicit return statement with an expression</p>
</li>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/394">CWE-394 - Unexpected Status Code or Return Value</a></p>
</li>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/m9YxBQ">CERT, MSC37-C.</a> - Ensure that control never reaches the end of a non-void function</p>
</li>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/EXs-BQ">CERT, MSC52-CPP.</a> - Value-returning functions must return a value from all exit paths</p>
</li>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/Cns-BQ">CERT, MSC53-CPP.</a> - Do not return from a function declared [[noreturn]]</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S6369" class="rspec-auto-link">S6369</a> - Coroutine should have co_return on each execution path or provide return_void</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Add an explicit "return" statement with an expression here.</p>
</li>
<li>
<p>Remove the value from this return.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s3801">is related to: <a data-rspec-id="S3801" class="rspec-auto-link">S3801</a></h3>

</div>
<div class="sect2">
<h3 id="_supercedes_s2734">supercedes: <a data-rspec-id="S2734" class="rspec-auto-link">S2734</a></h3>

</div>
<div class="sect2">
<h3 id="_on_10_dec_2014_233745_evgeny_mandrikov_wrote">on 10 Dec 2014, 23:37:45 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I think that we can safely add link to <a href="https://www.securecoding.cert.org/confluence/x/ZoCKC">CERT MSC36-CPP</a> ? WDYT?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_dec_2014_124347_ann_campbell_wrote">on 11 Dec 2014, 12:43:47 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Agreed, [~evgeny.mandrikov]. Done</p>
</div>
</div>
</div>
</div>