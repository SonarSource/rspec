This rule raises an issue when exception methods that can return null (like `getCause()`) are concatenated into strings without null checks.

== Why is this an issue?

When building exception detail strings for logging or error reporting, developers often concatenate various exception method results to create comprehensive error messages. However, some exception methods like `getCause()` can return null values.

When null values are concatenated with strings in Apex, they are converted to the literal string "null". This creates several problems:

* **Poor log readability**: Error logs contain confusing "null" text instead of meaningful information
* **Debugging difficulties**: The literal "null" string makes it harder to distinguish between actual null values and the string representation
* **Unprofessional appearance**: Error messages shown to users may contain "null" text, appearing unprofessional

For example, if an exception has no cause, `e.getCause()` returns null. Concatenating this directly results in log entries like "null ; 15 ; Division by zero" instead of a cleaner format.

This issue is particularly common in exception handling utilities where developers try to capture comprehensive error information by concatenating multiple exception properties.

=== What is the potential impact?

This issue reduces the effectiveness of error logging and debugging. While not a security vulnerability, it can make troubleshooting production issues more difficult and time-consuming. Poor error messages can also impact user experience if these strings are displayed to end users.

== How to fix it

Add null checks before concatenating exception method results. Use conditional operators or if-else statements to provide meaningful alternatives when values are null.

=== Code examples

==== Noncompliant code example

[source,apex,diff-id=1,diff-type=noncompliant]
----
String exdetails = e.getCause() + ' ; ' + e.getLineNumber() + ' ; ' + e.getMessage(); // Noncompliant
----

==== Compliant solution

[source,apex,diff-id=1,diff-type=compliant]
----
String exdetails = (e.getCause() != null ? e.getCause().toString() : '') + ' ; ' + e.getLineNumber() + ' ; ' + e.getMessage();
----

== Resources

=== Documentation

 * Apex Exception Class - https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_exception_methods.htm[Official Salesforce documentation for Exception class methods]

 * Apex String Methods - https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_string.htm[Documentation for Apex String class methods including valueOf()]
