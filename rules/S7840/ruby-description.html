<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when <code>each</code> is used with <code>break</code> or <code>return</code> statements for searching, existence checking, or membership testing.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using <code>each</code> with <code>break</code> or <code>return</code> statements is a common anti-pattern in Ruby that makes code less readable and less idiomatic.</p>
</div>
<div class="paragraph">
<p>When you use <code>each</code> with <code>break</code> or <code>return</code>, you&#8217;re essentially implementing search or filtering logic manually. This approach has several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Intent is unclear</strong>: Other developers need to read through the entire loop to understand what the code is trying to accomplish</p>
</li>
<li>
<p><strong>More verbose</strong>: The code requires additional variables and control flow statements</p>
</li>
<li>
<p><strong>Less idiomatic</strong>: Ruby provides specific enumerable methods designed for these exact use cases</p>
</li>
<li>
<p><strong>Harder to maintain</strong>: Manual loop control is more error-prone than using built-in methods</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ruby&#8217;s enumerable methods are designed to express intent clearly. When you see <code>find</code>, you immediately know the code is searching for an element. When you see <code>any?</code>, you know it&#8217;s checking for existence. This makes code self-documenting and easier to understand at a glance.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue primarily affects code maintainability and readability. While the functional behavior remains the same, unclear intent can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Increased time spent understanding code during maintenance</p>
</li>
<li>
<p>Higher likelihood of introducing bugs when modifying the logic</p>
</li>
<li>
<p>Reduced code quality and team productivity</p>
</li>
<li>
<p>Difficulty for new team members to understand the codebase</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace <code>each</code> with <code>return</code> with the <code>find</code> method when searching for the first matching element.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">def find_user(name)
  users.each do |user|
    return user if user.name == name  # Noncompliant
  end
  nil
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">def find_user(name)
  users.find { |user| user.name == name }
end</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Ruby Enumerable#find - <a href="https://ruby-doc.org/core/Enumerable.html#method-i-find">Official documentation for the find method</a></p>
</li>
<li>
<p>Ruby Enumerable#any? - <a href="https://ruby-doc.org/core/Enumerable.html#method-i-any-3F">Official documentation for the any? method</a></p>
</li>
<li>
<p>Ruby Array#include? - <a href="https://ruby-doc.org/core/Array.html#method-i-include-3F">Official documentation for the include? method</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>