<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The comma operator takes two expressions, executes them from left to right, and returns the result of the second one. The use of this operator is generally detrimental to the readability and reliability of code, and the same effect can be achieved by other means.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">i = a += 2, a + b;  // Noncompliant: What is the value of i?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Writing each expression on its own line will improve readability and might fix misunderstandings.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">a += 2;
i = a + b; // We probably expected to assign the result of the addition to i, although the previous code wasn't doing it.</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is especially error-prone in array subscripts - until C&#43;&#43;20 - where it might be misinterpreted as accessing a multidimensional array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">a[1, 2] = 3; // Noncompliant: until C++20, 1 is ignored. This is not an access to a multidimensional array.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using a comma in this context was deprecated in C&#43;&#43;20, and a real multi-dimensional subscript operator was introduced in C&#43;&#43;23.</p>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>The comma operator is tolerated in initializations and increment expressions of <code>for</code> loops.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">for (i = 0, j = 5; i &lt; 6; i++, j++) { ... }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_external_coding_guidelines">External coding guidelines</h3>
<div class="ulist">
<ul>
<li>
<p>MISRA C:2004, 12.10 - The comma operator shall not be used.</p>
</li>
<li>
<p>MISRA C&#43;&#43;:2008, 5-18-1 - The comma operator shall not be used.</p>
</li>
<li>
<p>MISRA C:2012, 12.3 - The comma operator should not be used</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/language/operators#Array_subscript_operator">Array subscript operator</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove use of this comma operator.</p>
</div>
<div class="paragraph">
<p>Remove use of all comma operators in this expression.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s6175">is duplicated by: <a data-rspec-id="S6175" class="rspec-auto-link">S6175</a></h3>

</div>
<div class="sect2">
<h3 id="_on_6_aug_2013_231735_ann_campbell_wrote">on 6 Aug 2013, 23:17:35 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>The format of this rule title doesn&#8217;t follow the norm. Is that allowed in this case, or should I correct it?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_30_aug_2013_173239_dinesh_bolkensteyn_wrote">on 30 Aug 2013, 17:32:39 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Why should this be blocker?</p>
</div>
<div class="paragraph">
<p>I think it should be Major at most</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_7_jan_2014_100611_freddy_mallet_wrote">on 7 Jan 2014, 10:06:11 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARPLUGINS-3358 in JavaScript</p>
</div>
</div>
</div>
</div>