<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Non-overridable methods (<code>private</code> or <code>final</code>) that don&#8217;t access instance data can be <code>static</code> to prevent any misunderstanding about the contract of the method.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class Utilities {
  private static String magicWord = "magic";

  private String getMagicWord() { // Noncompliant
    return magicWord;
  }

  private void setMagicWord(String value) { // Noncompliant
    magicWord = value;
  }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class Utilities {
  private static String magicWord = "magic";

  private static String getMagicWord() {
    return magicWord;
  }

  private static void setMagicWord(String value) {
    magicWord = value;
  }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>When <code>java.io.Serializable</code> is implemented the following three methods are excluded by the rule:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>private void writeObject(java.io.ObjectOutputStream out) throws IOException;</code></p>
</li>
<li>
<p><code>private void readObject(java.io.ObjectInputStream in) throws IOException, ClassNotFoundException;</code></p>
</li>
<li>
<p><code>private void readObjectNoData() throws ObjectStreamException;</code></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Make "xxx" a "static" [method|property].</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_29_may_2015_084600_massimo_paladin_wrote">on 29 May 2015, 08:46:00 Massimo PALADIN wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] could you please review this java sub-task?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_may_2015_145226_ann_campbell_wrote">on 29 May 2015, 14:52:26 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>looks good [~massimo.paladin]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_jun_2015_131024_massimo_paladin_wrote">on 4 Jun 2015, 13:10:24 Massimo PALADIN wrote:</h3>
<div class="paragraph">
<p>@Ann I added an exception to this rule, could you validate the change?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_jun_2015_142458_ann_campbell_wrote">on 4 Jun 2015, 14:24:58 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>looks good [~massimo.paladin]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_16_aug_2018_002234_michal_domagala_wrote">on 16 Aug 2018, 00:22:34 Michal Domagala wrote:</h3>
<div class="paragraph">
<p>Hello,</p>
</div>
<div class="paragraph">
<p>I am interested in justification and history of this issue. Basically, this rule looks very strange and I would like to know how this concept was invented.</p>
</div>
<div class="paragraph">
<p>What I found:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initially, someone figured that methods, which do not access instance fields should be static, but didn&#8217;t explained why.</p>
</li>
<li>
<p>Next other someone realized that the rule is wrong for non-private methods. So the rule is implemented only for private methods, but without explanation why</p>
</li>
<li>
<p>I also found that initially someone expected that the rule has (among others) performance meaning, but someone later realized that it is not true. I think it was a good moment to review sense of the rule, but the review was not performed.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>I applied the rule to joda time library and 19 code smells was detected.</p>
</div>
<div class="paragraph">
<p>Do you think that code</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/**
  * Checks whether the period is non-null.
  *
  * @throws IllegalArgumentException if the period is null
  */
 private void checkPeriod(ReadablePeriod period) {
     if (period == null) {
         throw new IllegalArgumentException("Period must not be null");
     }
 }</pre>
</div>
</div>
<div class="paragraph">
<p>smells bad and <code>private static void checkPeriod(ReadablePeriod period)</code> smells good?</p>
</div>
<div class="paragraph">
<p>I think that the rule was based on wrong assumption, was heavy modified without review the sense and encourages to bad style coding. Effectively, it is anti-rule and should be deleted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_may_2015_120621_tamas_vajk_wrote">on 11 May 2015, 12:06:21 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>I modified the noncompliant-compliant comment in the code. Apart from this, this rule is now implemented for C#</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_may_2015_135301_ann_campbell_wrote">on 11 May 2015, 13:53:01 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>FYI [~tamas.vajk] there&#8217;s no need to explicitly mark anything Compliant in the Compliant Solution (updated).</p>
</div>
<div class="paragraph">
<p>Thanks for the corrections.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_may_2015_152321_ann_campbell_wrote">on 20 May 2015, 15:23:21 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>updated per http://jira.codehaus.org/browse/SONARCSANA-66</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_may_2015_093357_tamas_vajk_wrote">on 22 May 2015, 09:33:57 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>Changed the <code>String</code> to <code>string</code> in the samples, but otherwise it LGTM.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_may_2015_084638_massimo_paladin_wrote">on 29 May 2015, 08:46:38 Massimo PALADIN wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] assigning to you so you remember to change the C# implementation to skip public methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_jun_2015_200641_ann_campbell_wrote">on 3 Jun 2015, 20:06:41 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] I originally wrote this rule for C# &amp; the description included performance reasons. Were those also not appropriate in C#?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_jun_2015_125145_tamas_vajk_wrote">on 4 Jun 2015, 12:51:45 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~massimo.paladin] thanks. I checked in the C# implementation that we are filtering out <code>virtual</code> methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_jun_2015_125717_tamas_vajk_wrote">on 4 Jun 2015, 12:57:17 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Calling a <code>static</code> method is slightly more performant than calling a non-<code>static</code> one, because there is no need to pass the <code>this</code> reference. But the performance difference is tiny if any.</p>
</div>
<div class="paragraph">
<p>I found this on the topic:</p>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/12279438/performance-of-static-methods-vs-instance-methods" class="bare">http://stackoverflow.com/questions/12279438/performance-of-static-methods-vs-instance-methods</a></p>
</div>
</div>
</div>
</div>