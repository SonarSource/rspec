<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the interests of making code as usable as possible, interfaces and delegates with generic parameters should use the <code>out</code> and <code>in</code> modifiers when possible to make the interfaces and delegates covariant and contravariant, respectively.</p>
</div>
<div class="paragraph">
<p>The <code>out</code> keyword can be used when the type parameter is used only as a return type in the interface or delegate. Doing so makes the parameter covariant, and allows interface and delegate instances created with a sub-type to be used as instances created with a base type. The most notable example of this is <code>IEnumerable&lt;out T&gt;</code>, which allows the assignment of an <code>IEnumerable&lt;string&gt;</code> instance to an <code>IEnumerable&lt;object&gt;</code> variable, for instance.</p>
</div>
<div class="paragraph">
<p>The <code>in</code> keyword can be used when the type parameter is used only as a method parameter in the interface or a parameter in the delegate. Doing so makes the parameter contravariant, and allows interface and delegate instances created with a base type to be used as instances created with a sub-type. I.e. this is the inversion of covariance. The most notable example of this is the <code>Action&lt;in T&gt;</code> delegate, which allows the assignment of an <code>Action&lt;object&gt;</code> instance to a <code>Action&lt;string&gt;</code> variable, for instance.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">interface IConsumer&lt;T&gt;  // Noncompliant
{
    bool Eat(T fruit);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">interface IConsumer&lt;in T&gt;
{
    bool Eat(T fruit);
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Add the "[in|out]" keyword to parameter "X" to make it "[covariant|contravariant]".</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_8_jul_2015_151703_ann_campbell_wrote">on 8 Jul 2015, 15:17:03 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] note that the description I&#8217;ve written is for the "me" from last week. If it states too much of what is obvious to C# developers, please let me know what should be eliminated.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_122009_tamas_vajk_wrote">on 20 Jul 2015, 12:20:09 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I think the description is okay. We could shorten it, but it&#8217;s not necessary. <code>in</code> and <code>out</code> is not used too often, so it&#8217;s not necessarily common knowledge.</p>
</div>
<div class="paragraph">
<p>I&#8217;ve modified the description a bit. <code>IComparer</code> is not the most notable example for <code>in</code> generic arguments. We haven&#8217;t discussed this, but this rule also applies for delegates with generic parameters. And the most notable example for <code>in</code> is the <code>Action</code> delegate: https://msdn.microsoft.com/en-us/library/018hxwa8(v=vs.110).aspx</p>
</div>
<div class="paragraph">
<p>A side note: the most notable example of having both <code>in</code> and <code>out</code> is probably the <code>Func&lt;T, TResult&gt;</code> delegate: https://msdn.microsoft.com/en-us/library/bb549151(v=vs.110).aspx</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_140921_ann_campbell_wrote">on 20 Jul 2015, 14:09:21 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Thanks [~tamas.vajk]. Note that I&#8217;ve just worked covariant/contravariant into the description in the appropriate places. I suddenly realized we described them but didn&#8217;t actually attach the descriptions to the words!</p>
</div>
</div>
</div>
</div>