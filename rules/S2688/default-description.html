<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://learn.microsoft.com/en-us/dotnet/api/system.double.nan">double.NaN</a> and <a href="https://learn.microsoft.com/en-us/dotnet/api/system.single.nan">float.NaN</a> are not equal to anything, not even themselves.</p>
</div>
<div class="paragraph">
<p>When anything is compared with <code>NaN</code> using one of the <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/comparison-operators">comparison operators</a> <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&#8656;</code> or the <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-operators#equality-operator-">equality operator</a> <code>==</code>, the result will always be <code>false</code>. In contrast, when anything is compared with <code>NaN</code> using the <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-operators#inequality-operator-">inequality operator</a> <code>!=</code>, the result will always be <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Instead, the best way to see whether a variable is equal to <code>NaN</code> is to use the <a href="https://learn.microsoft.com/en-us/dotnet/api/system.single.isnan">float.IsNaN</a> and <a href="https://learn.microsoft.com/en-us/dotnet/api/system.double.isnan">double.IsNaN</a> methods, which work as expected.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">var a = double.NaN;

if (a == double.NaN) // Noncompliant: always false
{
  Console.WriteLine("a is not a number");
}
if (a != double.NaN)  // Noncompliant: always true
{
  Console.WriteLine("a is not NaN");
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">var a = double.NaN;

if (double.IsNaN(a))
{
  Console.WriteLine("a is not a number");
}
if (!double.IsNaN(a))
{
  Console.WriteLine("a is not NaN");
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Use [double|float].IsNaN() instead.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_19_may_2015_140951_linda_martin_wrote">on 19 May 2015, 14:09:51 Linda Martin wrote:</h3>
<div class="paragraph">
<p>Reviewed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_jun_2023_140951_gregory_paidis_wrote">on 27 Jun 2023, 14:09:51 Gregory Paidis wrote:</h3>
<div class="paragraph">
<p>During a LAYC sprint, I removed Java since it is neither implemented nor has any open tickets.</p>
</div>
</div>
</div>
</div>