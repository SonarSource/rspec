== Resources

=== Documentation

* https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.orderby[Enumerable.OrderBy]
* https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.where[Enumerable.Where]

=== Articles & blog posts

* https://stackoverflow.com/questions/7499384/does-the-order-of-linq-functions-matter/7499454#7499454[Jon Skeet's explanation on Stack Overflow]

=== Benchmarks

[options="header"]
|===
|Method | Runtime | Mean | StdDev | Ratio
| OrderByThenWhere | .NET 7.0 | 175.36 ms | 5.101 ms | 1.00
| WhereThenOrderBy | .NET 7.0 | 85.58 ms | 1.697 ms | 0.48
|===

The results were generated by running the following snippet with https://github.com/dotnet/BenchmarkDotNet[BenchmarkDotNet]:

[source,csharp]
----
private IList<int> data;
private static readonly Random Random = new Random();

[Params(1_000_000)]
public int NumberOfEntries;

[GlobalSetup]
public void Setup() =>
    data = Enumerable.Range(0, NumberOfEntries).Select(x => Random.Next(0, NumberOfEntries)).ToList();

[Benchmark(Baseline = true)]
public void OrderByThenWhere() =>
    _ = data.OrderBy(x => x).Where(x => x % 2 == 0 ).ToList();  // OrderBy followed by Where

[Benchmark]
public void WhereThenOrderBy() =>
    _ = data.Where(x => x % 2 == 0 ).OrderBy(x => x).ToList();  // Where followed by OrderBy
----

Hardware configuration:

[source]
----
BenchmarkDotNet=v0.13.5, OS=Windows 10 (10.0.19045.2846/22H2/2022Update)
12th Gen Intel Core i7-12800H, 1 CPU, 20 logical and 14 physical cores
.NET SDK=7.0.203
  [Host]               : .NET 7.0.5 (7.0.523.17405), X64 RyuJIT AVX2
  .NET 7.0             : .NET 7.0.5 (7.0.523.17405), X64 RyuJIT AVX2
----
