include::../opensearch_description.adoc[]

include::../ask-yourself.adoc[]

include::../opensearch_recommended.adoc[]

== Sensitive Code Example

For https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_opensearchservice.Domain.html[aws-cdk-lib.aws_opensearchservice.Domain]:

[source,javascript]
----
import { aws_opensearchservice as opensearchservice } from 'aws-cdk-lib';

const exampleDomain = new opensearchservice.CfnDomain(this, 'ExampleDomain', {
  version: EngineVersion.OPENSEARCH_1_3,
}); # Sensitive, encryption must be explicitly enabled
----

For https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_opensearchservice.CfnDomain.html[aws-cdk-lib.aws_opensearchservice.CfnDomain]:

[source,javascript]
----
import { aws_opensearchservice as opensearchservice } from 'aws-cdk-lib';

const exampleCfnDomain = new opensearchservice.CfnDomain(this, 'ExampleCfnDomain', {
  version: EngineVersion.OPENSEARCH_1_3,
}); # Sensitive, encryption must be explicitly enabled
----

== Compliant Solution

For https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_opensearchservice.Domain.html[aws-cdk-lib.aws_opensearchservice.Domain]:

[source,javascript]
----
import { aws_opensearchservice as opensearchservice } from 'aws-cdk-lib';

const exampleDomain = new Domain(this, 'ExampleDomain', {
  version: EngineVersion.OPENSEARCH_1_3,
  encryptionAtRestOptions: {
    enabled: true,
    kmsKeyId: 'kmsKeyId',
  },
});
----

For https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_opensearchservice.CfnDomain.html[aws-cdk-lib.aws_opensearchservice.CfnDomain]:

[source,javascript]
----
import { aws_opensearchservice as opensearchservice } from 'aws-cdk-lib';

const exampleCfnDomain = new opensearchservice.CfnDomain(this, 'ExampleCfnDomain', {
  encryptionAtRestOptions: {
    enabled: true,
    kmsKeyId: 'kmsKeyId',
  },
});
----


include::../opensearch_see.adoc[]

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

include::message.adoc[]

endif::env-github,rspecator-view[]
