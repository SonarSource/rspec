This rule raises an issue when a SOQL query lacks a LIMIT clause and could potentially return more than 50,000 records.

== Why is this an issue?

Salesforce enforces a governor limit of 50,000 records per SOQL query to maintain platform performance and stability. When a query exceeds this limit, it throws a ``++LimitException: Too many query rows: 50001++`` error, causing your code to fail.

Unlimited queries pose several risks:

* **Runtime failures**: Your application will crash when the query returns too many records
* **Performance degradation**: Large result sets consume more memory and processing time
* **Unpredictable behavior**: Query results may vary between environments based on data volume
* **Resource consumption**: Excessive memory usage can impact other operations

This limit is a hard governor limit in Salesforce, meaning it cannot be increased by contacting support. The only solution is to design queries that respect this constraint from the start.

Queries without LIMIT clauses are particularly risky when:

* Querying large standard objects like Account, Contact, or Lead
* Using broad WHERE conditions that don't significantly filter results
* Working with custom objects that may grow over time
* Running in production environments with substantial data volumes

=== What is the potential impact?

Applications will fail with runtime exceptions when queries exceed 50,000 records. This can cause business processes to halt, data synchronization to fail, and user workflows to break unexpectedly.

== How to fix it

Add a LIMIT clause to restrict the number of records returned. Combine with appropriate WHERE conditions to filter results effectively.

=== Code examples

==== Noncompliant code example

[source,apex,diff-id=1,diff-type=noncompliant]
----
List<Account> accounts = [SELECT Id FROM Account]; // Noncompliant
----

==== Compliant solution

[source,apex,diff-id=1,diff-type=compliant]
----
List<Account> accounts = [SELECT Id FROM Account WHERE CreatedDate = TODAY LIMIT 10000];
----

== Resources

=== Documentation

 * SOQL and SOSL Limits - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_gov_limits.htm[Official Salesforce documentation on governor limits including query row limits]

 * SOQL Best Practices - https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_best_practices.htm[Salesforce best practices for writing efficient SOQL queries]

 * Batch Apex Developer Guide - https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_batch.htm[Guide for processing large data sets using Batch Apex]

=== Standards

 * CWE-400: Uncontrolled Resource Consumption - https://cwe.mitre.org/data/definitions/400.html[Relates to consuming excessive resources without proper limits]
