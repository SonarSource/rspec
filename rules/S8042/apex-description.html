<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a builder class method that sets a property returns <code>void</code> instead of returning the builder instance.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Builder design pattern is used to construct complex objects step by step through a fluent interface. One of the key benefits of this pattern is method chaining, which allows developers to write readable, expressive code like <code>builder.setName("John").setAge(25).build()</code>.</p>
</div>
<div class="paragraph">
<p>When builder methods return <code>void</code> instead of the builder instance, method chaining becomes impossible. This forces developers to write verbose code with multiple separate statements, reducing the readability and fluency that makes the Builder pattern attractive.</p>
</div>
<div class="paragraph">
<p>Method chaining in builders creates a more natural, English-like syntax that clearly expresses the intent of constructing an object with specific properties. Without it, the builder loses much of its ergonomic advantage over traditional constructors or setter methods.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>The code becomes more verbose and less readable. Developers lose the fluent interface benefits that make the Builder pattern attractive, potentially leading to inconsistent usage patterns and reduced code maintainability.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Change the return type of builder methods from <code>void</code> to the builder class type, and return <code>this</code> at the end of each method.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class AccountBuilder {
    private String name;
    private String type;

    public void setName(String name) { // Noncompliant
        this.name = name;
    }

    public void setType(String type) { // Noncompliant
        this.type = type;
    }

    public Account build() {
        return new Account(Name = name, Type = type);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class AccountBuilder {
    private String name;
    private String type;

    public AccountBuilder setName(String name) {
        this.name = name;
        return this;
    }

    public AccountBuilder setType(String type) {
        this.type = type;
        return this;
    }

    public Account build() {
        return new Account(Name = name, Type = type);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Apex Design Patterns - Builder Pattern - <a href="https://www.apexhours.com/apex-design-patterns">Overview of design patterns in Apex including the Builder pattern</a></p>
</li>
<li>
<p>Builder Pattern in Salesforce - <a href="https://www.apexhours.com/builder-pattern-in-salesforce/">Detailed explanation of implementing the Builder pattern in Salesforce Apex</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>