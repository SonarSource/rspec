<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The use of dynamic memory can lead to out-of-storage run-time failures, which are undesirable.</p>
</div>
<div class="paragraph">
<p>The built-in <code>new</code> and <code>delete</code> operators, other than the placement versions, use dynamic heap memory. The functions <code>calloc</code>, <code>malloc</code>, <code>realloc</code> and <code>free</code> also use dynamic heap memory.</p>
</div>
<div class="paragraph">
<p>There is a range of unspecified, undefined and implementation-defined behaviour associated with dynamic memory allocation, as well as a number of other potential pitfalls. Dynamic heap memory allocation may lead to memory leaks, data inconsistency, memory exhaustion, non-deterministic behaviour, etc.</p>
</div>
<div class="paragraph">
<p>Note that some implementations may use dynamic heap memory allocation to implement other functions (for example, functions in the library <code>cstring</code>). If this is the case, then these functions shall also be avoided.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int *b;
void initialize()
{
  b = (int*) malloc(1024 * sizeof(int)); // Noncompliant, could lead to an out-of-storage run-time failure.
  if (b == 0)
  {
    // handle case when dynamic allocation failed.
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">int b[1024]; // Compliant solution.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C:2004, 20.4 - Dynamic heap memory allocation shall not be used.</p>
</li>
<li>
<p>MISRA C&#43;&#43; 2008, 18-4-1 - Dynamic heap memory allocation shall not be used.</p>
</li>
<li>
<p>MISRA C:2012, 21.3 The memory allocation and deallocation functions of &lt;stdlib.h&gt; shall not be used</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this usage of function "xxx".</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_related_to_s5502">is related to: <a data-rspec-id="S5502" class="rspec-auto-link">S5502</a></h3>

</div>
<div class="sect2">
<h3 id="_on_23_oct_2014_161215_ann_campbell_wrote">on 23 Oct 2014, 16:12:15 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] I know you&#8217;re working from the MISRA descriptions but I have to ask you to add code examples on this one, both Noncompliant and Compliant. If you can&#8217;t use malloc/alloc/calloc/realloc and you can&#8217;t use new, then we have to show what you <em>can</em> use.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_oct_2014_161911_samuel_mercier_wrote">on 23 Oct 2014, 16:19:11 Samuel Mercier wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I just hope our customers won&#8217;t read the compliant solution, because as soon as they will require a dynamic size this rule will report issues they can&#8217;t fix :)</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_oct_2014_201818_ann_campbell_wrote">on 23 Oct 2014, 20:18:18 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] I was really hoping there was some 3rd way to get memory in C that I didn&#8217;t know about, but my worst fear has been realized. This rule is: Only automatically-allocated memory should be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_oct_2014_155029_ann_campbell_wrote">on 24 Oct 2014, 15:50:29 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] FYI, I tightened up the description</p>
</div>
</div>
</div>
</div>