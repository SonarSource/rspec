<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when error reporting functions include only partial error information while additional error details are available in scope.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When errors occur, complete information is essential for effective debugging. Including only partial error details, such as error types or contexts, while omitting the actual error values makes troubleshooting significantly more difficult.</p>
</div>
<div class="paragraph">
<p>In Go, errors often contain specific details about what went wrong, including stack traces, underlying causes, and contextual information. When developers report errors using functions like <code>t.Fatalf()</code>, <code>log.Printf()</code>, or similar logging mechanisms, they sometimes include only generic error types (like <code>context.DeadlineExceeded</code>) or partial context, while the actual error variable containing detailed information remains unused.</p>
</div>
<div class="paragraph">
<p>This practice creates several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Incomplete debugging information</strong>: Developers trying to fix issues lack the specific details needed to understand the root cause</p>
</li>
<li>
<p><strong>Increased debugging time</strong>: Without complete error information, developers must spend additional time reproducing issues or adding more logging</p>
</li>
<li>
<p><strong>Missed error patterns</strong>: Specific error details might reveal patterns or common causes that generic error types don&#8217;t show</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Complete error reporting helps teams identify issues faster, understand their scope, and implement more targeted fixes.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Incomplete error reporting significantly increases debugging time and effort. Developers may struggle to identify root causes of failures, leading to longer resolution times and potentially missing critical issues. In production environments, this can result in prolonged outages or unresolved problems that affect system reliability.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Include all available error information in error messages. When both error context and error variables are available, include both in the error message to provide complete debugging information.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func processWorkflow() {
    err := executeWorkflow()
    if err != nil {
        t.Fatalf("executeWorkflow error: %v", context.DeadlineExceeded) // Noncompliant
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-go" data-lang="go">func processWorkflow() {
    err := executeWorkflow()
    if err != nil {
        t.Fatalf("executeWorkflow error: %v, err: %v", context.DeadlineExceeded, err)
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Go Error Handling - <a href="https://go.dev/blog/error-handling-and-go">Official Go blog post about error handling best practices</a></p>
</li>
<li>
<p>Effective Go - Errors - <a href="https://go.dev/doc/effective_go#errors">Official Go documentation on error handling patterns</a></p>
</li>
<li>
<p>Go Testing Package - <a href="https://pkg.go.dev/testing">Documentation for Go&#8217;s testing package and error reporting functions</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-209: Generation of Error Message Containing Sensitive Information - <a href="https://cwe.mitre.org/data/definitions/209.html">While this rule promotes including more error information, care should be taken not to expose sensitive data</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S2698" class="rspec-auto-link">RSPEC-2698</a> - <a href="https://rules.sonarsource.com/java/RSPEC-2698/">Java rule for including complete error information in test assertions</a></p>
</li>
<li>
<p><a data-rspec-id="S6423" class="rspec-auto-link">RSPEC-6423</a> - <a href="https://rules.sonarsource.com/csharp/RSPEC-6423/">C# rule for comprehensive error reporting in tests</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>