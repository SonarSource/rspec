<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when variables are referenced using the unbraced form <code>$var</code> instead of the braced form <code>${var}</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the unbraced form <code>$var</code> for variable references can lead to several problems in shell scripts.</p>
</div>
<div class="paragraph">
<p>First, it creates inconsistency in your code. When some variables use <code>$var</code> and others use <code>${var}</code>, the script becomes harder to read and maintain. Consistent formatting helps developers quickly understand the code structure.</p>
</div>
<div class="paragraph">
<p>Second, the unbraced form can cause ambiguity issues. Consider a scenario where you want to append text directly after a variable name, like <code>$varname_suffix</code>. The shell interpreter cannot determine where the variable name ends and the literal text begins. This often leads to unexpected behavior or empty output.</p>
</div>
<div class="paragraph">
<p>Third, using braces makes your intentions explicit. The <code>${var}</code> form clearly delimits the variable name, making the code more readable and less prone to parsing errors. This is especially important in complex expressions or when variables are embedded within strings.
Finally, adopting the braced form as a standard practice prepares your code for more advanced parameter expansion features that shell provides, such as <code>${var:-default}</code> or <code>${var#prefix}</code>. Starting with consistent bracing makes it easier to enhance your scripts later.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using unbraced variable references can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unexpected behavior when variable names are followed by characters that could be part of the variable name</p>
</li>
<li>
<p>Reduced code readability and maintainability</p>
</li>
<li>
<p>Inconsistent coding style across the codebase</p>
</li>
<li>
<p>Potential bugs when refactoring or extending variable usage</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Replace unbraced variable references with braced form. Wrap the variable name in curly braces <code>${}</code>.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">echo $var
echo "Hello $name!"
file_path=$dir/file.txt</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">echo "${var}"
echo "Hello ${name}!"
file_path="${dir}/file.txt"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Bash Parameter Expansion - <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html">Official Bash manual section on parameter expansion and variable referencing</a></p>
</li>
<li>
<p>Bash Best Practices Guide - <a href="https://bertvv.github.io/cheat-sheets/Bash.html">Comprehensive guide to Bash scripting best practices including variable handling</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>Google Shell Style Guide - <a href="https://google.github.io/styleguide/shellguide.html#s7.3-variable-expansion">Google&#8217;s style guide recommending braced variable expansion</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>