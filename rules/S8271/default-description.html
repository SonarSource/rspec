<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a class contains getter and setter methods for the same property where one method is synchronized and the other is not.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When getter and setter methods have inconsistent synchronization, it creates a race condition vulnerability in multithreaded applications.</p>
</div>
<div class="paragraph">
<p>In concurrent programming, object state must be protected consistently across all access methods. If a setter method is synchronized but its corresponding getter is not (or vice versa), threads can observe inconsistent or partially updated state.</p>
</div>
<div class="paragraph">
<p>For example, consider a scenario where one thread calls the synchronized setter to update a property while another thread simultaneously calls the unsynchronized getter. The getter thread might read the property while it&#8217;s being modified, potentially seeing an invalid intermediate state.</p>
</div>
<div class="paragraph">
<p>This inconsistency can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Data races</strong>: Multiple threads accessing shared data without proper coordination</p>
</li>
<li>
<p><strong>Inconsistent object state</strong>: Threads may observe objects in invalid states</p>
</li>
<li>
<p><strong>Unpredictable behavior</strong>: The application may work correctly in single-threaded scenarios but fail unpredictably under concurrent load</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is particularly subtle because it may not manifest during development or testing, only appearing under specific timing conditions in production environments.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This synchronization inconsistency can cause data corruption, application crashes, or incorrect business logic execution in multithreaded environments. The impact severity depends on the criticality of the affected data and how frequently the methods are called concurrently.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make both the getter and setter methods synchronized to ensure consistent access to the shared property.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">class Person {
    String name

    synchronized void setName(String name) {
        this.name = name
    }

    String getName() { // Noncompliant
        return name
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">class Person {
    String name

    synchronized void setName(String name) {
        this.name = name
    }

    synchronized String getName() {
        return name
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Java Concurrency in Practice - <a href="https://jcip.net/">Comprehensive guide to concurrent programming in Java, covering synchronization patterns and best practices</a></p>
</li>
<li>
<p>Oracle Java Documentation - Synchronized Methods - <a href="https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html">Official Java tutorial on synchronized methods and their proper usage</a></p>
</li>
<li>
<p>Groovy Documentation - Concurrency - <a href="https://groovy-lang.org/concurrency.html">Groovy-specific concurrency features and synchronization mechanisms</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-362: Concurrent Execution using Shared Resource with Improper Synchronization - <a href="https://cwe.mitre.org/data/definitions/362.html">Describes race conditions that occur when multiple threads access shared resources without proper synchronization</a></p>
</li>
<li>
<p>CWE-567: Unsynchronized Access to Shared Data in a Multithreaded Context - <a href="https://cwe.mitre.org/data/definitions/567.html">Covers vulnerabilities arising from unsynchronized access to shared data structures</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S2886" class="rspec-auto-link">RSPEC-2886</a> - <a href="https://rules.sonarsource.com/java/RSPEC-2886/">Java equivalent rule for getter and setter synchronization consistency</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>