This rule raises an issue when `DateTime.strptime` or `Time.strptime` methods are used without timezone specifiers in the format string.

== Why is this an issue?

When parsing date strings without explicit timezone information, Ruby's `strptime` methods create time objects that may not represent the intended moment in time. This happens because these methods make assumptions about the timezone when none is specified.

For example, `DateTime.strptime("10-26-2011 10:16:29", "%m-%d-%Y %H:%M:%S")` creates a DateTime object in the system's local timezone, but the original string might have been intended to represent a time in a different timezone.

This ambiguity becomes particularly problematic in applications that:

* Serve users across multiple timezones
* Process data from different geographical locations
* Store or transmit time information between systems
* Handle user input where the timezone context is important

The issue is often subtle and may not be immediately apparent during development, especially if developers and users are in the same timezone. However, it can cause serious problems in production when the application is used globally.

=== What is the potential impact?

Incorrect time interpretation can lead to:

* Scheduling errors in applications (meetings, reminders, deadlines)
* Data corruption when times are stored or transmitted incorrectly
* Business logic failures in time-sensitive operations
* Poor user experience when displayed times don't match user expectations
* Compliance issues in systems that require accurate time tracking

== How to fix it

Include timezone information in the format string when parsing dates. This ensures the parsed time represents the correct moment regardless of the system's local timezone.

=== Code examples

==== Noncompliant code example

[source,ruby,diff-id=1,diff-type=noncompliant]
----
# Parsing without timezone - ambiguous result
DateTime.strptime("10-26-2011 10:16:29", "%m-%d-%Y %H:%M:%S") // Noncompliant
----

==== Compliant solution

[source,ruby,diff-id=1,diff-type=compliant]
----
# Include timezone in format string
DateTime.strptime("10-26-2011 10:16:29 CET", "%m-%d-%Y %H:%M:%S %Z")
----

== How to fix it in Rails

In Rails applications, use `Time.zone.strptime` or wrap parsing in a timezone block to ensure consistent timezone handling within the application's configured timezone.

=== Code examples

==== Noncompliant code example

[source,ruby,diff-id=2,diff-type=noncompliant]
----
# Rails app parsing without timezone context
DateTime.strptime(user_input, "%m/%d/%Y %H:%M") // Noncompliant
----

==== Compliant solution

[source,ruby,diff-id=2,diff-type=compliant]
----
# Use Rails timezone-aware parsing
Time.zone.strptime(user_input, "%m/%d/%Y %H:%M")

# Or use timezone block
Time.use_zone("US/Eastern") do
  Time.zone.strptime(user_input, "%m/%d/%Y %H:%M")
end
----

== Resources

=== Documentation

 * Ruby DateTime.strptime Documentation - https://ruby-doc.org/stdlib-3.0.0/libdoc/date/rdoc/DateTime.html#method-c-strptime[Official Ruby documentation for DateTime.strptime method]

 * Ruby Time.strptime Documentation - https://ruby-doc.org/core-3.0.0/Time.html#method-c-strptime[Official Ruby documentation for Time.strptime method]

 * Rails Time Zone Handling Guide - https://guides.rubyonrails.org/active_support_core_extensions.html#time-zones[Rails guide on working with time zones in applications]

=== Standards

 * ISO 8601 - https://en.wikipedia.org/wiki/ISO_8601[International standard for date and time representation including timezone information]
