<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a Flask route handles POST requests and accesses query parameters using <code>request.args</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using query parameters in POST requests violates REST principles and creates poorly designed APIs.</p>
</div>
<div class="paragraph">
<p>In RESTful design, POST requests should use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Path parameters to identify resources (e.g., <code>/users/123</code>)</p>
</li>
<li>
<p>Request body to send data payload</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Query parameters in POST requests have several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>They expose internal implementation details in the URL</p>
</li>
<li>
<p>They make APIs less intuitive and harder to understand</p>
</li>
<li>
<p>They can reveal sensitive information in server logs, browser history, and referrer headers</p>
</li>
<li>
<p>They violate the principle that POST data should be in the request body</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, using <code>POST /resource?key=listOfUsers/user1</code> exposes the internal XPath structure. This tight coupling between the URL and internal data structure makes the API fragile and harder to maintain.</p>
</div>
<div class="paragraph">
<p>Proper RESTful design keeps resource identification in the path and data in the body, creating cleaner, more maintainable APIs.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This design flaw can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Poor API usability and developer experience</p>
</li>
<li>
<p>Exposure of internal implementation details</p>
</li>
<li>
<p>Security risks from sensitive data in URLs</p>
</li>
<li>
<p>Maintenance difficulties due to tight coupling</p>
</li>
<li>
<p>Violation of REST principles affecting API consistency</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use path parameters for resource identification and request body for data. Replace query parameters with proper RESTful URL design.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route('/resource', methods=['POST'])
def update_text():
    key = request.args.get('key')  # Noncompliant
    data = request.get_data()
    # Process using key from query parameter
    return 'Updated'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">@app.route('/users/&lt;user_id&gt;', methods=['POST'])
def update_user(user_id):
    data = request.get_json()  # Get data from request body
    # Process user_id from path parameter
    return 'Updated'</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Flask URL Route Registrations - <a href="https://flask.palletsprojects.com/en/2.3.x/api/#url-route-registrations">Official Flask documentation on URL routing and path parameters</a></p>
</li>
<li>
<p>RESTful API Design Best Practices - <a href="https://restfulapi.net/rest-api-design-tutorial-with-example/">Comprehensive guide to RESTful API design principles</a></p>
</li>
<li>
<p>Flask Request Object - <a href="https://flask.palletsprojects.com/en/2.3.x/api/#flask.Request">Documentation for Flask&#8217;s request object and data access methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>