<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring&#8217;s <code>@Bean</code> annotation allows developers to specify callback methods that will be invoked at the creation and destruction of the bean using the <code>initMethod</code> and <code>destroyMethod</code> identifiers.
However, because these methods are referred to using their names as strings rather than references, it is easy to introduce typos that break the link.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Referencing a non-existing init or destroy method will make your application fail at startup.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reference a method in the type hierarchy of the bean type.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Component
public class ParentBean {
    public void open() {
        /* Do something */
    }
}

@Component
public class MyBean extends ParentBean {
    public void close() {
        /* Do something */
    }
}

@Component
public class SomeComponent {
  @Bean(
    initMethod="aupen",   // Noncompliant, the initMethod parameter does not match an existing method
    destroyMethod="klose" // Noncompliant, the destroyMethod parameter does not match an existing method
  )
  public MyBean getMeABean() {
    return new MyBean();
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Component
public class ParentBean {
    public void open() {
        /* Do something */
    }
}

@Component
public class MyBean extends ParentBean {
    public void close() {
        /* Do something */
    }
}

@Component
public class SomeComponent {
  @Bean(
    initMethod="open",    // Compliant
    destroyMethod="close" // Compliant
  )
  public MyBean getMeABean() {
    return new MyBean();
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pitfalls">Pitfalls</h3>
<div class="paragraph">
<p>Eligible init/destroy methods must be parameter-free.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.spring.io/spring-framework/reference/core/beans/java/bean-annotation.html">Using the @Bean annotation :: Spring Framework</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>