<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when <code>NotImplemented</code> is used in a boolean context, such as in <code>if</code> statements, logical operations, or explicit boolean conversion.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting with Python 3.14, using <code>NotImplemented</code> in boolean contexts raises a <code>TypeError</code>. This change was introduced to prevent confusion and bugs that could arise from the implicit boolean evaluation of <code>NotImplemented</code>.</p>
</div>
<div class="paragraph">
<p>Previously, <code>NotImplemented</code> would evaluate to <code>True</code> in boolean contexts, which could lead to unexpected behavior in code that was meant to check whether an operation was actually implemented. The <code>NotImplemented</code> singleton is specifically designed to be returned by binary special methods (like <code>__eq__</code>, <code>__lt__</code>, etc.) to indicate that the operation is not supported for the given operand types, and should be compared explicitly using identity checks.</p>
</div>
<div class="paragraph">
<p>This breaking change was preceded by a <code>DeprecationWarning</code> since Python 3.9, giving developers time to update their code. The change ensures that <code>NotImplemented</code> is used correctly and prevents subtle bugs in comparison operations and other contexts where boolean evaluation might occur unintentionally.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Code using <code>NotImplemented</code> in boolean contexts will raise a <code>TypeError</code> at runtime in Python 3.14 and later versions. This can cause application crashes and unexpected behavior. The impact is particularly significant for libraries implementing custom comparison operators or arithmetic operations that return <code>NotImplemented</code> and then check its value incorrectly.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace boolean evaluation of <code>NotImplemented</code> with explicit identity checks using <code>is</code> or <code>is not</code>. This clearly expresses the intent to check whether the operation was implemented.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def __eq__(self, other):
    result = NotImplemented
    if result:  # Noncompliant
        return True
    return False</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">def __eq__(self, other):
    result = NotImplemented
    if result is not NotImplemented:
        return True
    return False</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Python 3.14 What&#8217;s New - NotImplemented Changes - <a href="https://docs.python.org/3.14/whatsnew/3.14.html#other-language-changes">Official documentation about the NotImplemented boolean context change in Python 3.14</a></p>
</li>
<li>
<p>Python Data Model - NotImplemented - <a href="https://docs.python.org/3/library/constants.html#NotImplemented">Documentation about the NotImplemented constant and its proper usage</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>PEP 8 - Style Guide for Python Code - <a href="https://peps.python.org/pep-0008/">Python style guide that recommends explicit comparisons for singleton objects</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>