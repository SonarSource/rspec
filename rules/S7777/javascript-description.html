<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when code converts a Set to an array using the spread operator and then accesses the <code>length</code> property, instead of directly using the Set&#8217;s <code>size</code> property.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you need to get the number of elements in a Set, accessing the <code>size</code> property directly is more efficient than first converting the Set to an array.</p>
</div>
<div class="paragraph">
<p>The pattern <code>[&#8230;&#8203;new Set(array)].length</code> creates unnecessary overhead because:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The spread operator <code>&#8230;&#8203;</code> creates a new array from the Set</p>
</li>
<li>
<p>This array creation requires additional memory allocation</p>
</li>
<li>
<p>The operation takes more time than simply reading the <code>size</code> property</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sets have a built-in <code>size</code> property that provides the exact same information without any conversion. This property is specifically designed for this purpose and is both faster and more semantically correct.</p>
</div>
<div class="paragraph">
<p>Using <code>Set#size</code> directly makes your code more readable because it clearly expresses the intent: you want to know how many unique elements there are, not create an array.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue causes unnecessary performance overhead due to array creation and memory allocation. While the impact may be minimal for small datasets, it can become significant when working with large Sets or when this operation is performed frequently in loops or hot code paths.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Replace the array conversion and length access with direct access to the Set&#8217;s size property.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function isUnique(array) {
	return [...new Set(array)].length === array.length; // Noncompliant
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function isUnique(array) {
	return new Set(array).size === array.length;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sindresorhus/eslint-plugin-unicorn#readme">eslint-plugin-unicorn</a> - Rule <a href="https://github.com/sindresorhus/eslint-plugin-unicorn/blob/HEAD/docs/rules/prefer-set-size.md">prefer-set-size</a></p>
</li>
<li>
<p>MDN - Set.prototype.size - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/size">Official documentation for the Set size property</a></p>
</li>
<li>
<p>MDN - Set - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">Complete reference for JavaScript Set objects</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>