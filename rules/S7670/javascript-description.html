<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when code uses Node.js built-in APIs that are not supported in the configured Node.js version range.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using unsupported Node.js built-in APIs can cause runtime errors when the code runs on older Node.js versions that don&#8217;t have those APIs available.</p>
</div>
<div class="paragraph">
<p>Node.js continuously adds new built-in APIs and methods across versions. When you target a specific Node.js version range (typically defined in your <code>package.json</code> engines field), using APIs that were introduced in newer versions will cause your application to fail at runtime on older versions.</p>
</div>
<div class="paragraph">
<p>This rule helps catch these compatibility issues during development by checking static API usage against a database of Node.js API availability. It only detects static APIs like <code>Buffer.from()</code> or <code>fs.promises</code>, not instance methods or dynamic usage patterns.</p>
</div>
<div class="paragraph">
<p>The rule is particularly valuable in environments where you need to support multiple Node.js versions or when deploying to systems with older Node.js installations.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Using unsupported APIs will cause runtime errors like <code>TypeError: undefined is not a function</code> or <code>ReferenceError: API is not defined</code> when the code runs on Node.js versions that don&#8217;t support those APIs. This can lead to application crashes and deployment failures in production environments with older Node.js versions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Remove or replace the unsupported API with an alternative that works in your target Node.js version range. Check the Node.js documentation to find when APIs were introduced.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// Target: Node.js &gt;=12.0.0
const { readFile } = require('fs/promises'); // Noncompliant: fs/promises added in Node.js 14.0.0

// Using newer Buffer method
const buf = Buffer.allocUnsafeSlow(1024); // Noncompliant: added in Node.js 14.0.0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// Target: Node.js &gt;=12.0.0
const { promisify } = require('util');
const fs = require('fs');
const readFile = promisify(fs.readFile);

// Using older Buffer method
const buf = Buffer.allocUnsafe(1024);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Node.js API Documentation - <a href="https://nodejs.org/api/">Official Node.js API documentation showing version availability</a></p>
</li>
<li>
<p>ESLint Plugin N Documentation - <a href="https://github.com/eslint-community/eslint-plugin-n#-configs">Configuration guide for eslint-plugin-n</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related Rules</h3>
<div class="ulist">
<ul>
<li>
<p>n/no-unsupported-features/es-syntax - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unsupported-features/es-syntax.md">Disallow unsupported ECMAScript syntax on the specified version</a></p>
</li>
<li>
<p>n/no-unsupported-features/es-builtins - <a href="https://github.com/eslint-community/eslint-plugin-n/blob/master/docs/rules/no-unsupported-features/es-builtins.md">Disallow unsupported ECMAScript built-ins on the specified version</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>