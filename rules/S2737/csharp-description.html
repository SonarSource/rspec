<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>catch</code> clause that only rethrows the caught exception has the same effect as omitting the <code>catch</code> altogether and letting it bubble up automatically.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">string s = "";
try
{
  s = File.ReadAllText(fileName);
}
catch (Exception e)  // Noncompliant
{
  throw;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such clauses should either be removed or populated with the appropriate logic.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">string s = File.ReadAllText(fileName);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">string s = "";
try
{
  s = File.ReadAllText(fileName);
}
catch (Exception e)
{
  logger.LogError(e);
  throw;
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>This rule will not generate issues for <code>catch</code> blocks if they are followed by a <code>catch</code> block for a more general exception type that does more than just rethrowing the exception.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>var s = ""
try
{
    s = File.ReadAllText(fileName);
}
catch (IOException) // Compliant by exception: removing it would change the logic
{
    throw;
}
catch (Exception)  // Compliant: does more than just rethrow
{
    logger.LogError(e);
    throw;
}</pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Add logic to this catch clause or eliminate it and rethrow the exception automatically.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s1164">is duplicated by: <a data-rspec-id="S1164" class="rspec-auto-link">S1164</a></h3>

</div>
<div class="sect2">
<h3 id="_on_19_mar_2015_180025_ann_campbell_wrote">on 19 Mar 2015, 18:00:25 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] this is assigned to you for an initial sanity check; I realize there may be changes you don&#8217;t realize you need until you start to work on the implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_mar_2015_115956_tamas_vajk_wrote">on 20 Mar 2015, 11:59:56 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>Compliant code examples have been added.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_12_jun_2015_162029_ann_campbell_wrote">on 12 Jun 2015, 16:20:29 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>CodePro: Unnecessary Catch Block</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_jan_2016_111811_tamas_vajk_wrote">on 15 Jan 2016, 11:18:11 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~nicolas.peru] writing <code>throw e;</code> instead of <code>throw;</code> changes the meaning of the C# code. Shouldn&#8217;t we revert the code and add a Java subtask instead?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_jan_2016_135437_ann_campbell_wrote">on 15 Jan 2016, 13:54:37 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>I&#8217;ve reverted [~nicolas.peru] and [~tamas.vajk]. I&#8217;ll create a Java subtask.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_7_mar_2018_135815_janos_gyerik_wrote">on 7 Mar 2018, 13:58:15 Janos Gyerik wrote:</h3>
<div class="paragraph">
<p>I mark this irrelevant for Go: there is no exception handling in Go.</p>
</div>
<div class="paragraph">
<p>Something similar is <a href="https://blog.golang.org/defer-panic-and-recover">panic and recover</a>, but I don&#8217;t think it&#8217;s equivalent, and I think it&#8217;s not close enough to treat it here.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_apr_2019_174829_michael_gumowski_wrote">on 5 Apr 2019, 17:48:29 Michael Gumowski wrote:</h3>
<div class="paragraph">
<p>\[~andrea.guarino] I&#8217;m reverting your change regarding "Sonar way recommended", and only added it to the TypeScript subtask. This change propagates to SonarJava, creating a new QP file "Sonar Way Recommended" which is not used by SonarJava.</p>
</div>
</div>
</div>
</div>