<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when Apex code references Salesforce API versions 7.0 through 30.0, which were retired after the Summer '22 release, or 21.0 through 30.0, which were retired after the Summer '25 release.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Salesforce retired API versions 7.0 through 20.0 after the Summer '22 release, and API version 21.0 through 30.0 after the Summer '25 release, to improve platform security, performance, and maintainability.</p>
</div>
<div class="paragraph">
<p>Using retired API versions creates several critical problems:</p>
</div>
<div class="paragraph">
<p><strong>Functionality Loss</strong>: Retired API versions no longer receive updates or bug fixes. Applications relying on these versions may experience unexpected behavior or complete failure.</p>
</div>
<div class="paragraph">
<p><strong>Security Vulnerabilities</strong>: Older API versions lack modern security enhancements and patches. This exposes applications to potential security risks that have been addressed in newer versions.</p>
</div>
<div class="paragraph">
<p><strong>Integration Failures</strong>: External systems and third-party integrations may stop working when they attempt to connect using retired API versions. This can break critical business processes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it_in_salesforce">How to fix it in Salesforce</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Update API version references to use a supported version (21.0 or higher). Review Salesforce release notes to choose an appropriate current version that supports your required functionality.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">// Making a web service callout with retired API version
HttpRequest req = new HttpRequest();
req.setEndpoint('https://myinstance.salesforce.com/services/data/v20.0/sobjects/Account'); // Noncompliant
req.setMethod('GET');</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">// Making a web service callout with supported API version
HttpRequest req = new HttpRequest();
req.setEndpoint('https://myinstance.salesforce.com/services/data/v58.0/sobjects/Account');
req.setMethod('GET');</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_noncompliant_code_example_2">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">// Web service reference with retired API version
public class MyWebService {
    private static final String API_VERSION = '15.0'; // Noncompliant
    private static final String ENDPOINT = 'https://login.salesforce.com/services/Soap/u/' + API_VERSION;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_2">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">// Web service reference with supported API version
public class MyWebService {
    private static final String API_VERSION = '58.0';
    private static final String ENDPOINT = 'https://login.salesforce.com/services/Soap/u/' + API_VERSION;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Salesforce documentation - <a href="https://help.salesforce.com/s/articleView?id=000380623&amp;type=1">Salesforce Platform API Versions 7.0 through 20.0 Retirement</a></p>
</li>
<li>
<p>Salesforce documentation - <a href="https://help.salesforce.com/s/articleView?id=000389618&amp;type=1">Salesforce Platform API Versions 21.0 through 30.0 Retirement</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>