<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These are the only permitted uses of macros. C&#43;&#43; offers <code>const</code> variable and function templates, which provide a type-safe alternative to the preprocessor.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">#define CLOCK (xtal/16) // Noncompliant, Constant expression
#define PLUS2(X) ((X) + 2) // Noncompliant, Macro expanding to expression
#define PI 3.14159F // Noncompliant, use "const" object instead
#define int32_t long // Noncompliant, use "typedef" instead
#define STARTIF if( // Noncompliant, language redefinition
#define INIT(value) {(value), 0, 0} // Noncompliant, braced initializer
#define HEADER "filename.h" // Noncompliant, string literal

// The following is compliant
#define STOR extern // Compliant, storage class specifier</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MISRA C&#43;&#43;:2008, 16-2-2</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Macro "xxx" is not an include guard, and does not expand to a type qualifier, or a storage class specifier.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s1248">is duplicated by: <a data-rspec-id="S1248" class="rspec-auto-link">S1248</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s971">is related to: <a data-rspec-id="S971" class="rspec-auto-link">S971</a></h3>

</div>
<div class="sect2">
<h3 id="_on_21_oct_2014_183854_ann_campbell_wrote">on 21 Oct 2014, 18:38:54 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] I think you missed the mark on the message. It talks about macro expansion, but the code sample shows macro definitions as being noncompliant.</p>
</div>
<div class="paragraph">
<p>Also, you&#8217;ve tied this to Maintainability, but I think it&#8217;s more than that. See <a href="http://en.wikibooks.org/wiki/C&#43;&#43;_Programming/Programming_Languages/C&#43;&#43;/Code/Compiler/Preprocessor#The_dangers_of_macros">The dangers of macros</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_oct_2014_082943_samuel_mercier_wrote">on 24 Oct 2014, 08:29:43 Samuel Mercier wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I am tempted to say you are right. I am just wondering if we should flag definitions of macros or usage&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If we flag definitions we might have a ton of false positive coming from the standard headers.</p>
</li>
<li>
<p>If we flag usages will have multiple issues for the same definition.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_on_24_oct_2014_145058_ann_campbell_wrote">on 24 Oct 2014, 14:50:58 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~samuel.mercier] are the standard headers really going to be under analysis in a normal situation?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_6_jan_2015_131716_samuel_mercier_wrote">on 6 Jan 2015, 13:17:16 Samuel Mercier wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] correct, we will analyze them, but cannot report issues on them.</p>
</div>
</div>
</div>
</div>