<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned in JUnit5 documentation, it is possible to integrate JUnit4 with JUnit5:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>JUnit provides a gentle migration path via a JUnit Vintage test engine which allows existing tests based on JUnit 3 and JUnit 4 to be executed using the JUnit Platform infrastructure. Since all classes and annotations specific to JUnit Jupiter reside under a new org.junit.jupiter base package, having both JUnit 4 and JUnit Jupiter in the classpath does not lead to any conflicts.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>However, maintaining both systems is a temporary solution. This rule flags all the annotations from JUnit4 which would need to be migrated to JUnit5, hence helping migration of a project.</p>
</div>
<div class="paragraph">
<p>Here is the list of JUnit4 annotations tracked by the rule, with their corresponding annotations in JUnit5:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">JUnit4</th>
<th class="tableblock halign-center valign-top">JUnit5</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.Test</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.Test</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.Before</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.BeforeEach</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.After</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.AfterEach</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.BeforeClass</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.BeforeAll</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.AfterClass</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.AfterAll</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.Ignore</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.Disabled</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that the following annotations might requires some rework of the tests to have JUnit5 equivalent behavior. A simple replacement of the annotation won&#8217;t work immediately:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">JUnit4</th>
<th class="tableblock halign-center valign-top">JUnit5</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.experimental.categories.Category</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.Tag</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.Rule</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension.ExtendWith</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.ClassRule</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension.RegisterExtension</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.runner.RunWith</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension.ExtendWith</code></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package org.foo;

import org.junit.After;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Ignore;
import org.junit.Test;
import org.junit.experimental.categories.Category;
import org.junit.runner.RunWith;

@RunWith(MyJUnit4Runner.class)
public class MyJUnit4Test {

  @BeforeClass
  public static void beforeAll() {
    System.out.println("beforeAll");
  }

  @AfterClass
  public static void afterAll() {
    System.out.println("AfterAll");
  }

  @Before
  public void beforeEach() {
    System.out.println("beforeEach");
  }

  @After
  public void afterEach() {
    System.out.println("afterEach");
  }

  @Test
  public void test1() throws Exception {
    System.out.println("test1");
  }

  public interface SomeTests { /* category marker */ }

  @Test
  @Category(SomeTests.class)
  public void test2() throws Exception {
    System.out.println("test2");
  }

  @Test
  @Ignore("Requires fix of #42")
  public void ignored() throws Exception {
    System.out.println("ignored");
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package org.foo;

import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Tag;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;

@ExtendWith(MyJUnit5Extension.class)
class MyJUnit5Test {

  @BeforeAll
  static void beforeAll() {
    System.out.println("beforeAll");
  }

  @AfterAll
  static void afterAll() {
    System.out.println("afterAll");
  }

  @BeforeEach
  void beforeEach() {
    System.out.println("beforeEach");
  }

  @AfterEach
  void afterEach() {
    System.out.println("afterEach");
  }

  @Test
  void test1() {
    System.out.println("test1");
  }

  @Test
  @Tag("SomeTests")
  void test2() {
    System.out.println("test2");
  }

  @Test
  @Disabled("Requires fix of #42")
  void disabled() {
    System.out.println("ignored");
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://junit.org/junit5/docs/current/user-guide/#migrating-from-junit4">JUnit 5: Migrating from JUnit4</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Change this JUnit4 @XXX to the equivalent JUnit5 @YYYY annotation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>the JUnit4 annotation to be changed</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_4_may_2020_111651_johann_beleites_wrote">on 4 May 2020, 11:16:51 Johann Beleites wrote:</h3>
<div class="paragraph">
<p>Do we want to flag this as an issue whenever we find a JUnit4 annotation? As in, if a developer simply still uses JUnit4 and hasn&#8217;t upgraded to 5 (yet), do we flag the annotations 'because you shouldn&#8217;t be using 4 anymore' or do we want to permit the usage of 4 as long as no 5 has been introduced yet?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_may_2020_113939_michael_gumowski_wrote">on 4 May 2020, 11:39:39 Michael Gumowski wrote:</h3>
<div class="paragraph">
<p>The idea here is that as soon a project wants to migrate from JUnit4 to JUnit5, they will enable this rule (it is not enabled by default). The rule will then flag with an issue (severity bein "info") any use of JUnit4 annotations, to have it changed.</p>
</div>
<div class="paragraph">
<p>So, to me there is no need to think about the automatic enabling process, deciding to use the rule or not is on the user&#8217;s side.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_4_may_2020_134847_johann_beleites_wrote">on 4 May 2020, 13:48:47 Johann Beleites wrote:</h3>
<div class="paragraph">
<p>Cool, thanks for the info! :+1:</p>
</div>
</div>
</div>
</div>