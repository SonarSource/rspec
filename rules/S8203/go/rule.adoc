This rule raises an issue when the error returned by an encoding or decoding operation is ignored.

== Why is this an issue?

Encoding and decoding operations can fail for various reasons, such as malformed input data, type mismatches, or I/O errors. When these errors are ignored, the program may continue executing with incomplete or corrupted data, leading to unpredictable behavior.

In Go, functions that can fail return an error as their last return value. This explicit error handling is a core design principle of the language. Ignoring these errors violates Go's idiomatic error handling patterns and can mask serious problems in your application.

When encoding operations fail silently, you might think data was successfully serialized when it wasn't. When decoding operations fail silently, you might work with zero values or partially populated structures, assuming they contain valid decoded data.

This pattern is particularly dangerous in network communication, file I/O, and data persistence scenarios where data integrity is critical.

=== What is the potential impact?

Ignoring encoding and decoding errors can lead to:

* Data corruption or loss when operations fail silently
* Difficult-to-debug issues where programs behave unexpectedly
* Security vulnerabilities if malformed data is processed without validation
* Poor user experience when errors are not properly communicated
* System instability when downstream code operates on invalid data

== How to fix it

Always capture and handle the error returned by encoding and decoding operations. Use Go's idiomatic error handling pattern to check if the error is not nil and take appropriate action.

=== Code examples

==== Noncompliant code example

[source,go,diff-id=1,diff-type=noncompliant]
----
enc.Encode(data) // Noncompliant: error ignored

var result MyStruct
json.Unmarshal(jsonData, &result) // Noncompliant: error ignored
----

==== Compliant solution

[source,go,diff-id=1,diff-type=compliant]
----
err := enc.Encode(data)
if err != nil {
    log.Printf("encoding failed: %v", err)
    return err
}

var result MyStruct
err := json.Unmarshal(jsonData, &result)
if err != nil {
    return fmt.Errorf("failed to unmarshal JSON: %w", err)
}
----

== Resources

=== Documentation

 * Go Blog: Gobs of data - https://go.dev/blog/gob[Official Go blog post demonstrating proper error handling in encoding operations]

 * Go by Example: Errors - https://gobyexample.com/errors[Tutorial on Go's error handling patterns]

 * Effective Go: Errors - https://go.dev/doc/effective_go#errors[Official Go documentation on error handling best practices]

=== Standards

 * CWE-252: Unchecked Return Value - https://cwe.mitre.org/data/definitions/252.html[Weakness related to ignoring return values that indicate errors or exceptional conditions]
