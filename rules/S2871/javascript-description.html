<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JavaScript provides built-in methods to sort arrays, making it convenient for developers to manipulate data. There are two primary ways to sort an array:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Array.prototype.sort()</code>: This method sorts the elements of an array in place and returns the sorted array.</p>
</li>
<li>
<p><code>Array.prototype.toSorted()</code>: This method is designed to return a new sorted array, leaving the original array unchanged.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default sort order is lexicographic (dictionary) order, based on the string representation of the elements. This means that when sorting an array of strings, numbers, or other elements, they are converted to strings and sorted according to their Unicode code points (UTF-16). For most cases, this default behavior is suitable when sorting an array of strings.</p>
</div>
<div class="paragraph">
<p>However, it&#8217;s essential to be aware of potential pitfalls when sorting arrays of non-string elements, particularly numbers. The lexicographic order may not always produce the expected results for numbers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const numbers = [10, 2, 30, 1, 5];
numbers.sort(); // Noncompliant: lexicographic sort
console.log(numbers); // Output: [1, 10, 2, 30, 5]</code></pre>
</div>
</div>
<div class="paragraph">
<p>To sort numbers correctly, you must provide a custom comparison function that returns the correct ordering:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const numbers = [10, 2, 30, 1, 5];
numbers.sort((a, b) =&gt; a - b);
console.log(numbers); // Output: [1, 2, 5, 10, 30]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Even to sort strings, the default sort order may give unexpected results. Not only does it not support localization, it also doesn&#8217;t fully support Unicode, as it only considers UTF-16 code units. For example, in the code below, <code>"eΔ"</code> is surprisingly before and after <code>"éΔ"</code>. To guarantee that the sorting is reliable and remains as such in the long run, it is necessary to provide a compare function that is both locale and Unicode aware - typically <code>String.localeCompare</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const code1 = '\u00e9\u0394'; // "éΔ"
const code2 = '\u0065\u0301\u0394'; // "éΔ" using Unicode combining marks
const code3 = '\u0065\u0394'; // "eΔ"
console.log([code1, code2, code3].sort()); // Noncompliant: ["éΔ", "eΔ", "éΔ"], "eΔ" position is inconsistent
console.log([code1, code2, code3].sort((a, b) =&gt; a.localeCompare(b))); // ["eΔ", "éΔ", "éΔ"]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code>Array.prototype.sort()</code></a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/toSorted"><code>Array.prototype.toSorted()</code></a></p>
</li>
<li>
<p>MDN web docs - <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare"><code>String.prototype.localeCompare()</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Provide a compare function to avoid sorting elements alphabetically.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_27_apr_2015_125727_linda_martin_wrote">on 27 Apr 2015, 12:57:27 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Assign for review and completion</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_28_apr_2015_132808_ann_campbell_wrote">on 28 Apr 2015, 13:28:08 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Double-check my changes, please [~linda.martin]</p>
</div>
<div class="paragraph">
<p>Also, do you plan to raise this on all arrays, or limit it to when you can tell the array contains numbers?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_apr_2015_091626_linda_martin_wrote">on 29 Apr 2015, 09:16:26 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] That&#8217;s a good question. I think we&#8217;ll do a first implementation and see what are the results and narrow the scope if too much FP shows up.</p>
</div>
<div class="paragraph">
<p>Reviewed.</p>
</div>
</div>
</div>
</div>