include::../description.adoc[]

== Noncompliant Code Example

----
val date = "01/02"

val dateRegex = Regex("(?<month>[0-9]{2})/(?<year>[0-9]{2})")

dateRegex.matchEntire(date)?.groups?.let { matches ->
    checkValidity(matches[1], matches[2]) // Noncompliant - numbers instead of names of groups are used
    checkValidity(matches["day"]) // Noncompliant - there is no group called "day"
}
----
----
val score = "14:1"

val scoreRegex = Regex("(?<player1>[0-9]+):(?<player2>[0-9]+)") // Noncompliant - named groups are never used

if (scoreRegex matches score) {
    checkScore(score)
}
----


== Compliant Solution

----
val date = "01/02"

val dateRegex = Regex("(?<month>[0-9]{2})/(?<year>[0-9]{2})")

dateRegex.matchEntire(date)?.groups?.let { matches ->
    checkValidity(matches["month"], matches["year"])
}
----
----
val score = "14:1"

val scoreRegex = Regex("(?<player1>[0-9]+):(?<player2>[0-9]+)") // Noncompliant - named groups are never used

scoreRegex.matchEntire(score)?.groups?.let { matches ->
    checkScore(matches["player1"])
    checkScore(matches["player2"])
}
----
Or, using comments instead of group names for improving the readability of a regex:

----
val score = "14:1"

val scoreRegex = Regex("""
    ([0-9]+) #player 1
    :
    ([0-9]+) #player 2
""".trimIndent(), RegexOption.COMMENTS)

if (scoreRegex matches score) {
    checkScore(score)
}
----

ifdef::env-github,rspecator-view[]

'''
== Implementation Specification
(visible only on this page)

include::../message.adoc[]

include::../highlighting.adoc[]

endif::env-github,rspecator-view[]
