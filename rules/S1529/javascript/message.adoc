Review this use of bitwise "x" operator; conditional "xx" might have been intended.