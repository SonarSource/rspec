<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Testing <code>for</code> loop termination using an equality operator (<code>==</code> and <code>!=</code>) is dangerous, because it could set up an infinite loop. Using a broader relational operator instead casts a wider net, and makes it harder (but not impossible) to accidentally write an infinite loop.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">for (var i = 1; i != 10; i += 2)  // Noncompliant. Infinite; i goes from 9 straight to 11.
{
  //...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">for (var i = 1; i &lt;= 10; i += 2)  // Compliant
{
  //...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>Equality operators are ignored if the loop counter is not modified within the body of the loop and either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>starts below the ending value and is incremented by 1 on each iteration.</p>
</li>
<li>
<p>starts above the ending value and is decremented by 1 on each iteration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Equality operators are also ignored when the test is against <code>null</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">for (var i = 0; arr[i] != null; i++) {
  // ...
}

for (var i = 0; (item = arr[i]) != null; i++) {
  // ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>CWE - <a href="https://cwe.mitre.org/data/definitions/835">CWE-835 - Loop with Unreachable Exit Condition ('Infinite Loop')</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Replace 'xx' operator with one of '&lt;=', '&gt;=', '&lt;', or '&gt;' comparison operators.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s5312">relates to: <a data-rspec-id="S5312" class="rspec-auto-link">S5312</a></h3>

</div>
<div class="sect2">
<h3 id="_on_19_sep_2014_140215_freddy_mallet_wrote">on 19 Sep 2014, 14:02:15 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I would:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Associate this rule to CWE-835 :\http://cwe.mitre.org/data/definitions/835.html</p>
</li>
<li>
<p>Support the exception MSC21-EX1</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_on_28_sep_2014_165005_evgeny_mandrikov_wrote">on 28 Sep 2014, 16:50:05 Evgeny Mandrikov wrote:</h3>
<div class="paragraph">
<p>IMO both title and description can be improved to make it clear that this rule applicable only to for-loops, but not to all kinds of loops.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_apr_2015_163527_freddy_mallet_wrote">on 15 Apr 2015, 16:35:27 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I&#8217;ve the feeling that this rule title is a bit misleading as "equality" operator is also a "relational" operator: http://en.wikipedia.org/wiki/Relational_operator</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_30_jun_2015_114800_freddy_mallet_wrote">on 30 Jun 2015, 11:48:00 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>The two previous comments have been taken into account.</p>
</div>
</div>
</div>
</div>