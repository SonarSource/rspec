<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when catch blocks are not ordered from most specific to least specific exception types, making some catch blocks unreachable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When multiple catch blocks are used in a try-catch statement, they are evaluated in the order they appear. If a more general exception type (like <code>Exception</code>) is placed before a more specific one (like <code>MathException</code> or <code>DMLException</code>), the specific catch block will never be reached.</p>
</div>
<div class="paragraph">
<p>This happens because the general exception handler will catch all exceptions that match its type or any of its subtypes. Since most specific exceptions inherit from the general <code>Exception</code> class, placing <code>Exception</code> first means it will handle all exceptions, leaving the subsequent specific catch blocks unreachable.</p>
</div>
<div class="paragraph">
<p>Unreachable catch blocks indicate a logical error in exception handling and can lead to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unexpected behavior where specific exception handling logic is never executed</p>
</li>
<li>
<p>Debugging difficulties when trying to understand why certain error handling paths are not triggered</p>
</li>
<li>
<p>Maintenance issues where developers may not realize that their specific exception handling code is ineffective</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>The unreachable catch blocks will never execute, which means specific exception handling logic is bypassed. This can lead to improper error handling, making it harder to diagnose and respond to different types of exceptions appropriately.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reorder the catch blocks so that more specific exception types come before more general ones. Place the general <code>Exception</code> catch block last.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">try {
    Integer result = 10 / 0;
    insert new Account(Name = 'Test');
} catch (Exception ex) { // Noncompliant - too general, placed first
    System.debug('General exception: ' + ex.getMessage());
} catch (MathException ex) {
    System.debug('Math exception: ' + ex.getMessage());
} catch (DMLException ex) {
    System.debug('DML exception: ' + ex.getMessage());
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">try {
    Integer result = 10 / 0;
    insert new Account(Name = 'Test');
} catch (MathException ex) {
    System.debug('Math exception: ' + ex.getMessage());
} catch (DMLException ex) {
    System.debug('DML exception: ' + ex.getMessage());
} catch (Exception ex) { // General exception comes last
    System.debug('General exception: ' + ex.getMessage());
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Apex Exception Handling - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_exception_definition.htm">Official Salesforce documentation on exception handling in Apex</a></p>
</li>
<li>
<p>Exception Handling Best Practices - <a href="https://www.apexhours.com/exception-handling-in-apex">Comprehensive guide on exception handling patterns and best practices in Apex</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S1045" class="rspec-auto-link">RSPEC-1045</a> - <a href="https://rules.sonarsource.com/c/RSPEC-1045">Similar rule for C/C++ about catch block ordering</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>