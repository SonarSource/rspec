<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when conditional expressions in shell scripts combine multiple test conditions with logical operators, making them hard to read and understand.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Complex conditional expressions with multiple logical operators can be difficult to read and understand at first glance. When you see a condition like <code>[ "$#" -ge "1" ] &amp;&amp; [ "$1" = '-h' ] || [ "$1" = '--help' ]</code>, you need to mentally parse the logic to understand what it&#8217;s checking for.</p>
</div>
<div class="paragraph">
<p>Extracting complex conditions into well-named functions serves multiple purposes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Self-documenting code</strong>: A function name like <code>help_wanted()</code> immediately tells you what the condition is checking for, without needing to read the implementation details.</p>
</li>
<li>
<p><strong>Improved readability</strong>: The main logic flow becomes clearer when you can read <code>if help_wanted "$@"</code> instead of parsing multiple test conditions.</p>
</li>
<li>
<p><strong>Reusability</strong>: The extracted function can be used in multiple places throughout the script.</p>
</li>
<li>
<p><strong>Easier testing</strong>: Individual functions can be tested separately, making your script more maintainable.</p>
</li>
<li>
<p><strong>Reduced cognitive load</strong>: Developers can focus on the high-level logic without getting bogged down in the details of each condition.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This practice follows the principle of writing code that expresses intent clearly, making your shell scripts more maintainable and easier for other developers (including your future self) to understand.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Complex conditional expressions reduce code readability and maintainability. They increase the cognitive load required to understand the script&#8217;s logic, making it harder to debug, modify, or extend the code. This can lead to bugs when conditions are misunderstood or incorrectly modified.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Extract the complex conditional expression into a function with a meaningful name that describes what the condition is checking for. Call this function in your if statement instead of using the complex expression directly.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">if [ "$#" -ge "1" ] &amp;&amp; [ "$1" = '-h' ] || [ "$1" = '--help' ]; then  # Noncompliant
  usage
fi</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">help_wanted() {
  [ "$#" -ge "1" ] &amp;&amp; [ "$1" = '-h' ] || [ "$1" = '--help' ]
}

if help_wanted "$@"; then
  usage
fi</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Bash Functions - <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Functions.html">Official Bash manual section on shell functions</a></p>
</li>
<li>
<p>Bash Best Practices - <a href="https://bertvv.github.io/cheat-sheets/Bash.html">Comprehensive guide to Bash scripting best practices</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>Clean Code: Functions - <a href="https://clean-code-developer.com/grades/grade-1-red/#Functions_should_be_small">Clean Code principles for writing small, focused functions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>