<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Objects should be initialized as soon as they are declared. It will be implicitly the case if they have a default constructor, as this latter will be called, but otherwise the initialization must be explicit. Even when an object has a default constructor, it may be interesting to use another more relevant constructor to directly give the the object its right value.</p>
</div>
<div class="paragraph">
<p>Such direct initialization increases the readability of the code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>seeing the initial value of a variable is usually a good indicator of its purpose,</p>
</li>
<li>
<p>waiting until we know a good initial value before declaring a variable can lead to a reduced variable scope,</p>
</li>
<li>
<p>it makes reasoning on the source code simpler: we remove the burden of having to know if a variable is initialized at a specific point in the code,</p>
</li>
<li>
<p>it is a first step that can lead to the possibility of declaring the variable <code>const</code>, which further simplifies reasoning,</p>
</li>
<li>
<p>it is also a first step toward declaring it <code>auto</code>, which could increase readability by shifting the focus away from the exact type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please note that the intent of the rule is not to initialize any variable with some semi-random value, but with the value that is meaningful for this variable.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when a local variable of a built-in or pointer type is declared without an initial value.</p>
</div>
<div class="paragraph">
<p>The related rule <a data-rspec-id="S836" class="rspec-auto-link">S836</a> detects situations when a variable is actually read before being initialized, while this rule promotes the good practice of systematically initializing the variable.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">double init1();
double init2();
double init3();
double init4();

void f(bool b) {
  int i; // Noncompliant
  string s; // Compliant: default constructor will be called, but we could probably find a better value

  double d1; // Noncompliant
  double d2; // Noncompliant
  if (b) {
    d1 = init1();
    d2 = init2();
  } else {
    d1 = init3();
    d2 = init4();
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">double init1();
double init2();
double init3();
double init4();

std::pair&lt;double, double&gt; init(bool b) {
    return b ? std::make_pair(init1(), init2()) : std::make_pair(init3(), init4());
}

void f(bool b) {
  int i = 0;
  string s;

  auto [d1, d2] = init(b);
}

// Or:
void f(bool b) {
  auto [d1, d2] = [b](){
    if (b) {
      return std::make_pair(init1(), init2());
    } else {
      return std::make_pair(init3(), init4());
    }
  }();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>Buffers can be left uninitialized as long as they are written into immediately after their declarations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">  int buf[10]; // allowed but it should be initialized right after the declaration</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>C++ Core Guidelines - <a href="https://github.com/isocpp/CppCoreGuidelines/blob/e49158a/CppCoreGuidelines.md#es20-always-initialize-an-object">ES.20: Always initialize an object</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s836">relates to: <a data-rspec-id="S836" class="rspec-auto-link">S836</a></h3>

</div>
<div class="sect2">
<h3 id="_relates_to_s994">relates to: <a data-rspec-id="S994" class="rspec-auto-link">S994</a></h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s3230">is related to: <a data-rspec-id="S3230" class="rspec-auto-link">S3230</a></h3>

</div>
<div class="sect2">
<h3 id="_on_23_oct_2019_204157_lo誰c_joly_wrote">on 23 Oct 2019, 20:41:57 Lo誰c Joly wrote:</h3>
<div class="paragraph">
<p>Related to <a data-rspec-id="S836" class="rspec-auto-link">RSPEC-836</a>, which is about bug detection, while this one is about good practice&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_oct_2019_211108_lo誰c_joly_wrote">on 23 Oct 2019, 21:11:08 Lo誰c Joly wrote:</h3>
<div class="paragraph">
<p>\[~amelie.renard]:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do you plan to detect the exception? If yes what do you mean by buffer? Just any array?</p>
</li>
<li>
<p>Can you review my changes?</p>
</li>
</ul>
</div>
</div>
</div>
</div>