<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a constructor calls a method before initializing the instance variables that method depends on.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a constructor calls methods before properly initializing instance variables, those methods may operate on uninitialized (null) values. This creates an incomplete object state that can lead to unexpected behavior or runtime failures.</p>
</div>
<div class="paragraph">
<p>In Apex, instance variables are null by default until explicitly initialized. If a constructor calls a method that accesses these uninitialized variables, the method will receive null values instead of the expected data. This is especially problematic with getter methods that return instance variables.</p>
</div>
<div class="paragraph">
<p>For example, if a constructor calls <code>getStatus()</code> before setting the <code>status</code> field, the getter will return null instead of the intended value. This can cause null pointer exceptions in subsequent operations or lead to incorrect program logic.</p>
</div>
<div class="paragraph">
<p>The problem occurs because the constructor hasn&#8217;t finished setting up the object&#8217;s state when the method is called. The method assumes the object is fully initialized, but this assumption is violated.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>This issue can cause null pointer exceptions at runtime when methods try to operate on uninitialized fields. It can also lead to incorrect program logic when methods return null values instead of expected data, potentially causing cascading failures in dependent code.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Initialize all instance variables before calling any methods in the constructor. Move field assignments to the beginning of the constructor, then call methods afterward.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class Foo {
    private String status;

    public Foo(String status) {
        if (getStatus() == 'something') { // Noncompliant
            // Logic here
        }
        this.status = status;
    }

    public String getStatus() {
        return this.status;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-apex" data-lang="apex">public class Foo {
    private String status;

    public Foo(String status) {
        this.status = status; // Initialize first
        if (getStatus() == 'something') {
            // Logic here
        }
    }

    public String getStatus() {
        return this.status;
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Apex Developer Guide - Classes and Objects - <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_classes.htm">Official Salesforce documentation on Apex classes and object initialization</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_standards">Standards</h3>
<div class="ulist">
<ul>
<li>
<p>CWE-665: Improper Initialization - <a href="https://cwe.mitre.org/data/definitions/665.html">The product does not initialize or incorrectly initializes a resource, which might leave the resource in an unexpected state when it is accessed or used</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>