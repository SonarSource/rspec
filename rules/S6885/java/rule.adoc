Use built-in \"Math.clamp\" methods


== Why is this an issue?

In Java 21 a method to clamp value has been added to the Math package. It is now the preferred way to restrict a value to a given interval. Using the built-in method is more readable and less error-prone.

== How to fix it

Replace with \"Math.clamp\".

=== Code examples

==== Noncompliant code example

[source,java,diff-id=1,diff-type=noncompliant]
----
int clampedValue = value > max ? max : value < min ? min : value; // Noncompliant; Replace with \"Math.clamp\"
----

[source,java,diff-id=2,diff-type=noncompliant]
----
int clampedValue = Math.max(min, Math.min(max, value)); // Noncompliant; Replace with \"Math.clamp\"
----

[source,java,diff-id=3,diff-type=noncompliant]
----
int clampedValue = value; // Noncompliant; Replace with \"Math.clamp\"
if(value>max){
  clampedValue = max;
}else if(value<min){
  clampedValue = min;
}
----

==== Compliant solution

[source,java,diff-id=1,diff-type=compliant]
----
int clampedValue = Math.clamp(value, min, max);
----

[source,java,diff-id=2,diff-type=compliant]
----
int clampedValue = Math.clamp(value, min, max);
----

[source,java,diff-id=3,diff-type=compliant]
----
int clampedValue = Math.clamp(value, min, max);
----
