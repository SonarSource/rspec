<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a template string is used without being processed by a template processing function.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Template strings, or t-strings, are a Python 3.14+ feature that creates <code>Template</code>
objects, not regular strings. Unlike f-strings that immediately evaluate to
strings, t-strings require explicit processing by a template processing
function to be useful.</p>
</div>
<div class="paragraph">
<p>When you use a t-string without processing it, you get a <code>Template</code> object that
doesn&#8217;t have a meaningful string representation. This is almost always
unintentional, as developers typically expect string-like behavior similar to
f-strings.</p>
</div>
<div class="paragraph">
<p>The <code>Template</code> object contains the static string parts and interpolated values
separately, allowing for advanced string processing, security checks, and
domain-specific language implementations. However, to get the final string
output, you must pass the template to a processing function.</p>
</div>
<div class="paragraph">
<p>Using an unprocessed template string can lead to unexpected behavior in your application, such as printing object representations instead of formatted strings, or passing the wrong type to functions that expect strings.</p>
</div>
<div class="sect2">
<h3 id="_how_to_fix">How to fix?</h3>
<div class="paragraph">
<p>Process the template string using a template processing function. You can create a simple processing function that mimics f-string behavior, or use more sophisticated processing for advanced use cases.</p>
</div>
<div class="sect3">
<h4 id="_non_compliant_code_example">Non-compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">name = "World"
template = t"Hello {name}"
print(template)  # Noncompliant: prints Template object representation</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_code_example">Compliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">name = "World"
template = t"Hello {name}"
print(process_template(template))  # Process the template first

def process_template(template):
    from my_lib import html
    return html(template)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Python documentation - <a href="https://peps.python.org/pep-0750/">PEP 750</a></p>
</li>
<li>
<p>Python documentation - <a href="https://docs.python.org/3.14/library/string.templatelib.html#template-strings">Template strings</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>