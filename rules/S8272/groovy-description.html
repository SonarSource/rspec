<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule raises an issue when a class declares or overrides the <code>clone()</code> method but does not implement the <code>Cloneable</code> interface.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>Cloneable</code> interface serves as a marker interface that indicates a class supports cloning operations. When a class implements a <code>clone()</code> method without implementing <code>Cloneable</code>, it violates the established Java cloning contract.</p>
</div>
<div class="paragraph">
<p>This violation can lead to several problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Runtime exceptions</strong>: If the <code>clone()</code> method calls <code>super.clone()</code> and the class doesn&#8217;t implement <code>Cloneable</code>, it will throw a <code>CloneNotSupportedException</code> at runtime.</p>
</li>
<li>
<p><strong>Inconsistent behavior</strong>: Other developers and frameworks expect classes with <code>clone()</code> methods to implement <code>Cloneable</code>. Without it, the class may not work correctly with cloning utilities or frameworks.</p>
</li>
<li>
<p><strong>Contract violation</strong>: The Java specification states that classes should implement <code>Cloneable</code> if they support cloning, making this a violation of the language contract.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Cloneable</code> interface acts as a signal to the JVM and other code that the class has been designed to support cloning operations safely.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Without implementing <code>Cloneable</code>, calling the <code>clone()</code> method may result in a <code>CloneNotSupportedException</code> at runtime, causing application crashes. This can lead to unexpected failures in production environments, especially when the cloning functionality is used indirectly through frameworks or libraries.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add the <code>Cloneable</code> interface to the class declaration.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">class ValueClass {
    ValueClass clone() { // Noncompliant
        return new ValueClass()
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">class ValueClass implements Cloneable {
    ValueClass clone() {
        return new ValueClass()
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Oracle Java Documentation - Object.clone() - <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--">Official documentation for the clone() method and Cloneable interface</a></p>
</li>
<li>
<p>Effective Java - Item 13: Override clone judiciously - <a href="https://www.oreilly.com/library/view/effective-java/9780134686097/">Best practices for implementing clone() methods in Java</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_rules">Related rules</h3>
<div class="ulist">
<ul>
<li>
<p><a data-rspec-id="S1182" class="rspec-auto-link">S1182</a> - Classes that override "clone" should be "Cloneable" and call "super.clone()"</p>
</li>
</ul>
</div>
</div>
</div>
</div>