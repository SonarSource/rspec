<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an issue when Rails controllers inherit directly from <code>ActionController::Base</code> instead of <code>ApplicationController</code>, or when specialized controllers (like Avo controllers) inherit from inappropriate base classes that break the intended inheritance chain.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rails follows a convention where controllers should inherit from <code>ApplicationController</code>, which itself inherits from <code>ActionController::Base</code>. This pattern allows you to add application-wide functionality like authentication, authorization, and shared methods in one place.</p>
</div>
<div class="paragraph">
<p>When controllers inherit directly from <code>ActionController::Base</code>, they bypass <code>ApplicationController</code> and miss out on any shared functionality you&#8217;ve defined there. This can lead to inconsistent behavior across your application and make it harder to maintain common controller logic.</p>
</div>
<div class="paragraph">
<p>Similarly, specialized frameworks like Avo have their own inheritance hierarchies. Avo controllers should inherit from <code>Avo::ResourcesController</code> to get framework-specific functionality. When they inherit from <code>ApplicationController</code> or <code>ActionController::Base</code> instead, they lose important framework features and may not work correctly.</p>
</div>
<div class="paragraph">
<p>Following proper inheritance patterns makes your code more maintainable, ensures consistent behavior, and respects the architectural decisions of the frameworks you&#8217;re using.</p>
</div>
<div class="sect2">
<h3 id="_what_is_the_potential_impact">What is the potential impact?</h3>
<div class="paragraph">
<p>Controllers that don&#8217;t follow proper inheritance patterns may miss critical application-wide functionality like authentication, authorization, or error handling. This can create security vulnerabilities, inconsistent user experiences, and maintenance difficulties. Specialized controllers that use incorrect base classes may not function properly within their intended frameworks.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it_in_rails">How to fix it in Rails</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Change standard Rails controllers to inherit from ApplicationController instead of ActionController::Base. This ensures they get all application-wide functionality.</p>
</div>
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class ProductsController &lt; ActionController::Base # Noncompliant
  def index
    @products = Product.all
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class ProductsController &lt; ApplicationController
  def index
    @products = Product.all
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it_in_avo">How to fix it in Avo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Change Avo controllers to inherit from Avo::ResourcesController instead of ApplicationController. This ensures they get all Avo-specific functionality.</p>
</div>
<div class="sect2">
<h3 id="_code_examples_2">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example_2">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class Avo::PostsController &lt; ApplicationController # Noncompliant
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_2">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class Avo::PostsController &lt; Avo::ResourcesController
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Change Avo controllers to inherit from the appropriate Avo base class instead of ActionController::Base. This ensures proper framework integration.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_examples_3">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example_3">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class Avo::UsersController &lt; ActionController::Base # Noncompliant
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution_3">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">class Avo::UsersController &lt; Avo::ResourcesController
end</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Rails Controllers Guide - <a href="https://guides.rubyonrails.org/action_controller_overview.html">Official Rails guide explaining controller inheritance and ApplicationController</a></p>
</li>
<li>
<p>Avo Controllers Documentation - <a href="https://docs.avohq.io/3.0/controllers.html">Documentation on extending Avo controllers and proper inheritance patterns</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>