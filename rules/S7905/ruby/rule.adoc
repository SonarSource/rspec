This is an issue when Rails controllers inherit directly from `ActionController::Base` instead of `ApplicationController`, or when specialized controllers (like Avo controllers) inherit from inappropriate base classes that break the intended inheritance chain.

== Why is this an issue?

Rails follows a convention where controllers should inherit from `ApplicationController`, which itself inherits from `ActionController::Base`. This pattern allows you to add application-wide functionality like authentication, authorization, and shared methods in one place.

When controllers inherit directly from `ActionController::Base`, they bypass `ApplicationController` and miss out on any shared functionality you've defined there. This can lead to inconsistent behavior across your application and make it harder to maintain common controller logic.

Similarly, specialized frameworks like Avo have their own inheritance hierarchies. Avo controllers should inherit from `Avo::ResourcesController` to get framework-specific functionality. When they inherit from `ApplicationController` or `ActionController::Base` instead, they lose important framework features and may not work correctly.

Following proper inheritance patterns makes your code more maintainable, ensures consistent behavior, and respects the architectural decisions of the frameworks you're using.

=== What is the potential impact?

Controllers that don't follow proper inheritance patterns may miss critical application-wide functionality like authentication, authorization, or error handling. This can create security vulnerabilities, inconsistent user experiences, and maintenance difficulties. Specialized controllers that use incorrect base classes may not function properly within their intended frameworks.

== How to fix it in Rails

Change standard Rails controllers to inherit from ApplicationController instead of ActionController::Base. This ensures they get all application-wide functionality.

=== Code examples

==== Noncompliant code example

[source,ruby,diff-id=1,diff-type=noncompliant]
----
class ProductsController < ActionController::Base # Noncompliant
  def index
    @products = Product.all
  end
end
----

==== Compliant solution

[source,ruby,diff-id=1,diff-type=compliant]
----
class ProductsController < ApplicationController
  def index
    @products = Product.all
  end
end
----

== How to fix it in Avo

Change Avo controllers to inherit from Avo::ResourcesController instead of ApplicationController. This ensures they get all Avo-specific functionality.

=== Code examples

==== Noncompliant code example

[source,ruby,diff-id=2,diff-type=noncompliant]
----
class Avo::PostsController < ApplicationController # Noncompliant
end
----

==== Compliant solution

[source,ruby,diff-id=2,diff-type=compliant]
----
class Avo::PostsController < Avo::ResourcesController
end
----

Change Avo controllers to inherit from the appropriate Avo base class instead of ActionController::Base. This ensures proper framework integration.

=== Code examples

==== Noncompliant code example

[source,ruby,diff-id=3,diff-type=noncompliant]
----
class Avo::UsersController < ActionController::Base # Noncompliant
end
----

==== Compliant solution

[source,ruby,diff-id=3,diff-type=compliant]
----
class Avo::UsersController < Avo::ResourcesController
end
----

== Resources

=== Documentation

 * Rails Controllers Guide - https://guides.rubyonrails.org/action_controller_overview.html[Official Rails guide explaining controller inheritance and ApplicationController]

 * Avo Controllers Documentation - https://docs.avohq.io/3.0/controllers.html[Documentation on extending Avo controllers and proper inheritance patterns]
