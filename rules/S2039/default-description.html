<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Failing to explicitly declare the visibility of a member variable could result it in having a visibility you don&#8217;t expect, and potentially leave it open to unexpected modification by other classes.</p>
</div>
<div class="paragraph">
<p>The default access level modifier may be intentional; in that case, this rule can report false positives.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class Ball {
  String color = "red";  // Noncompliant
}
enum A {
  B;
  int a;  // Noncompliant
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class Ball {
  private String color = "red";  // Compliant
}
enum A {
  B;
  private int a;  // Compliant
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="ulist">
<ul>
<li>
<p>Members with comments containing the word <code>modifier</code> are ignored, as it indicates the modifier is intentionally omitted.</p>
</li>
<li>
<p>Members annotated with the <code>@VisibleForTesting</code> annotation are ignored, as it indicates that visibility has been purposely relaxed to make the code testable.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">class Cone {
  @VisibleForTesting
  Logger logger; // Compliant
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Explicitly declare the visibility for "xxx".</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s2950">relates to: <a data-rspec-id="S2950" class="rspec-auto-link">S2950</a></h3>

</div>
<div class="sect2">
<h3 id="_on_16_oct_2014_113650_ann_campbell_wrote">on 16 Oct 2014, 11:36:50 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Not appropriate for PHP</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_may_2019_105533_tibor_blenessy_wrote">on 22 May 2019, 10:55:33 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>I believe this rule is not appropriate for Java also and we should deprecate it.  In Java, no modifier means package visibility, which is a specific kind of visibility, one of the four available "private", "protected", "public" and "package". It is just an unfortunate feature of Java that this access modifier cannot be specified with a specific keyword, but it can&#8217;t be replaced. We have better rules related to access specification like <a data-rspec-id="S2386" class="rspec-auto-link">RSPEC-2386</a></p>
</div>
<div class="paragraph">
<p>cc [~nicolas.harraudeau]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_may_2019_110418_nicolas_harraudeau_wrote">on 22 May 2019, 11:04:18 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>I agree with your reasoning as package visibility is also quite restrictive. I would however first like to check where this rule comes from. In my experience it is rare to use package visibility. It might be a forgotten "private" field, which would then be a code-smell.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_1_jul_2019_103549_tibor_blenessy_wrote">on 1 Jul 2019, 10:35:49 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>\[~nicolas.harraudeau], OK to deprecate this rule?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_jul_2019_093835_tibor_blenessy_wrote">on 29 Jul 2019, 09:38:35 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>\[~nicolas.harraudeau] I would like to make a decision and deprecate this rule, unless you tell me otherwise, I will do it by the end of the week</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_jul_2020_144724_alexandre_gigleux_wrote">on 29 Jul 2020, 14:47:24 Alexandre Gigleux wrote:</h3>
<div class="paragraph">
<p>I change the type from Vulnerability to Code Smell after discussing with AppSec bubble and the fact the same decision was taken for <a data-rspec-id="S1104" class="rspec-auto-link">RSPEC-1104</a>.</p>
</div>
</div>
</div>
</div>