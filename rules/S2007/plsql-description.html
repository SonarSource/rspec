<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When data structures (scalar variables, collections, cursors) are declared in the package specification (not within any specific program), they can be referenced directly by any program running in a session with <code>EXECUTE</code> rights to the package.</p>
</div>
<div class="paragraph">
<p>Instead, declare all package-level data in the package body and provide getter and setter functions in the package specification. Developers can then access the data using these methods and will automatically follow all rules you set upon data modification.</p>
</div>
<div class="paragraph">
<p>By doing so you can guarantee data integrity, change your data structure implementation, and also track access to those data structures.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">-- Package specification
CREATE PACKAGE employee AS
   name VARCHAR2(42); -- Non-Compliant
END employee;
/

DROP PACKAGE employee;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">-- Package specification
CREATE PACKAGE employee AS
   PROCEDURE setName (newName VARCHAR2);
   FUNCTION getName RETURN VARCHAR2;
END employee;
/

-- Package body
CREATE PACKAGE BODY employee AS
   name VARCHAR2(42);

   PROCEDURE setName (newName VARCHAR2) IS
   BEGIN
     name := newName;
   END;

   FUNCTION getName RETURN VARCHAR2 IS
   BEGIN
     RETURN name;
   END;
END employee;
/

DROP PACKAGE BODY employee;

DROP PACKAGE employee;</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move this variable declaration into a program.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_17_sep_2014_112626_freddy_mallet_wrote">on 17 Sep 2014, 11:26:26 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, I discussed this point with @Linda because I guess there is a misunderstanding here &#8594; this rule states the following thing : "doing some functional programming is a bad thing only object oriented programming makes sense", which is obviously highly controversial :). I would simply drop this rule.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_oct_2014_150535_linda_martin_wrote">on 21 Oct 2014, 15:05:35 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Do you think SQALE characteristic could be changed for "Maintainability" ? I&#8217;m not so sure as I&#8217;m not 100% confortable with those characteristics.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_oct_2014_194101_ann_campbell_wrote">on 21 Oct 2014, 19:41:01 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~linda.martin] I would not change the SQALE function. When given a choice, we go with the worse-possible alternative, which in this case is that you&#8217;re writing untestable code.</p>
</div>
<div class="paragraph">
<p>Of course, that takes me back to the original description. I think it would be worthwhile to include the three reasons I listed initially in the description.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_oct_2014_125817_linda_martin_wrote">on 22 Oct 2014, 12:58:17 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I am good with including back the 3 reasons as long as it remains in the context of OOP.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_22_oct_2014_133124_ann_campbell_wrote">on 22 Oct 2014, 13:31:24 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>See what you think [~linda.martin]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_oct_2014_073015_linda_martin_wrote">on 23 Oct 2014, 07:30:15 Linda Martin wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Perfect!</p>
</div>
</div>
</div>
</div>