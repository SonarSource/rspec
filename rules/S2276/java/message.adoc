Replace the call to "Thread.sleep(...)" with a call to "wait(...)".