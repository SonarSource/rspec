<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>C&#43;&#43;20 introduced <code>std::source_location</code> to represent the information about the code point. This class exposes the same information as <code>__FILE__</code>, <code>__LINE__</code>, and <code>__func__</code> and makes passing this information as a single argument possible.</p>
</div>
<div class="paragraph">
<p>Furthermore, the <code>std::source_location::current()</code> function, when used as the default argument of the function parameter, will collect information from the call site. Consequently, this class enables the replacement of various logging macros, with functions accepting <code>std::source_location</code> as a parameter.</p>
</div>
<div class="paragraph">
<p>This rule reports the use of source location-related macros like <code>__FILE__</code>, <code>__LINE__</code>, and <code>__func__</code> which can be replaced by <code>std::source_location</code>.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void log(std::string_view message, std::string_view func, std::uint_least32_t line);

#define TRACE(msg) std::cout &lt;&lt; __FILE__ &lt;&lt; ':' &lt;&lt;__LINE__ &lt;&lt; ' ' &lt;&lt; msg // Noncompliant

void func() {
    log("entering func", __func__, __LINE__);  // Noncompliant
    TRACE("leaving func");
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">void log(std::string_view message, std::source_location loc = std::source_location::current());

std::ostream trace(std::string_view msg,
                   std::source_location location = std::source_location::current()) {
  return std::cout &lt;&lt; location.file_name() &lt;&lt; ':' &lt;&lt; location.line() &lt;&lt; ' ' &lt;&lt; msg;
}

void func() {
    log("entering func");
    // or equivalently log("entering func", std::source_location::current());
    trace("leaving func");
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>C&#43;&#43; reference - <a href="https://en.cppreference.com/w/cpp/utility/source_location">std::source_location</a></p>
</li>
</ul>
</div>
</div>
</div>